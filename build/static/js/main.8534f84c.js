/*! For license information please see main.8534f84c.js.LICENSE.txt */
!function(){var e={6933:function(e,t){var n;window,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=215)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return on})),n.d(t,"c",(function(){return Ge})),n.d(t,"d",(function(){return _e})),n.d(t,"e",(function(){return he})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return Ee})),n.d(t,"h",(function(){return gn})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return we})),n.d(t,"k",(function(){return et})),n.d(t,"l",(function(){return it})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return lt})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return kt})),n.d(t,"q",(function(){return pt})),n.d(t,"r",(function(){return gt})),n.d(t,"s",(function(){return mn})),n.d(t,"t",(function(){return ht})),n.d(t,"u",(function(){return nt})),n.d(t,"v",(function(){return wt})),n.d(t,"w",(function(){return Et})),n.d(t,"x",(function(){return St})),n.d(t,"y",(function(){return tn})),n.d(t,"z",(function(){return an})),n.d(t,"A",(function(){return vn})),n.d(t,"B",(function(){return Ot})),n.d(t,"C",(function(){return Y})),n.d(t,"D",(function(){return Ct})),n.d(t,"E",(function(){return ut})),n.d(t,"F",(function(){return st})),n.d(t,"G",(function(){return tt})),n.d(t,"H",(function(){return Ye})),n.d(t,"I",(function(){return Nt})),n.d(t,"J",(function(){return Rt})),n.d(t,"K",(function(){return le})),n.d(t,"L",(function(){return Pt})),n.d(t,"M",(function(){return It}));var i=[];Object.freeze(i);var o={};function a(){return++Re.mobxGuid}function s(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function c(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(o);var l=function(){};function p(e){return null!==e&&"object"===typeof e}function f(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return p(e)&&!0===e[n]}}function y(e){return e instanceof Map}function v(e){return e instanceof Set}function m(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function g(e){return e&&e.toString?e.toString():new String(e).toString()}function b(e){return null===e?null:"object"===typeof e?""+e:e}var x="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,w=Symbol("mobx administration"),E=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Ve(this)},e.prototype.reportChanged=function(){Fe(),function(e){e.lowestObserverState!==J.STALE&&(e.lowestObserverState=J.STALE,e.observers.forEach((function(t){t.dependenciesState===J.UP_TO_DATE&&(t.isTracing!==Q.NONE&&He(t,e),t.onBecomeStale()),t.dependenciesState=J.STALE})))}(this),ze()},e.prototype.toString=function(){return this.name},e}(),_=h("Atom",E);function S(e,t,n){void 0===t&&(t=l),void 0===n&&(n=l);var r,i=new E(e);return t!==l&&ct("onBecomeObserved",i,t,r),n!==l&&ut(i,n),i}var O={identity:function(e,t){return e===t},structural:function(e,t){return xn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return xn(e,t,1)}},P=function(e,t){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},P(e,t)},k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)};function j(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function C(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function T(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e}var M=Symbol("mobx did run lazy initializers"),A=Symbol("mobx pending decorators"),N={},D={};function R(e,t){var n=t?N:D;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return I(this),this[e]},set:function(t){I(this),this[e]=t}})}function I(e){var t,n;if(!0!==e[M]){var r=e[A];if(r){d(e,M,!0);var i=T(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=j(i),a=o.next();!a.done;a=o.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}}function L(e,t){return function(){var n,r=function(r,i,o,a){if(!0===a)return t(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,A)){var s=r[A];d(r,A,k({},s))}return r[A][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},R(i,e)};return B(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function B(e){return(2===e.length||3===e.length)&&("string"===typeof e[1]||"symbol"===typeof e[1])||4===e.length&&!0===e[3]}function F(e,t,n){return St(e)?e:Array.isArray(e)?Y.array(e,{name:n}):f(e)?Y.object(e,void 0,{name:n}):y(e)?Y.map(e,{name:n}):v(e)?Y.set(e,{name:n}):e}function z(e){return e}function V(t){u(t);var n=L(!0,(function(e,n,r,i,o){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;pn(e).addObservableProp(n,a,t)})),r=("undefined"!==typeof e&&e.env,n);return r.enhancer=t,r}var H={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function $(e){return null===e||void 0===e?H:"string"===typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(H);var G=V(F),U=V((function(e,t,n){return void 0===e||null===e||vn(e)||tn(e)||an(e)||cn(e)?e:Array.isArray(e)?Y.array(e,{name:n,deep:!1}):f(e)?Y.object(e,void 0,{name:n,deep:!1}):y(e)?Y.map(e,{name:n,deep:!1}):v(e)?Y.set(e,{name:n,deep:!1}):s(!1)})),W=V(z),X=V((function(e,t,n){return xn(e,t)?t:e}));function Z(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?z:F}var q={box:function(e,t){arguments.length>2&&K("box");var n=$(t);return new Pe(e,Z(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&K("array");var n=$(t);return Yt(e,Z(n),n.name)},map:function(e,t){arguments.length>2&&K("map");var n=$(t);return new on(e,Z(n),n.name)},set:function(e,t){arguments.length>2&&K("set");var n=$(t);return new un(e,Z(n),n.name)},object:function(e,t,n){"string"===typeof arguments[1]&&K("object");var r=$(n);if(!1===r.proxy)return pt({},e,t,r);var i=ft(r),o=pt({},void 0,void 0,r),a=Ht(o);return dt(a,e,t,i),a},ref:W,shallow:U,deep:G,struct:X},Y=function(e,t,n){if("string"===typeof arguments[1]||"symbol"===typeof arguments[1])return G.apply(null,arguments);if(St(e))return e;var r=f(e)?Y.object(e,t,n):Array.isArray(e)?Y.array(e,t):y(e)?Y.map(e,t):v(e)?Y.set(e,t):e;if(r!==e)return r;s(!1)};function K(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(q).forEach((function(e){return Y[e]=q[e]}));var J,Q,ee=L(!1,(function(e,t,n,r,i){var o=n.get,a=n.set,s=i[0]||{};pn(e).addComputedProp(e,t,k({get:o,set:a,context:e},s))})),te=ee({equals:O.structural}),ne=function(e,t,n){if("string"===typeof t)return ee.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return ee.apply(null,arguments);var r="object"===typeof t?t:{};return r.get=e,r.set="function"===typeof t?t:r.set,r.name=r.name||e.name||"",new je(r)};ne.struct=te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(J||(J={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Q||(Q={}));var re=function(e){this.cause=e};function ie(e){return e instanceof re}function oe(e){switch(e.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var t=de(!0),n=pe(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(Ce(a)){if(Re.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return fe(n),he(t),!0}if(e.dependenciesState===J.STALE)return fe(n),he(t),!0}}return ye(e),fe(n),he(t),!1}}function ae(){return null!==Re.trackingDerivation}function se(e){var t=e.observers.size>0;Re.computationDepth>0&&t&&s(!1),Re.allowStateChanges||!t&&"strict"!==Re.enforceActions||s(!1)}function ue(e,t,n){var r=de(!0);ye(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Re.runId;var i,o=Re.trackingDerivation;if(Re.trackingDerivation=e,!0===Re.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new re(a)}return Re.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=J.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++)0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState);for(n.length=i,e.newObserving=null,o=t.length;o--;)0===(s=t[o]).diffValue&&Le(s,e),s.diffValue=0;for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,Ie(s,e))}r!==J.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),he(r),i}function ce(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Le(t[n],e);e.dependenciesState=J.NOT_TRACKING}function le(e){var t=pe();try{return e()}finally{fe(t)}}function pe(){var e=Re.trackingDerivation;return Re.trackingDerivation=null,e}function fe(e){Re.trackingDerivation=e}function de(e){var t=Re.allowStateReads;return Re.allowStateReads=e,t}function he(e){Re.allowStateReads=e}function ye(e){if(e.dependenciesState!==J.UP_TO_DATE){e.dependenciesState=J.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=J.UP_TO_DATE}}var ve=0,me=1,ge=Object.getOwnPropertyDescriptor((function(){}),"name");function be(e,t,n){var r=function(){return xe(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function xe(e,t,n,r){var i=we();try{return t.apply(n,r)}catch(o){throw i.error=o,o}finally{Ee(i)}}function we(e,t,n){var r=pe();Fe();var i={prevDerivation:r,prevAllowStateChanges:Se(!0),prevAllowStateReads:de(!0),notifySpy:!1,startTime:0,actionId:me++,parentActionId:ve};return ve=i.actionId,i}function Ee(e){ve!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),ve=e.parentActionId,void 0!==e.error&&(Re.suppressReactionErrors=!0),Oe(e.prevAllowStateChanges),he(e.prevAllowStateReads),ze(),fe(e.prevDerivation),e.notifySpy,Re.suppressReactionErrors=!1}function _e(e,t){var n,r=Se(e);try{n=t()}finally{Oe(r)}return n}function Se(e){var t=Re.allowStateChanges;return Re.allowStateChanges=e,t}function Oe(e){Re.allowStateChanges=e}ge&&ge.configurable;var Pe=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+a()),void 0===i&&(i=!0),void 0===o&&(o=O.default);var s=e.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=o,s.hasUnreportedChange=!1,s.value=n(t,void 0,r),s}return function(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==Re.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(se(this),$t(this)){var t=Ut(this,{object:this,type:"update",newValue:e});if(!t)return Re.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Re.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Wt(this)&&Zt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Gt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Xt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return b(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(E),ke=h("ObservableValue",Pe),je=function(){function e(e){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new re(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=be(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?O.structural:O.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===J.UP_TO_DATE&&(e.lowestObserverState=J.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===J.UP_TO_DATE&&(t.dependenciesState=J.POSSIBLY_STALE,t.isTracing!==Q.NONE&&He(t,e),t.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Re.inBatch||0!==this.observers.size||this.keepAlive?(Ve(this),oe(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==J.STALE&&(e.lowestObserverState=J.STALE,e.observers.forEach((function(t){t.dependenciesState===J.POSSIBLY_STALE?t.dependenciesState=J.STALE:t.dependenciesState===J.UP_TO_DATE&&(e.lowestObserverState=J.UP_TO_DATE)})))}(this)):oe(this)&&(this.warnAboutUntrackedRead(),Fe(),this.value=this.computeValue(!1),ze());var e=this.value;if(ie(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ie(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=t||ie(e)||ie(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Re.computationDepth++,e)t=ue(this,this.derivation,this.scope);else if(!0===Re.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new re(n)}return Re.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ce(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return it((function(){var o=n.get();if(!r||t){var a=pe();e({type:"update",object:n,newValue:o,oldValue:i}),fe(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return b(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ce=h("ComputedValue",je),Te=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Me={};function Ae(){return"undefined"!==typeof window?window:"undefined"!==typeof r?r:"undefined"!==typeof self?self:Me}var Ne=!0,De=!1,Re=function(){var e=Ae();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ne=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Te).version&&(Ne=!1),Ne?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Te):(setTimeout((function(){De||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Te)}();function Ie(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Le(e,t){e.observers.delete(t),0===e.observers.size&&Be(e)}function Be(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Re.pendingUnobservations.push(e))}function Fe(){Re.inBatch++}function ze(){if(0===--Re.inBatch){We();for(var e=Re.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof je&&n.suspend())}Re.pendingUnobservations=[]}}function Ve(e){var t=Re.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Re.inBatch>0&&Be(e),!1)}function He(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Q.BREAK){var n=[];$e(ht(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof je?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function $e(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return $e(e,t,n+1)})))}var Ge=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+a()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Re.pendingReactions.push(this),We())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Fe(),this._isScheduled=!1,oe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}ze()}},e.prototype.track=function(e){if(!this.isDisposed){Fe(),this._isRunning=!0;var t=ue(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ce(this),ie(t)&&this.reportExceptionInDerivation(t.cause),ze()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Re.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Re.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Re.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Fe(),ce(this),ze()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[w]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"===typeof e[e.length-1]&&(n=e.pop());var r=Dt(e);if(!r)return s(!1);r.isTracing===Q.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Q.BREAK:Q.LOG}(this,e)},e}(),Ue=function(e){return e()};function We(){Re.inBatch>0||Re.isRunningReactions||Ue(Xe)}function Xe(){Re.isRunningReactions=!0;for(var e=Re.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Re.isRunningReactions=!1}var Ze=h("Reaction",Ge);function qe(e){var t=Ue;Ue=function(n){return e((function(){return t(n)}))}}function Ye(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ke(){s(!1)}function Je(e){return function(t,n,r){if(r){if(r.value)return{value:be(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return be(e,i.call(this))}}}return Qe(e).apply(this,arguments)}}function Qe(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,n,et(e,t))}})}}var et=function(e,t,n,r){return 1===arguments.length&&"function"===typeof e?be(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?be(e,t):1===arguments.length&&"string"===typeof e?Je(e):!0!==r?Je(t).apply(null,arguments):void d(e,t,be(e.name||t,n.value,this))};function tt(e,t){return xe("string"===typeof e?e:e.name||"<unnamed action>","function"===typeof e?e:t,this,void 0)}function nt(e){return"function"===typeof e&&!0===e.isMobxAction}function rt(e,t,n){d(e,t,be(t,n.bind(e)))}function it(e,t){void 0===t&&(t=o);var n,r=t&&t.name||e.name||"Autorun@"+a();if(t.scheduler||t.delay){var i=at(t),s=!1;n=new Ge(r,(function(){s||(s=!0,i((function(){s=!1,n.isDisposed||n.track(u)})))}),t.onError,t.requiresObservable)}else n=new Ge(r,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(n)}return n.schedule(),n.getDisposer()}et.bound=function(e,t,n,r){return!0===r?(rt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return rt(this,t,n.value||n.initializer.call(this)),this[t]},set:Ke}:{enumerable:!1,configurable:!0,set:function(e){rt(this,t,e)},get:function(){}}};var ot=function(e){return e()};function at(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ot}function st(e,t,n){void 0===n&&(n=o);var r,i,s,u=n.name||"Reaction@"+a(),c=et(u,n.onError?(r=n.onError,i=t,function(){try{return i.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,p=at(n),f=!0,d=!1,h=n.compareStructural?O.structural:n.equals||O.default,y=new Ge(u,(function(){f||l?v():d||(d=!0,p(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var n=e(y);t=f||!h(s,n),s=n})),f&&n.fireImmediately&&c(s,y),f||!0!==t||c(s,y),f&&(f=!1)}}return y.schedule(),y.getDisposer()}function ut(e,t,n){return ct("onBecomeUnobserved",e,t,n)}function ct(e,t,n,r){var i="function"===typeof r?mn(t,n):mn(t),o="function"===typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!==typeof i[e]?s(!1):function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function lt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.reactionScheduler,a=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Re.pendingReactions.length||Re.inBatch||Re.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),De=!0,Ne&&(0===--Ae().__mobxInstanceCount&&(Ae().__mobxGlobals=void 0),Re=new Te)),void 0!==t){var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Re.enforceActions=c,Re.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Re.computedRequiresReaction=!!n),void 0!==a&&(Re.reactionRequiresObservable=!!a),void 0!==u&&(Re.observableRequiresReaction=!!u,Re.allowStateReads=!Re.observableRequiresReaction),void 0!==r&&(Re.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Re.disableErrorBoundaries=!!i),o&&qe(o)}function pt(e,t,n,r){var i=ft(r=$(r));return I(e),pn(e,r.name,i.enhancer),t&&dt(e,t,n,i),e}function ft(e){return e.defaultDecorator||(!1===e.deep?W:G)}function dt(e,t,n,r){var i,o;Fe();try{var a=x(t);try{for(var s=j(a),u=s.next();!u.done;u=s.next()){var c=u.value,l=Object.getOwnPropertyDescriptor(t,c),p=(n&&c in n?n[c]:l.get?ee:r)(e,c,l,!0);p&&Object.defineProperty(e,c,p)}}catch(f){i={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}finally{ze()}}function ht(e,t){return yt(mn(e,t))}function yt(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}(e.observing).map(yt)),t}var vt=0;function mt(){this.message="FLOW_CANCELLED"}function gt(e){1!==arguments.length&&s("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++vt,a=et(t+" - runid: "+o+" - init",e).apply(r,i),s=void 0,u=new Promise((function(e,r){var i=0;function u(e){var n;s=void 0;try{n=et(t+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(u){return r(u)}l(n)}function c(e){var n;s=void 0;try{n=et(t+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(u){return r(u)}l(n)}function l(t){if(!t||"function"!==typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value)).then(u,c);t.then(l,r)}n=r,u(void 0)}));return u.cancel=et(t+" - runid: "+o+" - cancel",(function(){try{s&&bt(s);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(l,l),bt(t),n(new mt)}catch(r){n(r)}})),u}}function bt(e){"function"===typeof e.cancel&&e.cancel()}function xt(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===vn(e))return!1;if(!e[w].values.has(t))return!1;var n=mn(e,t);return Ce(n)}return Ce(e)}function wt(e){return arguments.length>1?s(!1):xt(e)}function Et(e,t){return"string"!==typeof t?s(!1):xt(e,t)}function _t(e,t){return null!==e&&void 0!==e&&(void 0!==t?!!vn(e)&&e[w].values.has(t):vn(e)||!!e[w]||_(e)||Ze(e)||Ce(e))}function St(e){return 1!==arguments.length&&s(!1),_t(e)}function Ot(e){return vn(e)?e[w].getKeys():an(e)||cn(e)?Array.from(e.keys()):tn(e)?e.map((function(e,t){return t})):s(!1)}function Pt(e){return vn(e)?Ot(e).map((function(t){return e[t]})):an(e)?Ot(e).map((function(t){return e.get(t)})):cn(e)?Array.from(e.values()):tn(e)?e.slice():s(!1)}function kt(e){return vn(e)?Ot(e).map((function(t){return[t,e[t]]})):an(e)?Ot(e).map((function(t){return[t,e.get(t)]})):cn(e)?Array.from(e.entries()):tn(e)?e.map((function(e,t){return[t,e]})):s(!1)}function jt(e,t,n){if(2!==arguments.length||cn(e))if(vn(e)){var r=e[w],i=r.values.get(t);i?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(an(e))e.set(t,n);else if(cn(e))e.add(t);else{if(!tn(e))return s(!1);"number"!==typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),Fe(),t>=e.length&&(e.length=t+1),e[t]=n,ze()}else{Fe();var o=t;try{for(var a in o)jt(e,a,o[a])}finally{ze()}}}function Ct(e,t,n,r){return"function"===typeof n?function(e,t,n,r){return gn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return gn(e).observe(t,n)}(e,t,n)}mt.prototype=Object.create(Error.prototype);var Tt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Mt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function At(e,t,n){if(!t.recurseEverything&&!St(e))return e;if("object"!==typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(ke(e))return At(e.get(),t,n);if(St(e)&&Ot(e),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(tn(e)||Array.isArray(e)){var r=Mt(n,e,[],t),i=e.map((function(e){return At(e,t,n)}));r.length=i.length;for(var o=0,a=i.length;o<a;o++)r[o]=i[o];return r}if(cn(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var s=Mt(n,e,new Set,t);return e.forEach((function(e){s.add(At(e,t,n))})),s}var u=Mt(n,e,[],t);return e.forEach((function(e){u.push(At(e,t,n))})),u}if(an(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var c=Mt(n,e,new Map,t);return e.forEach((function(e,r){c.set(r,At(e,t,n))})),c}var l=Mt(n,e,{},t);return e.forEach((function(e,r){l[r]=At(e,t,n)})),l}var p=Mt(n,e,{},t);return m(e).forEach((function(r){p[r]=At(e[r],t,n)})),p}function Nt(e,t){var n;return"boolean"===typeof t&&(t={detectCycles:t}),t||(t=Tt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),At(e,t,n)}function Dt(e){switch(e.length){case 0:return Re.trackingDerivation;case 1:return mn(e[0]);case 2:return mn(e[0],e[1])}}function Rt(e,t){void 0===t&&(t=void 0),Fe();try{return e.apply(t)}finally{ze()}}function It(e,t,n){return 1===arguments.length||t&&"object"===typeof t?Bt(e,t):Lt(e,t,n||{})}function Lt(e,t,n){var r;"number"===typeof n.timeout&&(r=setTimeout((function(){if(!o[w].isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+a();var i=be(n.name+"-effect",t),o=it((function(t){e()&&(t.dispose(),r&&clearTimeout(r),i())}),n);return o}function Bt(e,t){var n,r=new Promise((function(r,i){var o=Lt(e,r,k(k({},t),{onError:i}));n=function(){o(),i("WHEN_CANCELLED")}}));return r.cancel=n,r}function Ft(e){return e[w]}function zt(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e}var Vt={has:function(e,t){if(t===w||"constructor"===t||t===M)return!0;var n=Ft(e);return zt(t)?n.has(t):t in e},get:function(e,t){if(t===w||"constructor"===t||t===M)return e[t];var n=Ft(e),r=n.values.get(t);if(r instanceof E){var i=r.get();return void 0===i&&n.has(t),i}return zt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!zt(t)&&(jt(e,t,n),!0)},deleteProperty:function(e,t){return!!zt(t)&&(Ft(e).remove(t),!0)},ownKeys:function(e){return Ft(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return s("Dynamic observable objects cannot be frozen"),!1}};function Ht(e){var t=new Proxy(e,Vt);return e[w].proxy=t,t}function $t(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Gt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),c((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ut(e,t){var n=pe();try{for(var r=T(e.interceptors||[]),i=0,o=r.length;i<o&&(u(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{fe(n)}}function Wt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Xt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),c((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Zt(e,t){var n=pe(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);fe(n)}}var qt={get:function(e,t){return t===w?e[w]:"length"===t?e[w].getArrayLength():"number"===typeof t?Jt.get.call(e,t):"string"!==typeof t||isNaN(t)?Jt.hasOwnProperty(t)?Jt[t]:e[t]:Jt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[w].setArrayLength(n),"number"===typeof t&&Jt.set.call(e,t,n),"symbol"===typeof t||isNaN(t)?e[t]=n:Jt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return s("Observable arrays cannot be frozen"),!1}};function Yt(e,t,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var i,o,s,u=new Kt(n,t,r);i=u.values,o=w,s=u,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:s});var c=new Proxy(u.values,qt);if(u.proxy=c,e&&e.length){var l=Se(!0);u.spliceWithArray(0,0,e),Oe(l)}return c}var Kt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new E(e||"ObservableArray@"+a()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Gt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Xt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;se(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:void 0===t||null===t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=i),$t(this)){var a=Ut(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return i;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,T([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,i=Wt(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&Zt(this,o)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,i=Wt(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&Zt(this,o)},e}(),Jt={intercept:function(e){return this[w].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[w].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[w];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[w];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[w].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[w];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[w],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[w];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[w],r=n.values;if(e<r.length){se(n.atom);var i=r[e];if($t(n)){var o=Ut(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"===typeof Array.prototype[e]&&(Jt[e]=function(){var t=this[w];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"===typeof Array.prototype[e]&&(Jt[e]=function(t,n){var r=this,i=this[w];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Jt[e]=function(){var t=this,n=this[w];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,i,o){return i=n.dehanceValue(i),r(e,i,o,t)},n.values[e].apply(n.values,arguments)}}));var Qt,en=h("ObservableArrayAdministration",Kt);function tn(e){return p(e)&&en(e[w])}var nn,rn={},on=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=t,this.name=n,this[Qt]=rn,this._keysAtom=S(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Re.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Pe(this._has(e),z,this.name+"."+g(e)+"?",!1);this._hasMap.set(e,r),ut(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if($t(this)){var r=Ut(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(se(this._keysAtom),$t(this)&&!(r=Ut(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Wt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Rt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Zt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Re.UNCHANGED){var r=Wt(this),i=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&Zt(this,i)}},e.prototype._addValue=function(e,t){var n=this;se(this._keysAtom),Rt((function(){var r=new Pe(t,n.enhancer,n.name+"."+g(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Wt(this);r&&Zt(this,r?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return Sn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return Sn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype[(Qt=w,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=j(this),o=i.next();!o.done;o=i.next()){var a=C(o.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return an(e)&&(e=e.toJS()),Rt((function(){var n=Se(!0);try{f(e)?m(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=C(e,2),r=n[0],i=n[1];return t.set(r,i)})):y(e)?(e.constructor!==Map&&s("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&s("Cannot initialize map from "+e)}finally{Oe(n)}})),this},e.prototype.clear=function(){var e=this;Rt((function(){le((function(){var t,n;try{for(var r=j(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Rt((function(){var n,r,i,o,a=function(e){if(y(e)||an(e))return e;if(Array.isArray(e))return new Map(e);if(f(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s("Cannot convert to map from '"+e+"'")}(e),u=new Map,c=!1;try{for(var l=j(t._data.keys()),p=l.next();!p.done;p=l.next()){var d=p.value;if(!a.has(d))if(t.delete(d))c=!0;else{var h=t._data.get(d);u.set(d,h)}}}catch(O){n={error:O}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var v=j(a.entries()),m=v.next();!m.done;m=v.next()){var g=C(m.value,2),b=(d=g[0],h=g[1],t._data.has(d));if(t.set(d,h),t._data.has(d)){var x=t._data.get(d);u.set(d,x),b||(c=!0)}}}catch(P){i={error:P}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}if(!c)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var w=t._data.keys(),E=u.keys(),_=w.next(),S=E.next();!_.done;){if(_.value!==S.value){t._keysAtom.reportChanged();break}_=w.next(),S=E.next()}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=j(this),i=r.next();!i.done;i=r.next()){var o=C(i.value,2),a=o[0],s=o[1];n["symbol"===typeof a?a:g(a)]=s}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return g(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Gt(this,e)},e}(),an=h("ObservableMap",on),sn={},un=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[nn]=sn,this._data=new Set,this._atom=S(this.name),this[Symbol.toStringTag]="Set","function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Rt((function(){le((function(){var t,n;try{for(var r=j(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=j(this),o=i.next();!o.done;o=i.next()){var a=o.value;e.call(t,a,a,this)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(se(this._atom),$t(this)&&!(r=Ut(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Rt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Wt(this),r=n?{type:"add",object:this,newValue:e}:null;n&&Zt(this,r)}return this},e.prototype.delete=function(e){var t=this;if($t(this)&&!(r=Ut(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Wt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return Rt((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Zt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Sn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Sn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return cn(e)&&(e=e.toJS()),Rt((function(){var n=Se(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&s("Cannot initialize set from "+e)}finally{Oe(n)}})),this},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Gt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(nn=w,Symbol.iterator)]=function(){return this.values()},e}(),cn=h("ObservableSet",un),ln=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new E(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof je)r.set(t);else{if($t(this)){if(!(o=Ut(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=o.newValue}if((t=r.prepareNewValue(t))!==Re.UNCHANGED){var i=Wt(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),i&&Zt(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Pe(r,z,this.name+"."+g(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if($t(this)){var i=Ut(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var o=new Pe(t,n,this.name+"."+g(e),!1);this.values.set(e,o),t=o.value,Object.defineProperty(r,e,function(e){return fn[e]||(fn[e]={configurable:!0,enumerable:!0,get:function(){return this[w].read(e)},set:function(t){this[w].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+g(t),this.values.set(t,new je(n)),(e===r||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t))&&Object.defineProperty(e,t,function(e){return dn[e]||(dn[e]={configurable:Re.computedConfigurable,enumerable:!1,get:function(){return hn(this).read(e)},set:function(t){hn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if($t(this)&&!(a=Ut(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Fe();var n=Wt(this),r=this.values.get(e),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;n&&Zt(this,a)}finally{ze()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Gt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Wt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Zt(this,r),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=j(this.values),i=r.next();!i.done;i=r.next()){var o=C(i.value,2),a=o[0];o[1]instanceof Pe&&n.push(a)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function pn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=F),Object.prototype.hasOwnProperty.call(e,w))return e[w];f(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var r=new ln(e,new Map,g(t),n);return d(e,w,r),r}var fn=Object.create(null),dn=Object.create(null);function hn(e){var t=e[w];return t||(I(e),e[w])}var yn=h("ObservableObjectAdministration",ln);function vn(e){return!!p(e)&&(I(e),yn(e[w]))}function mn(e,t){if("object"===typeof e&&null!==e){if(tn(e))return void 0!==t&&s(!1),e[w].atom;if(cn(e))return e[w];if(an(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||s(!1),r)}var r;if(I(e),t&&!e[w]&&e[t],vn(e))return t?((r=e[w].values.get(t))||s(!1),r):s(!1);if(_(e)||Ce(e)||Ze(e))return e}else if("function"===typeof e&&Ze(e[w]))return e[w];return s(!1)}function gn(e,t){return e||s("Expecting some object"),void 0!==t?gn(mn(e,t)):_(e)||Ce(e)||Ze(e)||an(e)||cn(e)?e:(I(e),e[w]?e[w]:void s(!1))}var bn=Object.prototype.toString;function xn(e,t,n){return void 0===n&&(n=-1),wn(e,t,n)}function wn(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=bn.call(e);if(a!==bn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=En(e),t=En(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!("function"===typeof u&&u instanceof u&&"function"===typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!wn(e[l],t[l],n-1,r,i))return!1}else{var p=Object.keys(e),f=void 0;if(l=p.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!_n(t,f=p[l])||!wn(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function En(e){return tn(e)?e.slice():y(e)||an(e)||v(e)||cn(e)?Array.from(e.entries()):e}function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sn(e){return e[Symbol.iterator]=On,e}function On(){return this}if("undefined"===typeof Proxy||"undefined"===typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ye,extras:{getDebugName:function(e,t){return(void 0!==t?mn(e,t):vn(e)||an(e)||cn(e)?gn(e):mn(e)).name}},$mobx:w})}).call(this,n(155),n(82))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return P}));var r,i,o,a,s,u,c,l={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return v(e,s,i,o,null)}function v(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function m(){return{current:null}}function g(e){return e.children}function b(e,t){this.props=e,this.context=t}function x(e,t){if(null==t)return e.__?x(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?x(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function E(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!_.__r++||u!==i.debounceRendering)&&((u=i.debounceRendering)||s)(_)}function _(){for(var e;_.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=d({},i)).__v=i.__v+1,A(a,i,r,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?x(i):o,i.__h),N(n,i),i.__e!=o&&w(i)))}))}function S(e,t,n,r,i,o,a,s,u,c){var f,d,h,y,m,b,w,E=r&&r.__k||p,_=E.length;for(n.__k=[],f=0;f<t.length;f++)if(null!=(y=n.__k[f]=null==(y=t[f])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(g,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=E[f])||h&&y.key==h.key&&y.type===h.type)E[f]=void 0;else for(d=0;d<_;d++){if((h=E[d])&&y.key==h.key&&y.type===h.type){E[d]=void 0;break}h=null}A(e,y,h=h||l,i,o,a,s,u,c),m=y.__e,(d=y.ref)&&h.ref!=d&&(w||(w=[]),h.ref&&w.push(h.ref,null,y),w.push(d,y.__c||m,y)),null!=m?(null==b&&(b=m),"function"==typeof y.type&&y.__k===h.__k?y.__d=u=O(y,u,e):u=k(e,y,h,E,m,u),"function"==typeof n.type&&(n.__d=u)):u&&h.__e==u&&u.parentNode!=e&&(u=x(h))}for(n.__e=b,f=_;f--;)null!=E[f]&&("function"==typeof n.type&&null!=E[f].__e&&E[f].__e==n.__d&&(n.__d=x(r,f+1)),I(E[f],E[f]));if(w)for(f=0;f<w.length;f++)R(w[f],w[++f],w[++f])}function O(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?O(r,t,n):k(n,r,r,i,r.__e,t));return t}function P(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){P(e,t)})):t.push(e)),t}function k(e,t,n,r,i,o){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<r.length;u+=2)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function j(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function C(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||j(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||j(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?M:T,o):e.removeEventListener(t,o?M:T,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function T(e){this.l[e.type+!1](i.event?i.event(e):e)}function M(e){this.l[e.type+!0](i.event?i.event(e):e)}function A(e,t,n,r,o,a,s,u,c){var l,p,f,h,y,v,m,x,w,E,_,O=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(l=i.__b)&&l(t);try{e:if("function"==typeof O){if(x=t.props,w=(l=O.contextType)&&r[l.__c],E=l?w?w.props.value:l.__:r,n.__c?m=(p=t.__c=n.__c).__=p.__E:("prototype"in O&&O.prototype.render?t.__c=p=new O(x,E):(t.__c=p=new b(x,E),p.constructor=O,p.render=L),w&&w.sub(p),p.props=x,p.state||(p.state={}),p.context=E,p.__n=r,f=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=O.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=d({},p.__s)),d(p.__s,O.getDerivedStateFromProps(x,p.__s))),h=p.props,y=p.state,f)null==O.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==O.getDerivedStateFromProps&&x!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(x,E),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(x,p.__s,E)||t.__v===n.__v){p.props=x,p.state=p.__s,t.__v!==n.__v&&(p.__d=!1),p.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(x,p.__s,E),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(h,y,v)}))}p.context=E,p.props=x,p.state=p.__s,(l=i.__r)&&l(t),p.__d=!1,p.__v=t,p.__P=e,l=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(r=d(d({},r),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(h,y)),_=null!=l&&l.type===g&&null==l.key?l.props.children:l,S(e,Array.isArray(_)?_:[_],t,n,r,o,a,s,u,c),p.base=t.__e,t.__h=null,p.__h.length&&s.push(p),m&&(p.__E=p.__=null),p.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=D(n.__e,t,n,r,o,a,s,c);(l=i.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=a)&&(t.__e=u,t.__h=!!c,a[a.indexOf(u)]=null),i.__e(e,t,n)}}function N(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function D(e,t,n,i,o,a,s,u){var c,p,f,d=n.props,y=t.props,v=t.type,m=0;if("svg"===v&&(o=!0),null!=a)for(;m<a.length;m++)if((c=a[m])&&"setAttribute"in c==!!v&&(v?c.localName===v:3===c.nodeType)){e=c,a[m]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,u=!1}if(null===v)d===y||u&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),p=(d=n.props||l).dangerouslySetInnerHTML,f=y.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(f||p)&&(f&&(p&&f.__html==p.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||C(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||C(e,o,t[o],n[o],r)}(e,y,d,o,u),f)t.__k=[];else if(m=t.props.children,S(e,Array.isArray(m)?m:[m],t,n,i,o&&"foreignObject"!==v,a,s,a?a[0]:n.__k&&x(n,0),u),null!=a)for(m=a.length;m--;)null!=a[m]&&h(a[m]);u||("value"in y&&void 0!==(m=y.value)&&(m!==d.value||m!==e.value||"progress"===v&&!m)&&C(e,"value",m,d.value,!1),"checked"in y&&void 0!==(m=y.checked)&&m!==e.checked&&C(e,"checked",m,d.checked,!1))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function I(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||R(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&I(r[o],t,"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function B(e,t,n){var o,a,s;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],A(t,e=(!o&&n||t).__k=y(g,null,[e]),a||l,l,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o),N(s,e)}function F(e,t){B(e,t,F)}function z(e,t,n){var i,o,a,s=d({},e.props);for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),v(e.type,s,i||e.key,o||e.ref,null)}function V(e,t){var n={__c:t="__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(E)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=p.slice,i={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e}},o=0,b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),E(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},b.prototype.render=g,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0,c=0},function(e,t,n){var r=n(116),i=n(44),o=n(178);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(39),i=n(83),o=n(70),a=n(56),s=n(111),u="Array Iterator",c=a.set,l=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(7),i=n(147),o=n(148),a=n(3),s=n(57),u=n(27),c=u("iterator"),l=u("toStringTag"),p=a.values,f=function(e,t){if(e){if(e[c]!==p)try{s(e,c,p)}catch(r){e[c]=p}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in i)f(r[d]&&r[d].prototype,d);f(o,"DOMTokenList")},function(e,t,n){"use strict";var r=n(16),i=n(7),o=n(46),a=n(76),s=n(35),u=n(15),c=n(64),l=n(36),p=n(109),f=n(18),d=n(34),h=n(99),y=n(28),v=n(33),m=n(58),g=n(88),b=n(32),x=n(38),w=n(39),E=n(87),_=n(40),S=n(71),O=n(54),P=n(66),k=n(72),j=n(139),C=n(112),T=n(51),M=n(37),A=n(93),N=n(101),D=n(44),R=n(84),I=n(91),L=n(69),B=n(85),F=n(27),z=n(149),V=n(150),H=n(73),$=n(56),G=n(74).forEach,U=I("hidden"),W="Symbol",X=F("toPrimitive"),Z=$.set,q=$.getterFor(W),Y=Object.prototype,K=i.Symbol,J=K&&K.prototype,Q=i.TypeError,ee=i.QObject,te=o("JSON","stringify"),ne=T.f,re=M.f,ie=j.f,oe=A.f,ae=u([].push),se=R("symbols"),ue=R("op-symbols"),ce=R("string-to-symbol-registry"),le=R("symbol-to-string-registry"),pe=R("wks"),fe=!ee||!ee.prototype||!ee.prototype.findChild,de=l&&f((function(){return 7!=O(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ne(Y,t);r&&delete Y[t],re(e,t,n),r&&e!==Y&&re(Y,t,r)}:re,he=function(e,t){var n=se[e]=O(J);return Z(n,{type:W,tag:e,description:t}),l||(n.description=t),n},ye=function(e,t,n){e===Y&&ye(ue,t,n),b(e);var r=E(t);return b(n),d(se,r)?(n.enumerable?(d(e,U)&&e[U][r]&&(e[U][r]=!1),n=O(n,{enumerable:S(0,!1)})):(d(e,U)||re(e,U,S(1,{})),e[U][r]=!0),de(e,r,n)):re(e,r,n)},ve=function(e,t){b(e);var n=w(t),r=P(n).concat(xe(n));return G(r,(function(t){l&&!s(me,n,t)||ye(e,t,n[t])})),e},me=function(e){var t=E(e),n=s(oe,this,t);return!(this===Y&&d(se,t)&&!d(ue,t))&&(!(n||!d(this,t)||!d(se,t)||d(this,U)&&this[U][t])||n)},ge=function(e,t){var n=w(e),r=E(t);if(n!==Y||!d(se,r)||d(ue,r)){var i=ne(n,r);return!i||!d(se,r)||d(n,U)&&n[U][r]||(i.enumerable=!0),i}},be=function(e){var t=ie(w(e)),n=[];return G(t,(function(e){d(se,e)||d(L,e)||ae(n,e)})),n},xe=function(e){var t=e===Y,n=ie(t?ue:w(e)),r=[];return G(n,(function(e){!d(se,e)||t&&!d(Y,e)||ae(r,se[e])})),r};if(p||(K=function(){if(m(J,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,t=B(e),n=function e(n){this===Y&&s(e,ue,n),d(this,U)&&d(this[U],t)&&(this[U][t]=!1),de(this,t,S(1,n))};return l&&fe&&de(Y,t,{configurable:!0,set:n}),he(t,e)},D(J=K.prototype,"toString",(function(){return q(this).tag})),D(K,"withoutSetter",(function(e){return he(B(e),e)})),A.f=me,M.f=ye,T.f=ge,k.f=j.f=be,C.f=xe,z.f=function(e){return he(F(e),e)},l&&(re(J,"description",{configurable:!0,get:function(){return q(this).description}}),c||D(Y,"propertyIsEnumerable",me,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:K}),G(P(pe),(function(e){V(e)})),r({target:W,stat:!0,forced:!p},{for:function(e){var t=_(e);if(d(ce,t))return ce[t];var n=K(t);return ce[t]=n,le[n]=t,n},keyFor:function(e){if(!g(e))throw Q(e+" is not a symbol");if(d(le,e))return le[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),r({target:"Object",stat:!0,forced:!p,sham:!l},{create:function(e,t){return void 0===t?O(e):ve(O(e),t)},defineProperty:ye,defineProperties:ve,getOwnPropertyDescriptor:ge}),r({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:be,getOwnPropertySymbols:xe}),r({target:"Object",stat:!0,forced:f((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(x(e))}}),te&&r({target:"JSON",stat:!0,forced:!p||f((function(){var e=K();return"[null]"!=te([e])||"{}"!=te({a:e})||"{}"!=te(Object(e))}))},{stringify:function(e,t,n){var r=N(arguments),i=t;if((v(t)||void 0!==e)&&!g(e))return h(t)||(t=function(e,t){if(y(i)&&(t=s(i,this,e,t)),!g(t))return t}),r[1]=t,a(te,null,r)}}),!J[X]){var we=J.valueOf;D(J,X,(function(e){return s(we,this)}))}H(K,W),L[U]=!0},function(e,t,n){"use strict";var r=n(146).charAt,i=n(40),o=n(56),a=n(111),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(82))},function(e,t,n){"use strict";var r=n(16),i=n(36),o=n(7),a=n(15),s=n(34),u=n(28),c=n(58),l=n(40),p=n(37).f,f=n(134),d=o.Symbol,h=d&&d.prototype;if(i&&u(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(y[t]=!0),t};f(v,d),v.prototype=h,h.constructor=v;var m="Symbol(test)"==String(d("test")),g=a(h.toString),b=a(h.valueOf),x=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);p(h,"description",{configurable:!0,get:function(){var e=b(this),t=g(e);if(s(y,e))return"";var n=m?E(t,7,-1):w(t,x,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(e,t,n){n(150)("iterator")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.e})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return T})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return se}));var r,i,o,a=n(1),s=0,u=[],c=a.i.__b,l=a.i.__r,p=a.i.diffed,f=a.i.__c,d=a.i.unmount;function h(e,t){a.i.__h&&a.i.__h(i,e,s||t),s=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function y(e){return s=1,v(k,e)}function v(e,t,n){var o=h(r++,2);return o.t=e,o.__c||(o.__=[n?n(t):k(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function m(e,t){var n=h(r++,3);!a.i.__s&&P(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function g(e,t){var n=h(r++,4);!a.i.__s&&P(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function b(e,t){var n=h(r++,7);return P(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function x(e,t){return s=8,b((function(){return e}),t)}function w(){var e;for(u.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=u.pop();)if(e.__P)try{e.__H.__h.forEach(S),e.__H.__h.forEach(O),e.__H.__h=[]}catch(t){e.__H.__h=[],a.i.__e(t,e.__v)}}a.i.__b=function(e){i=null,c&&c(e)},a.i.__r=function(e){l&&l(e),r=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(S),t.__h.forEach(O),t.__h=[])},a.i.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&o===a.i.requestAnimationFrame||((o=a.i.requestAnimationFrame)||_)(w)),i=null},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(S),e.__h=e.__h.filter((function(e){return!e.__||O(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(n,e.__v)}})),f&&f(e,t)},a.i.unmount=function(e){d&&d(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{S(e)}catch(e){t=e}})),t&&a.i.__e(t,n.__v))};var E="function"==typeof requestAnimationFrame;function _(e){var t,n=function(){clearTimeout(r),E&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);E&&(t=requestAnimationFrame(n))}function S(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function O(e){var t=i;e.__c=e.__(),i=t}function P(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function k(e,t){return"function"==typeof t?t(e):t}function j(e,t){for(var n in t)e[n]=t[n];return e}function C(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function T(e){this.props=e}function M(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:C(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(a.e)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(T.prototype=new a.a).isPureReactComponent=!0,T.prototype.shouldComponentUpdate=function(e,t){return C(this.props,e)||C(this.state,t)};var A=a.i.__b;a.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),A&&A(e)};var N="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function D(e){function t(t,n){var r=j({},t);return delete r.ref,e(r,!(n=t.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var R=function(e,t){return null==e?null:Object(a.k)(Object(a.k)(e).map(t))},I={map:R,forEach:R,count:function(e){return e?Object(a.k)(e).length:0},only:function(e){var t=Object(a.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);L(e,t,n)};var B=a.i.unmount;function F(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=j({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return F(e,t,n)}))),e}function z(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return z(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function V(){this.__u=0,this.t=null,this.__b=null}function H(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function $(){this.u=null,this.o=null}a.i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),B&&B(e)},(V.prototype=new a.a).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=H(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=z(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},V.prototype.componentWillUnmount=function(){this.t=[]},V.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=F(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__e&&Object(a.e)(a.b,null,e.fallback);return i&&(i.__h=null),[Object(a.e)(a.b,null,t.__e?null:e.children),i]};var G=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function U(e){return this.getChildContext=function(){return e.context},e.children}function W(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(a.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(a.j)(Object(a.e)(U,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}($.prototype=new a.a).__e=function(e){var t=this,n=H(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),G(t,e,r)):i()};n?n(o):o()}},$.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(a.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},$.prototype.componentDidUpdate=$.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){G(e,n,t)}))};var X="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,q="undefined"!=typeof document,Y=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var K=a.i.event;function J(){}function Q(){return this.cancelBubble}function ee(){return this.defaultPrevented}a.i.event=function(e){return K&&(e=K(e)),e.persist=J,e.isPropagationStopped=Q,e.isDefaultPrevented=ee,e.nativeEvent=e};var te,ne={configurable:!0,get:function(){return this.class}},re=a.i.vnode;a.i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var o in r={},n){var s=n[o];q&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in n&&null==s||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!Y(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():i&&Z.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),r[o]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(ne.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",ne))}e.$$typeof=X,re&&re(e)};var ie=a.i.__r;a.i.__r=function(e){ie&&ie(e),te=e.__c};var oe={ReactCurrentDispatcher:{current:{readContext:function(e){return te.__n[e.__c].props.value}}}};function ae(e){return!!e&&e.$$typeof===X}var se=function(e,t){return e(t)},ue=a.b,ce={useState:y,useReducer:v,useEffect:m,useLayoutEffect:g,useRef:function(e){return s=5,b((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){s=6,g((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:b,useCallback:x,useContext:function(e){var t=i.context[e.__c],n=h(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__},useDebugValue:function(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)},version:"17.0.2",Children:I,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Object(a.j)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Object(a.h)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(a.j)(null,e),!0)},createPortal:function(e,t){return Object(a.e)(W,{__v:e,i:t})},createElement:a.e,createContext:a.d,createFactory:function(e){return a.e.bind(null,e)},cloneElement:function(e){return ae(e)?a.c.apply(null,arguments):e},createRef:a.f,Fragment:a.b,isValidElement:ae,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:a.a,PureComponent:T,memo:M,forwardRef:D,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:se,StrictMode:ue,Suspense:V,SuspenseList:$,lazy:function(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(a.e)(n,i)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:oe};t.d=ce},function(e,t,n){var r=n(7),i=n(147),o=n(148),a=n(179),s=n(57),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},function(e,t,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(97)})},function(e,t,n){var r=n(16),i=n(18),o=n(38),a=n(96),s=n(137);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){var r=n(16),i=n(46),o=n(76),a=n(199),s=n(157),u=n(32),c=n(33),l=n(54),p=n(18),f=i("Reflect","construct"),d=Object.prototype,h=[].push,y=p((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),v=!p((function(){f((function(){}))})),m=y||v;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!y)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(h,r,t),new(o(a,e,r))}var i=n.prototype,p=l(c(i)?i:d),m=o(e,p,t);return c(m)?m:p}})},function(e,t){var n=Function.prototype,r=n.bind,i=n.call,o=r&&r.bind(i);e.exports=r?function(e){return e&&o(i,e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},function(e,t,n){var r=n(7),i=n(51).f,o=n(57),a=n(44),s=n(108),u=n(134),c=n(95);e.exports=function(e,t){var n,l,p,f,d,h=e.target,y=e.global,v=e.stat;if(n=y?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],p=e.noTargetGet?(d=i(n,l))&&d.value:n[l],!c(y?l:h+(v?".":"#")+l,e.forced)&&void 0!==p){if(typeof f==typeof p)continue;u(f,p)}(e.sham||p&&p.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},function(e,t,n){"use strict";var r=n(16),i=n(7),o=n(99),a=n(100),s=n(33),u=n(67),c=n(43),l=n(39),p=n(61),f=n(27),d=n(75),h=n(101),y=d("slice"),v=f("species"),m=i.Array,g=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var n,r,i,f=l(this),d=c(f),y=u(e,d),b=u(void 0===t?d:t,d);if(o(f)&&(n=f.constructor,(a(n)&&(n===m||o(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return h(f,y,b);for(r=new(void 0===n?m:n)(g(b-y,0)),i=0;y<b;y++,i++)y in f&&p(r,i,f[y]);return r.length=i,r}})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(16),i=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){var r=n(16),i=n(38),o=n(66);r({target:"Object",stat:!0,forced:n(18)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},function(e,t,n){var r=n(16),i=n(18),o=n(39),a=n(51).f,s=n(36),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t,n){"use strict";var r=n(16),i=n(74).filter;r({target:"Array",proto:!0,forced:!n(75)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),i=n(36),o=n(135),a=n(39),s=n(51),u=n(61);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,c=o(r),l={},p=0;c.length>p;)void 0!==(n=i(r,t=c[p++]))&&u(l,t,n);return l}})},function(e,t,n){var r=n(36),i=n(94).EXISTS,o=n(15),a=n(37).f,s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},function(e,t,n){var r=n(16),i=n(182);r({target:"Array",stat:!0,forced:!n(118)((function(e){Array.from(e)}))},{from:i})},,function(e,t,n){var r=n(7),i=n(84),o=n(34),a=n(85),s=n(109),u=n(128),c=i("wks"),l=r.Symbol,p=l&&l.for,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&p?p(t):f(t)}return c[e]}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(16),i=n(7),o=n(18),a=n(99),s=n(33),u=n(38),c=n(43),l=n(61),p=n(119),f=n(75),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=i.TypeError,b=h>=51||!o((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),x=f("concat"),w=function(e){if(!s(e))return!1;var t=e[y];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!b||!x},{concat:function(e){var t,n,r,i,o,a=u(this),s=p(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(w(o=-1===t?a:arguments[t])){if(f+(i=c(o))>v)throw g(m);for(n=0;n<i;n++,f++)n in o&&l(s,f,o[n])}else{if(f>=v)throw g(m);l(s,f++,o)}return s.length=f,s}})},function(e,t,n){var r=n(16),i=n(198);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){var r=n(7),i=n(33),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},function(e,t,n){var r=n(28);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(15),i=n(38),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var r=n(18);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(7),i=n(36),o=n(129),a=n(32),s=n(87),u=r.TypeError,c=Object.defineProperty;t.f=i?c:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),i=n(45),o=r.Object;e.exports=function(e){return o(i(e))}},function(e,t,n){var r=n(81),i=n(45);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(7),i=n(98),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},function(e,t,n){"use strict";var r=n(16),i=n(74).map;r({target:"Array",proto:!0,forced:!n(75)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(10),i=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function o(){var e=i(Object(r.j)(0),2)[1];return Object(r.h)((function(){e((function(e){return e+1}))}),[])}function a(e){if(!e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function s(e){return"function"===typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var u={};function c(){return"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:u}}).call(this,n(82))},function(e,t,n){var r=n(90);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(7),i=n(28),o=n(34),a=n(57),s=n(108),u=n(92),c=n(56),l=n(94).CONFIGURABLE,p=c.get,f=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,u){var c,p=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,y=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:t;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==v)&&a(n,"name",v),(c=f(n)).source||(c.source=d.join("string"==typeof v?v:""))),e!==r?(p?!y&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&p(this).source||u(this)}))},function(e,t,n){var r=n(7).TypeError;e.exports=function(e){if(void 0==e)throw r("Can't call method on "+e);return e}},function(e,t,n){var r=n(7),i=n(28),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(16),i=n(35),o=n(33),a=n(32),s=n(200),u=n(51),c=n(96);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,p=arguments.length<3?t:arguments[2];return a(t)===p?t[n]:(r=u.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,p):o(l=c(t))?e(l,n,p):void 0}})},function(e,n,r){"use strict";(function(e){var i=r(31),o=r(165),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=s&&s.exports===a?i.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;n.a=c}).call(this,r(121)(e))},function(e,n,r){"use strict";(function(e){var i=r(105),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.a.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();n.a=u}).call(this,r(121)(e))},function(e,t,n){var r=n(15),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},function(e,t,n){var r=n(36),i=n(35),o=n(93),a=n(71),s=n(39),u=n(87),c=n(34),l=n(129),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=s(e),t=u(t),l)try{return p(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},function(e,t,n){var r=n(16),i=n(213).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){var r=n(46);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i=n(32),o=n(168),a=n(110),s=n(69),u=n(133),c=n(86),l=n(91),p=l("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&r?h(r):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F}():h(r);for(var e=a.length;e--;)delete y.prototype[a[e]];return y()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[p]=e):n=y(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),i=n(28),o=n(89),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},function(e,t,n){var r,i,o,a=n(170),s=n(7),u=n(15),c=n(33),l=n(57),p=n(34),f=n(107),d=n(91),h=n(69),y="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new m),b=u(g.get),x=u(g.has),w=u(g.set);r=function(e,t){if(x(g,e))throw new v(y);return t.facade=e,w(g,e,t),t},i=function(e){return b(g,e)||{}},o=function(e){return x(g,e)}}else{var E=d("state");h[E]=!0,r=function(e,t){if(p(e,E))throw new v(y);return t.facade=e,l(e,E,t),t},i=function(e){return p(e,E)?e[E]:{}},o=function(e){return p(e,E)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(36),i=n(37),o=n(71);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){"use strict";n(173)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(177))},function(e,t,n){"use strict";var r=n(87),i=n(37),o=n(71);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(15),i=n(55),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(16),i=n(214),o=n(83);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t){e.exports=!1},function(e,t,n){var r,i,o=n(7),a=n(53),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,n){var r=n(131),i=n(110);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(68),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?r:n)(t)}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(131),i=n(110).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(37).f,i=n(34),o=n(27)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(62),i=n(15),o=n(81),a=n(38),s=n(43),u=n(119),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,p=6==e,f=7==e,d=5==e||p;return function(h,y,v,m){for(var g,b,x=a(h),w=o(x),E=r(y,v),_=s(w),S=0,O=m||u,P=t?O(h,_):n||f?O(h,0):void 0;_>S;S++)if((d||S in w)&&(b=E(g=w[S],S,x),e))if(t)P[S]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c(P,g)}else switch(e){case 4:return!1;case 7:c(P,g)}return p?-1:i||l?l:P}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){var r=n(18),i=n(27),o=n(65),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){var n=Function.prototype,r=n.apply,i=n.bind,o=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},function(e,t,n){"use strict";var r=n(16),i=n(15),o=n(81),a=n(39),s=n(120),u=i([].join),c=o!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return u(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(76),i=n(35),o=n(15),a=n(122),s=n(154),u=n(32),c=n(45),l=n(156),p=n(123),f=n(90),d=n(40),h=n(59),y=n(113),v=n(124),m=n(102),g=n(151),b=n(18),x=g.UNSUPPORTED_Y,w=4294967295,E=Math.min,_=[].push,S=o(/./.exec),O=o(_),P=o("".slice),k=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=d(c(this)),a=void 0===n?w:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!s(e))return i(t,o,e,a);for(var u,l,p,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,h+"g");(u=i(m,g,o))&&!((l=g.lastIndex)>v&&(O(f,P(o,v,u.index)),u.length>1&&u.index<o.length&&r(_,f,y(u,1)),p=u[0].length,v=l,f.length>=a));)g.lastIndex===u.index&&g.lastIndex++;return v===o.length?!p&&S(g,"")||O(f,""):O(f,P(o,v)),f.length>a?y(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),a=void 0==t?void 0:h(t,e);return a?i(a,t,r,n):i(o,d(r),t,n)},function(e,r){var i=u(this),a=d(e),s=n(o,i,a,r,o!==t);if(s.done)return s.value;var c=l(i,RegExp),h=i.unicode,y=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(x?"g":"y"),m=new c(x?"^(?:"+i.source+")":i,y),g=void 0===r?w:r>>>0;if(0===g)return[];if(0===a.length)return null===v(m,a)?[a]:[];for(var b=0,_=0,S=[];_<a.length;){m.lastIndex=x?0:_;var k,j=v(m,x?P(a,_):a);if(null===j||(k=E(f(m.lastIndex+(x?_:0)),a.length))===b)_=p(a,_,h);else{if(O(S,P(a,b,_)),S.length===g)return S;for(var C=1;C<=j.length-1;C++)if(O(S,j[C]),S.length===g)return S;_=b=k}}return O(S,P(a,b)),S}]}),!k,x)},function(e,t,n){"use strict";var r=n(36),i=n(7),o=n(15),a=n(95),s=n(44),u=n(34),c=n(143),l=n(58),p=n(88),f=n(130),d=n(18),h=n(72).f,y=n(51).f,v=n(37).f,m=n(196),g=n(159).trim,b="Number",x=i.Number,w=x.prototype,E=i.TypeError,_=o("".slice),S=o("".charCodeAt),O=function(e){var t=f(e,"number");return"bigint"==typeof t?t:P(t)},P=function(e){var t,n,r,i,o,a,s,u,c=f(e,"number");if(p(c))throw E("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=g(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=_(c,2)).length,s=0;s<a;s++)if((u=S(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(a(b,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var k,j=function(e){var t=arguments.length<1?0:x(O(e)),n=this;return l(w,n)&&d((function(){m(n)}))?c(Object(t),n,j):t},C=r?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),T=0;C.length>T;T++)u(x,k=C[T])&&!u(j,k)&&v(j,k,y(x,k));j.prototype=w,w.constructor=j,s(i,b,j)}},function(e,t,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(7),i=n(15),o=n(18),a=n(50),s=r.Object,u=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(27),i=n(54),o=n(37),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r=n(64),i=n(107);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(15),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},function(e,t,n){var r=n(7),i=n(33),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(130),i=n(88);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},function(e,t,n){var r=n(7),i=n(46),o=n(28),a=n(58),s=n(128),u=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,u(e))}},function(e,t,n){var r=n(7).String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},function(e,t,n){var r=n(68),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(84),i=n(85),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(15),i=n(28),o=n(107),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(36),i=n(34),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},function(e,t,n){var r=n(18),i=n(28),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(7),i=n(34),o=n(28),a=n(38),s=n(91),u=n(137),c=s("IE_PROTO"),l=r.Object,p=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?p:null}},function(e,t,n){var r=n(15),i=n(32),o=n(172);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(7),i=n(116),o=n(28),a=n(50),s=n(27)("toStringTag"),u=r.Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=u(e),s))?n:c?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},function(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),i=n(18),o=n(28),a=n(98),s=n(46),u=n(92),c=function(){},l=[],p=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),h=!f.exec(c),y=function(e){if(!o(e))return!1;try{return p(c,l,e),!0}catch(t){return!1}};e.exports=!p||i((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(f,u(e))}:y},function(e,t,n){var r=n(15);e.exports=r([].slice)},function(e,t,n){"use strict";var r=n(35),i=n(15),o=n(40),a=n(184),s=n(151),u=n(84),c=n(54),l=n(56).get,p=n(185),f=n(186),d=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,v=i("".charAt),m=i("".indexOf),g=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||w||p||f)&&(y=function(e){var t,n,i,s,u,p,f,_=this,S=l(_),O=o(e),P=S.raw;if(P)return P.lastIndex=_.lastIndex,t=r(y,P,O),_.lastIndex=P.lastIndex,t;var k=S.groups,j=w&&_.sticky,C=r(a,_),T=_.source,M=0,A=O;if(j&&(C=g(C,"y",""),-1===m(C,"g")&&(C+="g"),A=b(O,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==v(O,_.lastIndex-1))&&(T="(?: "+T+")",A=" "+A,M++),n=new RegExp("^(?:"+T+")",C)),E&&(n=new RegExp("^"+T+"$(?!\\s)",C)),x&&(i=_.lastIndex),s=r(h,j?n:_,A),j?s?(s.input=b(s.input,M),s[0]=b(s[0],M),s.index=_.lastIndex,_.lastIndex+=s[0].length):_.lastIndex=0:x&&s&&(_.lastIndex=_.global?s.index+s[0].length:i),E&&s&&s.length>1&&r(d,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&k)for(s.groups=p=c(null),u=0;u<k.length;u++)p[(f=k[u])[0]]=s[f[1]];return s}),e.exports=y},function(e,t,n){"use strict";var r=n(16),i=n(7),o=n(67),a=n(68),s=n(43),u=n(38),c=n(119),l=n(61),p=n(75)("splice"),f=i.TypeError,d=Math.max,h=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,i,p,m,g,b=u(this),x=s(b),w=o(e,x),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=x-w):(n=E-2,r=h(d(a(t),0),x-w)),x+n-r>y)throw f(v);for(i=c(b,r),p=0;p<r;p++)(m=w+p)in b&&l(i,p,b[m]);if(i.length=r,n<r){for(p=w;p<x-r;p++)g=p+n,(m=p+r)in b?b[g]=b[m]:delete b[g];for(p=x;p>x-r+n;p--)delete b[p-1]}else if(n>r)for(p=x-r;p>w;p--)g=p+n-1,(m=p+r-1)in b?b[g]=b[m]:delete b[g];for(p=0;p<n;p++)b[p+w]=arguments[p+2];return b.length=x-r+n,i}})},function(e,t,n){"use strict";var r=n(16),i=n(201);r({target:"String",proto:!0,forced:n(202)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(82))},function(e,n,r){"use strict";(function(e){var i=r(31),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.a.Buffer:void 0,u=s?s.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(121)(e))},function(e,t,n){var r=n(7),i=n(108),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r=n(7),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(65),i=n(18);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(16),i=n(35),o=n(64),a=n(94),s=n(28),u=n(171),c=n(96),l=n(97),p=n(73),f=n(57),d=n(44),h=n(27),y=n(70),v=n(136),m=a.PROPER,g=a.CONFIGURABLE,b=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=h("iterator"),E="keys",_="values",S="entries",O=function(){return this};e.exports=function(e,t,n,a,h,v,P){u(n,t,a);var k,j,C,T=function(e){if(e===h&&R)return R;if(!x&&e in N)return N[e];switch(e){case E:case _:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",A=!1,N=e.prototype,D=N[w]||N["@@iterator"]||h&&N[h],R=!x&&D||T(h),I="Array"==t&&N.entries||D;if(I&&(k=c(I.call(new e)))!==Object.prototype&&k.next&&(o||c(k)===b||(l?l(k,b):s(k[w])||d(k,w,O)),p(k,M,!0,!0),o&&(y[M]=O)),m&&h==_&&D&&D.name!==_&&(!o&&g?f(N,"name",_):(A=!0,R=function(){return i(D,this)})),h)if(j={values:T(_),keys:v?R:T(E),entries:T(S)},P)for(C in j)(x||A||!(C in N))&&d(N,C,j[C]);else r({target:t,proto:!0,forced:x||A},j);return o&&!P||N[w]===R||d(N,w,R,{name:h}),y[t]=R,j}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(7),i=n(67),o=n(43),a=n(61),s=r.Array,u=Math.max;e.exports=function(e,t,n){for(var r=o(e),c=i(t,r),l=i(void 0===n?r:n,r),p=s(u(l-c,0)),f=0;c<l;c++,f++)a(p,f,e[c]);return p.length=f,p}},function(e,t,n){var r=n(7),i=n(62),o=n(35),a=n(32),s=n(89),u=n(140),c=n(43),l=n(58),p=n(141),f=n(115),d=n(142),h=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},v=y.prototype;e.exports=function(e,t,n){var r,m,g,b,x,w,E,_=n&&n.that,S=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),k=i(t,_),j=function(e){return r&&d(r,"normal",e),new y(!0,e)},C=function(e){return S?(a(e),P?k(e[0],e[1],j):k(e[0],e[1])):P?k(e,j):k(e)};if(O)r=e;else{if(!(m=f(e)))throw h(s(e)+" is not iterable");if(u(m)){for(g=0,b=c(e);b>g;g++)if((x=C(e[g]))&&l(v,x))return x;return new y(!1)}r=p(e,m)}for(w=r.next;!(E=o(w,r)).done;){try{x=C(E.value)}catch(T){d(r,"throw",T)}if("object"==typeof x&&x&&l(v,x))return x}return new y(!1)}},function(e,t,n){var r=n(98),i=n(59),o=n(70),a=n(27)("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},function(e,t,n){var r={};r[n(27)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(7),i=n(58),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},function(e,t,n){var r=n(27)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(s){}return n}},function(e,t,n){var r=n(180);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(19);var r=n(15),i=n(44),o=n(102),a=n(18),s=n(27),u=n(57),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,p){var f=s(e),d=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!d||!h||n){var y=r(/./[f]),v=t(f,""[e],(function(e,t,n,i,a){var s=r(e),u=t.exec;return u===o||u===l.exec?d&&!a?{done:!0,value:y(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(l,f,v[1])}p&&u(l[f],"sham",!0)}},function(e,t,n){"use strict";var r=n(146).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(7),i=n(35),o=n(32),a=n(28),s=n(50),u=n(102),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=i(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return i(u,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(76),i=n(35),o=n(15),a=n(122),s=n(18),u=n(32),c=n(28),l=n(68),p=n(90),f=n(40),d=n(45),h=n(123),y=n(59),v=n(197),m=n(124),g=n(27)("replace"),b=Math.max,x=Math.min,w=o([].concat),E=o([].push),_=o("".indexOf),S=o("".slice),O="$0"==="a".replace(/./,"$0"),P=!!/./[g]&&""===/./[g]("a","$0");a("replace",(function(e,t,n){var o=P?"$":"$0";return[function(e,n){var r=d(this),o=void 0==e?void 0:y(e,g);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=u(this),s=f(e);if("string"==typeof i&&-1===_(i,o)&&-1===_(i,"$<")){var d=n(t,a,s,i);if(d.done)return d.value}var y=c(i);y||(i=f(i));var g=a.global;if(g){var O=a.unicode;a.lastIndex=0}for(var P=[];;){var k=m(a,s);if(null===k)break;if(E(P,k),!g)break;""===f(k[0])&&(a.lastIndex=h(s,p(a.lastIndex),O))}for(var j,C="",T=0,M=0;M<P.length;M++){for(var A=f((k=P[M])[0]),N=b(x(l(k.index),s.length),0),D=[],R=1;R<k.length;R++)E(D,void 0===(j=k[R])?j:String(j));var I=k.groups;if(y){var L=w([A],D,N,s);void 0!==I&&E(L,I);var B=f(r(i,void 0,L))}else B=v(A,s,N,D,I,i);N>=T&&(C+=S(s,T,N)+B,T=N+A.length)}return C+S(s,T)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||P)},function(e,t,n){var r=n(50),i=n(7);e.exports="process"==r(i.process)},function(e,t,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(109);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(36),i=n(18),o=n(86);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(7),i=n(35),o=n(33),a=n(88),s=n(59),u=n(169),c=n(27),l=r.TypeError,p=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,p);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t,n){var r=n(15),i=n(34),o=n(39),a=n(132).indexOf,s=n(69),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},function(e,t,n){var r=n(39),i=n(67),o=n(43),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(46);e.exports=r("document","documentElement")},function(e,t,n){var r=n(34),i=n(135),o=n(51),a=n(37);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(46),i=n(15),o=n(72),a=n(112),s=n(32),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},function(e,t,n){"use strict";var r,i,o,a=n(18),s=n(28),u=n(54),c=n(96),l=n(44),p=n(27),f=n(64),d=p("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):h=!0),void 0==r||a((function(){var e={};return r[d].call(e)!==e}))?r={}:f&&(r=u(r)),s(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(18);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(16),i=n(15),o=n(69),a=n(33),s=n(34),u=n(37).f,c=n(72),l=n(139),p=n(174),f=n(85),d=n(176),h=!1,y=f("meta"),v=0,m=function(e){u(e,y,{value:{objectID:"O"+v++,weakData:{}}})},g=e.exports={enable:function(){g.enable=function(){},h=!0;var e=c.f,t=i([].splice),n={};n[y]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===y){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,y)){if(!p(e))return"F";if(!t)return"E";m(e)}return e[y].objectID},getWeakData:function(e,t){if(!s(e,y)){if(!p(e))return!0;if(!t)return!1;m(e)}return e[y].weakData},onFreeze:function(e){return d&&h&&p(e)&&!s(e,y)&&m(e),e}};o[y]=!0},function(e,t,n){var r=n(50),i=n(39),o=n(72).f,a=n(113),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return o(e)}catch(t){return a(s)}}(e):o(i(e))}},function(e,t,n){var r=n(27),i=n(70),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(7),i=n(35),o=n(55),a=n(32),s=n(89),u=n(115),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return a(i(n,e));throw c(s(e)+" is not iterable")}},function(e,t,n){var r=n(35),i=n(32),o=n(59);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(u){s=!0,a=u}if("throw"===t)throw n;if(s)throw a;return i(a),n}},function(e,t,n){var r=n(28),i=n(33),o=n(97);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},function(e,t,n){var r=n(44);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(46),i=n(37),o=n(27),a=n(36),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(15),i=n(68),o=n(40),a=n(45),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,p=o(a(t)),f=i(n),d=p.length;return f<0||f>=d?e?"":void 0:(r=u(p,f))<55296||r>56319||f+1===d||(l=u(p,f+1))<56320||l>57343?e?s(p,f):r:e?c(p,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(86)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,n){var r=n(27);t.f=r},function(e,t,n){var r=n(181),i=n(34),o=n(149),a=n(37).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(18),i=n(7).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},function(e,t,n){"use strict";var r=n(16),i=n(132).includes,o=n(83);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){"use strict";var r=n(16),i=n(15),o=n(193),a=n(45),s=n(40),u=n(194),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(33),i=n(50),o=n(27)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(32),i=n(157),o=n(27)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(7),i=n(100),o=n(89),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(16),i=n(159).trim;r({target:"String",proto:!0,forced:n(195)("trim")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(15),i=n(45),o=n(40),a=n(160),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),p=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:p(1),end:p(2),trim:p(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(35),i=n(122),o=n(32),a=n(90),s=n(40),u=n(45),c=n(59),l=n(123),p=n(124);i("match",(function(e,t,n){return[function(t){var n=u(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=o(this),i=s(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return p(r,i);var c=r.unicode;r.lastIndex=0;for(var f,d=[],h=0;null!==(f=p(r,i));){var y=s(f[0]);d[h]=y,""===y&&(r.lastIndex=l(i,a(r.lastIndex),c)),h++}return 0===h?null:d}]}))},function(e,t,n){var r,i,o,a,s=n(7),u=n(76),c=n(62),l=n(28),p=n(34),f=n(18),d=n(133),h=n(101),y=n(86),v=n(163),m=n(126),g=s.setImmediate,b=s.clearImmediate,x=s.process,w=s.Dispatch,E=s.Function,_=s.MessageChannel,S=s.String,O=0,P={},k="onreadystatechange";try{r=s.location}catch(A){}var j=function(e){if(p(P,e)){var t=P[e];delete P[e],t()}},C=function(e){return function(){j(e)}},T=function(e){j(e.data)},M=function(e){s.postMessage(S(e),r.protocol+"//"+r.host)};g&&b||(g=function(e){var t=h(arguments,1);return P[++O]=function(){u(l(e)?e:E(e),void 0,t)},i(O),O},b=function(e){delete P[e]},m?i=function(e){x.nextTick(C(e))}:w&&w.now?i=function(e){w.now(C(e))}:_&&!v?(a=(o=new _).port2,o.port1.onmessage=T,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(M)?(i=M,s.addEventListener("message",T,!1)):i=k in y("script")?function(e){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),j(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:g,clear:b}},function(e,t,n){var r=n(53);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(55),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(0);function i(e){throw new Error("[mobx-utils] "+e)}function o(e,t){void 0===t&&(t="Illegal state"),e||i(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},s=function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))},u="pending",c="fulfilled",l="rejected";function p(e){switch(this.state){case u:return e.pending&&e.pending(this.value);case l:return e.rejected&&e.rejected(this.value);case c:return e.fulfilled?e.fulfilled(this.value):this.value}}function f(e,t){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"===typeof e||"object"===typeof e&&e&&"function"===typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"===typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.k)("observableFromPromise-resolve",(function(e){n.value=e,n.state=c})),Object(r.k)("observableFromPromise-reject",(function(e){n.value=e,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=p;var i=t&&t.state===c?t.value:void 0;return Object(r.q)(n,{value:i,state:u},{},{deep:!1}),n}!function(e){e.reject=Object(r.k)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=l,n.value=t,n})),e.resolve=Object(r.k)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=c,n.value=t,n}))}(f||(f={}));var d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object(r.G)((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},d([r.C.ref],e.prototype,"current",void 0),d([r.k.bound],e.prototype,"next",null),d([r.k.bound],e.prototype,"complete",null),d([r.k.bound],e.prototype,"error",null)}();var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function m(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function g(e){return Object(r.A)(e)||Object(r.y)(e)||Object(r.z)(e)}function b(e,t){var n=new WeakMap;function i(r){var i=n.get(r.object);!function(e,t){switch(e.type){case"add":o(e.newValue,t,e.name);break;case"update":a(e.oldValue),o(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(n,r){return o(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(g(e.object[r])){var i=n.get(e.object[r]);i&&(i.path=""+r)}}}(r,i),t(r,m(i),e)}function o(e,t,a){if(g(e)){var s=n.get(e);if(s){if(s.parent!==t||s.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+m(t)+"/"+a+"', but it already exists at '"+m(s.parent)+"/"+s.path+"'")}else{var u={parent:t,path:a,dispose:Object(r.D)(e,i)};n.set(e,u),Object(r.p)(e).forEach((function(e){var t=e[0];return o(e[1],u,t)}))}}}function a(e){if(g(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.L)(e).forEach(a)}}return o(e,void 0,""),function(){a(e)}}!function(){function e(e){var t,n=this;this.model=e,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(e){return n.localValues.has(e)},o(Object(r.A)(e),"createViewModel expects an observable object"),(t=e,s(t).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))).forEach((function(t){if(t!==r.a&&"__mobxDidRunLazyInitializers"!==t){if(o(-1===v.indexOf(t),"The propertyname "+t+" is reserved and cannot be used with viewModels"),Object(r.w)(e,t)){var i=Object(r.h)(e,t).derivation;n.localComputedValues.set(t,Object(r.m)(i.bind(n)))}var a=Object.getOwnPropertyDescriptor(e,t),s=a?{enumerable:a.enumerable}:{};Object.defineProperty(n,t,h(h({},s),{configurable:!0,get:function(){return Object(r.w)(e,t)?n.localComputedValues.get(t).get():n.isPropertyDirty(t)?n.localValues.get(t):n.model[t]},set:Object(r.k)((function(e){e!==n.model[t]?n.localValues.set(t,e):n.localValues.delete(t)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.B)(this.localValues).forEach((function(t){var n=e.localValues.get(t),i=e.model[t];Object(r.y)(i)?i.replace(n):Object(r.z)(i)?(i.clear(),i.merge(n)):Object(r.v)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},y([r.m],e.prototype,"isDirty",null),y([r.m],e.prototype,"changedValues",null),y([r.k.bound],e.prototype,"submit",null),y([r.k.bound],e.prototype,"reset",null),y([r.k.bound],e.prototype,"resetProperty",null)}();var x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=(function(e){function t(t,n,i){var o=void 0===i?{}:i,a=o.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=o.keyToName,c=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=c,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+s),l._base=t;for(var p=0;p<t.length;p++)l._addItem(t[p]);return l._disposeBaseObserver=Object(r.D)(l._base,(function(e){if("splice"===e.type)Object(r.J)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var a=o[i];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.J)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}x(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),i=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:i.length,reaction:Object(r.F)((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(n),a=o.length;o.push(e),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),i.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new w(this.store,e)}}(),new Set,new Set;Promise.resolve();"undefined"!==typeof queueMicrotask?queueMicrotask:"undefined"!==typeof e&&e.nextTick}).call(this,n(155))},function(e,t,n){var r;!function(i,o,a){if(i){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)u[111+f]="f"+f;for(f=0;f<=9;++f)u[f+96]=f.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(g(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},b.init=function(){var e=b(o);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),i.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],p[r]&&(r=p[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],o.push("shift")),y(r)&&o.push(r);return{key:r,modifiers:o,action:t=v(r,o,t)}}function g(e,t){return null!==e&&e!==o&&(e===t||g(e.parentNode,t))}function b(e){var t=this;if(e=e||o,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,i,o,a,s){var u,c,l,p,f=[],d=i.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(c=t._callbacks[e][u],(o||!c.seq||r[c.seq]==c.level)&&d==c.action&&("keypress"==d&&!i.metaKey&&!i.ctrlKey||(l=n,p=c.modifiers,l.sort().join(",")===p.sort().join(",")))){var h=!o&&c.combo==a,v=o&&c.seq==o&&c.level==s;(h||v)&&t._callbacks[e].splice(u,1),f.push(c)}return f}function l(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function p(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function f(e,t,o,a){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function p(t){l(o,t,e),"keyup"!==a&&(i=h(t)),setTimeout(u,10)}r[e]=0;for(var f=0;f<t.length;++f){var d=f+1===t.length?p:c(a||m(t[f+1]).action);v(t[f],d,a,e,f)}}function v(e,n,r,i,o){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?f(e,s,n,r):(a=m(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},i,e,o),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},p=0,f=!1;for(r=0;r<i.length;++r)i[r].seq&&(p=Math.max(p,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=p)continue;f=!0,o[i[r].seq]=1,l(i[r].callback,n,i[r].combo,i[r].seq)}else f||l(i[r].callback,n,i[r].combo);var d="keypress"==n.type&&a;n.type!=s||y(e)||d||u(o),a=f&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},d(e,"keypress",p),d(e,"keydown",p),d(e,"keyup",p)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},function(e,t,n){var r=n(36),i=n(37),o=n(32),a=n(39),s=n(66);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),u=s(t),c=u.length,l=0;c>l;)i.f(e,n=u[l++],r[n]);return e}},function(e,t,n){var r=n(7),i=n(35),o=n(28),a=n(33),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},function(e,t,n){var r=n(7),i=n(28),o=n(92),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},function(e,t,n){"use strict";var r=n(136).IteratorPrototype,i=n(54),o=n(71),a=n(73),s=n(70),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),a(e,l,!1,!0),s[l]=u,e}},function(e,t,n){var r=n(7),i=n(28),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},function(e,t,n){"use strict";var r=n(16),i=n(7),o=n(15),a=n(95),s=n(44),u=n(138),c=n(114),l=n(117),p=n(28),f=n(33),d=n(18),h=n(118),y=n(73),v=n(143);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),b=m?"set":"add",x=i[e],w=x&&x.prototype,E=x,_={},S=function(e){var t=o(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return g&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!p(x)||!(g||w.forEach&&!d((function(){(new x).entries().next()})))))E=n.getConstructor(t,e,m,b),u.enable();else if(a(e,!0)){var O=new E,P=O[b](g?{}:-0,1)!=O,k=d((function(){O.has(1)})),j=h((function(e){new x(e)})),C=!g&&d((function(){for(var e=new x,t=5;t--;)e[b](t,t);return!e.has(-0)}));j||((E=t((function(e,t){l(e,w);var n=v(new x,e,E);return void 0!=t&&c(t,n[b],{that:n,AS_ENTRIES:m}),n}))).prototype=w,w.constructor=E),(k||C)&&(S("delete"),S("has"),m&&S("get")),(C||P)&&S(b),g&&w.clear&&delete w.clear}return _[e]=E,r({global:!0,forced:E!=x},_),y(E,e),g||n.setStrong(E,e,m),E}},function(e,t,n){var r=n(18),i=n(33),o=n(50),a=n(175),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||a?function(e){return!!i(e)&&(!a||"ArrayBuffer"!=o(e))&&(!s||s(e))}:s},function(e,t,n){var r=n(18);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var r=n(18);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(37).f,i=n(54),o=n(144),a=n(62),s=n(117),u=n(114),c=n(111),l=n(145),p=n(36),f=n(138).fastKey,d=n(56),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,d),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),p||(e.size=0),void 0!=r&&u(r,e[c],{that:e,AS_ENTRIES:n})})),d=l.prototype,v=y(t),m=function(e,t,n){var r,i,o=v(e),a=g(e,t);return a?a.value=n:(o.last=a={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),p?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},g=function(e,t){var n,r=v(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(d,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=g(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!g(this,e)}}),o(d,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),p&&r(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";var r=n(116),i=n(98);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r=n(74).forEach,i=n(120)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(7),i=n(99),o=n(100),a=n(33),s=n(27)("species"),u=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===u||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},function(e,t,n){var r=n(7);e.exports=r},function(e,t,n){"use strict";var r=n(7),i=n(62),o=n(35),a=n(38),s=n(183),u=n(140),c=n(100),l=n(43),p=n(61),f=n(141),d=n(115),h=r.Array;e.exports=function(e){var t=a(e),n=c(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=i(y,r>2?arguments[2]:void 0));var m,g,b,x,w,E,_=d(t),S=0;if(!_||this==h&&u(_))for(m=l(t),g=n?new this(m):h(m);m>S;S++)E=v?y(t[S],S):t[S],p(g,S,E);else for(w=(x=f(t,_)).next,g=n?new this:[];!(b=o(w,x)).done;S++)E=v?s(x,y,[b.value,S],!0):b.value,p(g,S,E);return g.length=S,g}},function(e,t,n){var r=n(32),i=n(142);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},function(e,t,n){"use strict";var r=n(32);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(18),i=n(7).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(18),i=n(7).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(16),i=n(15),o=n(55),a=n(38),s=n(43),u=n(40),c=n(18),l=n(188),p=n(120),f=n(189),d=n(190),h=n(65),y=n(191),v=[],m=i(v.sort),g=i(v.push),b=c((function(){v.sort(void 0)})),x=c((function(){v.sort(null)})),w=p("sort"),E=!c((function(){if(h)return h<70;if(!(f&&f>3)){if(d)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!x||!w||!E},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(E)return void 0===e?m(t):m(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&g(i,t[r]);for(l(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<c;)delete t[r++];return t}})},function(e,t,n){var r=n(113),i=Math.floor,o=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,u=i(s/2);return s<8?o(t,n):a(t,e(r(t,0,u),n),e(r(t,u),n),n)}},function(e,t,n){var r=n(53).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(53);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(53).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";var r=n(16),i=n(74).find,o=n(83),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},function(e,t,n){var r=n(7),i=n(154),o=r.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(27)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},function(e,t,n){var r=n(94).PROPER,i=n(18),o=n(160);e.exports=function(e){return i((function(){return!!o[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&o[e].name!==e}))}},function(e,t,n){var r=n(15);e.exports=r(1..valueOf)},function(e,t,n){var r=n(15),i=n(38),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,p,f){var d=n+e.length,h=r.length,y=l;return void 0!==p&&(p=i(p),y=c),s(f,y,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":c=p[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var f=o(l/10);return 0===f?i:f<=h?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},function(e,t,n){"use strict";var r=n(36),i=n(15),o=n(35),a=n(18),s=n(66),u=n(112),c=n(93),l=n(38),p=n(81),f=Object.assign,d=Object.defineProperty,h=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,a=1,f=u.f,d=c.f;i>a;)for(var y,v=p(arguments[a++]),m=f?h(s(v),f(v)):s(v),g=m.length,b=0;g>b;)y=m[b++],r&&!o(d,v,y)||(n[y]=v[y]);return n}:f},function(e,t,n){"use strict";var r=n(7),i=n(15),o=n(55),a=n(33),s=n(34),u=n(101),c=r.Function,l=i([].concat),p=i([].join),f={},d=function(e,t,n){if(!s(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+p(r,",")+")")}return f[t](e,n)};e.exports=c.bind||function(e){var t=o(this),n=t.prototype,r=u(arguments,1),i=function(){var n=l(r,u(arguments));return this instanceof i?d(t,n.length,n):t.apply(e,n)};return a(n)&&(i.prototype=n),i}},function(e,t,n){var r=n(34);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){var r=n(15),i=n(45),o=n(40),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=o(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),c+">"+u+"</"+t+">"}},function(e,t,n){var r=n(18);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){var r=n(16),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=o(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(i)}})},function(e,t,n){"use strict";var r,i,o,a,s=n(16),u=n(64),c=n(7),l=n(46),p=n(35),f=n(205),d=n(44),h=n(144),y=n(97),v=n(73),m=n(145),g=n(55),b=n(28),x=n(33),w=n(117),E=n(92),_=n(114),S=n(118),O=n(156),P=n(162).set,k=n(206),j=n(209),C=n(210),T=n(164),M=n(211),A=n(56),N=n(95),D=n(27),R=n(212),I=n(126),L=n(65),B=D("species"),F="Promise",z=A.getterFor(F),V=A.set,H=A.getterFor(F),$=f&&f.prototype,G=f,U=$,W=c.TypeError,X=c.document,Z=c.process,q=T.f,Y=q,K=!!(X&&X.createEvent&&c.dispatchEvent),J=b(c.PromiseRejectionEvent),Q="unhandledrejection",ee=!1,te=N(F,(function(){var e=E(G),t=e!==String(G);if(!t&&66===L)return!0;if(u&&!U.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[B]=r,!(ee=n.then((function(){}))instanceof r)||!t&&R&&!J})),ne=te||!S((function(e){G.all(e).catch((function(){}))})),re=function(e){var t;return!(!x(e)||!b(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;k((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,d=c.reject,h=c.domain;try{l?(i||(2===e.rejection&&ue(e),e.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),u=!0)),a===c.promise?d(W("Promise-chain cycle")):(s=re(a))?p(s,a,f,d):f(a)):d(r)}catch(y){h&&!u&&h.exit(),d(y)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},oe=function(e,t,n){var r,i;K?((r=X.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!J&&(i=c["on"+e])?i(r):e===Q&&C("Unhandled promise rejection",n)},ae=function(e){p(P,c,(function(){var t,n=e.facade,r=e.value;if(se(e)&&(t=M((function(){I?Z.emit("unhandledRejection",r,n):oe(Q,n,r)})),e.rejection=I||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){p(P,c,(function(){var t=e.facade;I?Z.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},ce=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ie(e,!0))},pe=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw W("Promise can't be resolved itself");var i=re(n);i?k((function(){var r={done:!1};try{p(i,n,ce(e,r,t),ce(le,r,t))}catch(o){le(r,o,t)}})):(t.value=n,t.state=1,ie(t,!1))}catch(o){le({done:!1},o,t)}}};if(te&&(U=(G=function(e){w(this,U),g(e),p(r,this);var t=z(this);try{e(ce(pe,t),ce(le,t))}catch(n){le(t,n)}}).prototype,(r=function(e){V(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U,{then:function(e,t){var n=H(this),r=n.reactions,i=q(O(this,G));return i.ok=!b(e)||e,i.fail=b(t)&&t,i.domain=I?Z.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&ie(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=z(e);this.promise=e,this.resolve=ce(pe,t),this.reject=ce(le,t)},T.f=q=function(e){return e===G||e===o?new i(e):Y(e)},!u&&b(f)&&$!==Object.prototype)){a=$.then,ee||(d($,"then",(function(e,t){var n=this;return new G((function(e,t){p(a,n,e,t)})).then(e,t)}),{unsafe:!0}),d($,"catch",U.catch,{unsafe:!0}));try{delete $.constructor}catch(fe){}y&&y($,U)}s({global:!0,wrap:!0,forced:te},{Promise:G}),v(G,F,!1,!0),m(F),o=l(F),s({target:F,stat:!0,forced:te},{reject:function(e){var t=q(this);return p(t.reject,void 0,e),t.promise}}),s({target:F,stat:!0,forced:u||te},{resolve:function(e){return j(u&&this===o?G:this,e)}}),s({target:F,stat:!0,forced:ne},{all:function(e){var t=this,n=q(t),r=n.resolve,i=n.reject,o=M((function(){var n=g(t.resolve),o=[],a=0,s=1;_(e,(function(e){var u=a++,c=!1;s++,p(n,t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,i=M((function(){var i=g(t.resolve);_(e,(function(e){p(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(7);e.exports=r.Promise},function(e,t,n){var r,i,o,a,s,u,c,l,p=n(7),f=n(62),d=n(51).f,h=n(162).set,y=n(163),v=n(207),m=n(208),g=n(126),b=p.MutationObserver||p.WebKitMutationObserver,x=p.document,w=p.process,E=p.Promise,_=d(p,"queueMicrotask"),S=_&&_.value;S||(r=function(){var e,t;for(g&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},y||g||m||!b||!x?!v&&E&&E.resolve?((c=E.resolve(void 0)).constructor=E,l=f(c.then,c),a=function(){l(r)}):g?a=function(){w.nextTick(r)}:(h=f(h,p),a=function(){h(r)}):(s=!0,u=x.createTextNode(""),new b(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(53),i=n(7);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(e,t,n){var r=n(53);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(32),i=n(33),o=n(164);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t){e.exports="object"==typeof window},function(e,t,n){var r=n(36),i=n(15),o=n(66),a=n(39),s=i(n(93).f),u=i([].push),c=function(e){return function(t){for(var n,i=a(t),c=o(i),l=c.length,p=0,f=[];l>p;)n=c[p++],r&&!s(i,n)||u(f,e?[n,i[n]]:i[n]);return f}};e.exports={entries:c(!0),values:c(!1)}},function(e,t,n){"use strict";var r=n(38),i=n(67),o=n(43);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return ex})),n.d(t,"LogicFlow",(function(){return Qb})),n.d(t,"h",(function(){return ee.g})),n.d(t,"LogicFlowUtil",(function(){return r})),n.d(t,"BaseNode",(function(){return Ay})),n.d(t,"RectNode",(function(){return Vy})),n.d(t,"CircleNode",(function(){return Yy})),n.d(t,"PolygonNode",(function(){return cv})),n.d(t,"DiamondNode",(function(){return gv})),n.d(t,"EllipseNode",(function(){return Mv})),n.d(t,"TextNode",(function(){return Hv})),n.d(t,"HtmlNode",(function(){return Qv})),n.d(t,"BaseEdge",(function(){return Fm})),n.d(t,"LineEdge",(function(){return Jm})),n.d(t,"PolylineEdge",(function(){return vg})),n.d(t,"BezierEdge",(function(){return kg})),n.d(t,"Arrow",(function(){return Lg})),n.d(t,"BaseEdgeModel",(function(){return rs})),n.d(t,"BezierEdgeModel",(function(){return rf})),n.d(t,"LineEdgeModel",(function(){return xs})),n.d(t,"PolylineEdgeModel",(function(){return Bs})),n.d(t,"BaseNodeModel",(function(){return mf})),n.d(t,"CircleNodeModel",(function(){return If})),n.d(t,"DiamondNodeModel",(function(){return rd})),n.d(t,"EllipseNodeModel",(function(){return wd})),n.d(t,"PolygonNodeModel",(function(){return Vd})),n.d(t,"RectNodeModel",(function(){return rh})),n.d(t,"TextNodeModel",(function(){return gh})),n.d(t,"HtmlNodeModel",(function(){return Ah})),n.d(t,"EditConfigModel",(function(){return ki})),n.d(t,"GraphModel",(function(){return rc})),n.d(t,"SnaplineModel",(function(){return Bh})),n.d(t,"Keyboard",(function(){return $b})),n.d(t,"get",(function(){return vp})),n.d(t,"defaults",(function(){return bp}));var r={};n.r(r),n.d(r,"createUuid",(function(){return ea})),n.d(r,"refreshGraphId",(function(){return ta})),n.d(r,"createDrag",(function(){return Cu})),n.d(r,"StepDrag",(function(){return $u}));var i=n(0),o=n(10);if(!o.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),s=Object(a.b)("observerBatching");function u(e){e()}var c=!1;function l(){return c}function p(e){return Object(i.t)(e)}var f,d=1e4,h=new Set;function y(){void 0===f&&(f=setTimeout(v,1e4))}function v(){f=void 0;var e=Date.now();h.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,h.delete(t))})),h.size>0&&y()}var m=!1,g=[],b={};function x(e){return"observer"+e}function w(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=b),l())return e();var r,s=function(e){return function(){m?g.push(e):e()}}((n.useForceUpdate||a.d)()),u=o.d.useRef(null);if(!u.current){var c=new i.c(x(t),(function(){f.mounted?s():(c.dispose(),u.current=null)})),f=function(e){return{cleanAt:Date.now()+d,reaction:e}}(c);u.current=f,r=u,h.add(r),y()}var v=u.current.reaction;return o.d.useDebugValue(v,p),o.d.useEffect((function(){var e;return e=u,h.delete(e),u.current?u.current.mounted=!0:(u.current={reaction:new i.c(x(t),(function(){s()})),cleanAt:1/0},s()),function(){u.current.reaction.dispose(),u.current=null}}),[]),function(e){m=!0,g=[];try{var t=e();m=!1;var n=g.length>0?g:void 0;return o.d.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{m=!1}}((function(){var t,n;if(v.track((function(){try{t=e()}catch(r){n=r}})),n)throw n;return t}))}var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)};function _(e,t){if(l())return e;var n,r,i,a=E({forwardRef:!1},t),s=e.displayName||e.name,u=function(t,n){return w((function(){return e(t,n)}),s)};return u.displayName=s,n=a.forwardRef?Object(o.f)(Object(o.e)(u)):Object(o.f)(u),r=e,i=n,Object.keys(r).forEach((function(e){O[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=s,n}var S,O={$$typeof:!0,render:!0,compare:!0,type:!0};function P(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:w(r)}function k(e,t,n,r,i){var o="children"===t?"render":"children",a="function"===typeof e[t],s="function"===typeof e[o];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}P.propTypes={children:k,render:k},P.displayName="Observer",(S=o.g)||(S=u),Object(i.n)({reactionScheduler:S}),Object(a.a)()[s]=!0;var j=0,C={};function T(e){return C[e]||(C[e]=function(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+j+")";return j++,t}(e)),C[e]}function M(e,t){if(A(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!A(e[n[i]],t[n[i]]))return!1;return!0}function A(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function N(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var D=T("patchMixins"),R=T("patchedDefinition");function I(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function L(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];I.call.apply(I,[this,e,t].concat(r))}}function B(e,t,n){var r=function(e,t){var n=e[D]=e[D]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[R]){var o=e[t],a=F(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,a)}}function F(e,t,n,r,i){var o,a=L(i,r);return(o={})[R]=!0,o.get=function(){return a},o.set=function(i){if(this===e)a=L(i,r);else{var o=F(this,t,n,r,i);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=n,o}var z=i.a||"$mobx",V=T("isMobXReactObserver"),H=T("isUnmounted"),$=T("skipRender"),G=T("isForcingUpdate");function U(e){var t=e.prototype;if(e[V]){var n=W(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[V]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Z)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Z;q(t,"props"),q(t,"state");var r=t.render;return t.render=function(){return X.call(this,r)},B(t,"componentWillUnmount",(function(){var e;if(!0!==l()&&(null===(e=this.render[z])||void 0===e||e.dispose(),this[H]=!0,!this.render[z])){var t=W(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function W(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function X(e){var t=this;if(!0===l())return e.call(this);N(this,$,!1),N(this,G,!1);var n=W(this),r=e.bind(this),a=!1,s=new i.c(n+".render()",(function(){if(!a&&(a=!0,!0!==t[H])){var e=!0;try{N(t,G,!0),t[$]||o.a.prototype.forceUpdate.call(t),e=!1}finally{N(t,G,!1),e&&s.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(s.track((function(){try{t=Object(i.d)(!1,r)}catch(n){e=n}})),e)throw e;return t}return s.reactComponent=this,u[z]=s,this.render=u,u.call(this)}function Z(e,t){return l()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!M(this.props,e)}function q(e,t){var n=T("reactProp_"+t+"_valueHolder"),r=T("reactProp_"+t+"_atomHolder");function o(){return this[r]||N(this,r,Object(i.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return i.f&&i.e&&(e=Object(i.f)(!0)),o.call(this).reportObserved(),i.f&&i.e&&Object(i.e)(e),this[n]},set:function(e){this[G]||M(this[n],e)?N(this,n,e):(N(this,n,e),N(this,$,!0),o.call(this).reportChanged(),N(this,$,!1))}})}var Y="function"===typeof Symbol&&Symbol.for,K=Y?Symbol.for("react.forward_ref"):"function"===typeof o.e&&Object(o.e)((function(e){return null})).$$typeof,J=Y?Symbol.for("react.memo"):"function"===typeof o.f&&Object(o.f)((function(e){return null})).$$typeof;function Q(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),J&&e.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(K&&e.$$typeof===K){var t=e.render;if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return Object(o.e)((function(){var e=arguments;return Object(o.c)(P,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(o.a,e)?U(e):_(e)}if(!o.a)throw new Error("mobx-react requires React to be available");if(!i.C)throw new Error("mobx-react requires mobx to be available");var ee=n(1);n(3),n(60),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(8),n(9),n(17),n(25),n(19),n(29),n(187),n(192),n(103),n(152),n(153);var te=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ne=function(){this.__data__=[],this.size=0},re=function(e,t){return e===t||e!==e&&t!==t},ie=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},oe=Array.prototype.splice,ae=function(e){var t=this.__data__,n=ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},se=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ue=function(e){return ie(this.__data__,e)>-1},ce=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=ae,le.prototype.get=se,le.prototype.has=ue,le.prototype.set=ce;var pe=le,fe=function(){this.__data__=new pe,this.size=0},de=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},he=function(e){return this.__data__.get(e)},ye=function(e){return this.__data__.has(e)},ve=n(31),me=ve.a.Symbol,ge=Object.prototype,be=ge.hasOwnProperty,xe=ge.toString,we=me?me.toStringTag:void 0,Ee=function(e){var t=be.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(o){}var i=xe.call(e);return r&&(t?e[we]=n:delete e[we]),i},_e=Object.prototype.toString,Se=function(e){return _e.call(e)},Oe=me?me.toStringTag:void 0,Pe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Oe&&Oe in Object(e)?Ee(e):Se(e)},ke=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},je=function(e){if(!ke(e))return!1;var t=Pe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ce=ve.a["__core-js_shared__"],Te=function(){var e=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=function(e){return!!Te&&Te in e},Ae=Function.prototype.toString,Ne=function(e){if(null!=e){try{return Ae.call(e)}catch(t){}try{return e+""}catch(t){}}return""},De=/^\[object .+?Constructor\]$/,Re=Function.prototype,Ie=Object.prototype,Le=Re.toString,Be=Ie.hasOwnProperty,Fe=RegExp("^"+Le.call(Be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=function(e){return!(!ke(e)||Me(e))&&(je(e)?Fe:De).test(Ne(e))},Ve=function(e,t){return null==e?void 0:e[t]},He=function(e,t){var n=Ve(e,t);return ze(n)?n:void 0},$e=He(ve.a,"Map"),Ge=He(Object,"create"),Ue=function(){this.__data__=Ge?Ge(null):{},this.size=0},We=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xe=Object.prototype.hasOwnProperty,Ze=function(e){var t=this.__data__;if(Ge){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Xe.call(t,e)?t[e]:void 0},qe=Object.prototype.hasOwnProperty,Ye=function(e){var t=this.__data__;return Ge?void 0!==t[e]:qe.call(t,e)},Ke=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ge&&void 0===t?"__lodash_hash_undefined__":t,this};function Je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=Ue,Je.prototype.delete=We,Je.prototype.get=Ze,Je.prototype.has=Ye,Je.prototype.set=Ke;var Qe=Je,et=function(){this.size=0,this.__data__={hash:new Qe,map:new($e||pe),string:new Qe}},tt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},nt=function(e,t){var n=e.__data__;return tt(t)?n["string"==typeof t?"string":"hash"]:n.map},rt=function(e){var t=nt(this,e).delete(e);return this.size-=t?1:0,t},it=function(e){return nt(this,e).get(e)},ot=function(e){return nt(this,e).has(e)},at=function(e,t){var n=nt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}st.prototype.clear=et,st.prototype.delete=rt,st.prototype.get=it,st.prototype.has=ot,st.prototype.set=at;var ut=st,ct=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!$e||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ut(r)}return n.set(e,t),this.size=n.size,this};function lt(e){var t=this.__data__=new pe(e);this.size=t.size}lt.prototype.clear=fe,lt.prototype.delete=de,lt.prototype.get=he,lt.prototype.has=ye,lt.prototype.set=ct;var pt=lt,ft=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},dt=function(e){return this.__data__.has(e)};function ht(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ut;++t<n;)this.add(e[t])}ht.prototype.add=ht.prototype.push=ft,ht.prototype.has=dt;var yt=ht,vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},mt=function(e,t){return e.has(t)},gt=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var p=-1,f=!0,d=2&n?new yt:void 0;for(o.set(e,t),o.set(t,e);++p<s;){var h=e[p],y=t[p];if(r)var v=a?r(y,h,p,t,e,o):r(h,y,p,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!vt(t,(function(e,t){if(!mt(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)}))){f=!1;break}}else if(h!==y&&!i(h,y,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},bt=ve.a.Uint8Array,xt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},wt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Et=me?me.prototype:void 0,_t=Et?Et.valueOf:void 0,St=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new bt(e),new bt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return re(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=xt;case"[object Set]":var u=1&r;if(s||(s=wt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=gt(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(_t)return _t.call(e)==_t.call(t)}return!1},Ot=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Pt=Array.isArray,kt=function(e,t,n){var r=t(e);return Pt(e)?r:Ot(r,n(e))},jt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Ct=function(){return[]},Tt=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols,At=Mt?function(e){return null==e?[]:(e=Object(e),jt(Mt(e),(function(t){return Tt.call(e,t)})))}:Ct,Nt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Dt=function(e){return null!=e&&"object"==typeof e},Rt=function(e){return Dt(e)&&"[object Arguments]"==Pe(e)},It=Object.prototype,Lt=It.hasOwnProperty,Bt=It.propertyIsEnumerable,Ft=Rt(function(){return arguments}())?Rt:function(e){return Dt(e)&&Lt.call(e,"callee")&&!Bt.call(e,"callee")},zt=Ft,Vt=n(48),Ht=/^(?:0|[1-9]\d*)$/,$t=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ht.test(e))&&e>-1&&e%1==0&&e<t},Gt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ut={};Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=!0,Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object Boolean]"]=Ut["[object DataView]"]=Ut["[object Date]"]=Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object WeakMap]"]=!1;var Wt=function(e){return Dt(e)&&Gt(e.length)&&!!Ut[Pe(e)]},Xt=function(e){return function(t){return e(t)}},Zt=n(49),qt=Zt.a&&Zt.a.isTypedArray,Yt=qt?Xt(qt):Wt,Kt=Object.prototype.hasOwnProperty,Jt=function(e,t){var n=Pt(e),r=!n&&zt(e),i=!n&&!r&&Object(Vt.a)(e),o=!n&&!r&&!i&&Yt(e),a=n||r||i||o,s=a?Nt(e.length,String):[],u=s.length;for(var c in e)!t&&!Kt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$t(c,u))||s.push(c);return s},Qt=Object.prototype,en=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qt)},tn=function(e,t){return function(n){return e(t(n))}},nn=tn(Object.keys,Object),rn=Object.prototype.hasOwnProperty,on=function(e){if(!en(e))return nn(e);var t=[];for(var n in Object(e))rn.call(e,n)&&"constructor"!=n&&t.push(n);return t},an=function(e){return null!=e&&Gt(e.length)&&!je(e)},sn=function(e){return an(e)?Jt(e):on(e)},un=function(e){return kt(e,sn,At)},cn=Object.prototype.hasOwnProperty,ln=function(e,t,n,r,i,o){var a=1&n,s=un(e),u=s.length;if(u!=un(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:cn.call(t,l)))return!1}var p=o.get(e),f=o.get(t);if(p&&f)return p==t&&f==e;var d=!0;o.set(e,t),o.set(t,e);for(var h=a;++c<u;){var y=e[l=s[c]],v=t[l];if(r)var m=a?r(v,y,l,t,e,o):r(y,v,l,e,t,o);if(!(void 0===m?y===v||i(y,v,n,r,o):m)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},pn=He(ve.a,"DataView"),fn=He(ve.a,"Promise"),dn=He(ve.a,"Set"),hn=He(ve.a,"WeakMap"),yn="[object Map]",vn="[object Promise]",mn="[object Set]",gn="[object WeakMap]",bn="[object DataView]",xn=Ne(pn),wn=Ne($e),En=Ne(fn),_n=Ne(dn),Sn=Ne(hn),On=Pe;(pn&&On(new pn(new ArrayBuffer(1)))!=bn||$e&&On(new $e)!=yn||fn&&On(fn.resolve())!=vn||dn&&On(new dn)!=mn||hn&&On(new hn)!=gn)&&(On=function(e){var t=Pe(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ne(n):"";if(r)switch(r){case xn:return bn;case wn:return yn;case En:return vn;case _n:return mn;case Sn:return gn}return t});var Pn=On,kn="[object Arguments]",jn="[object Array]",Cn="[object Object]",Tn=Object.prototype.hasOwnProperty,Mn=function(e,t,n,r,i,o){var a=Pt(e),s=Pt(t),u=a?jn:Pn(e),c=s?jn:Pn(t),l=(u=u==kn?Cn:u)==Cn,p=(c=c==kn?Cn:c)==Cn,f=u==c;if(f&&Object(Vt.a)(e)){if(!Object(Vt.a)(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new pt),a||Yt(e)?gt(e,t,n,r,i,o):St(e,t,u,n,r,i,o);if(!(1&n)){var d=l&&Tn.call(e,"__wrapped__"),h=p&&Tn.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return o||(o=new pt),i(y,v,n,r,o)}}return!!f&&(o||(o=new pt),ln(e,t,n,r,i,o))},An=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Dt(t)&&!Dt(n)?t!==t&&n!==n:Mn(t,n,r,i,e,o))},Nn=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var p=new pt;if(r)var f=r(c,l,u,e,t,p);if(!(void 0===f?An(l,c,3,r,p):f))return!1}}return!0},Dn=function(e){return e===e&&!ke(e)},Rn=function(e){for(var t=sn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Dn(i)]}return t},In=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Ln=function(e){var t=Rn(e);return 1==t.length&&t[0][2]?In(t[0][0],t[0][1]):function(n){return n===e||Nn(n,e,t)}},Bn=function(e){return"symbol"==typeof e||Dt(e)&&"[object Symbol]"==Pe(e)},Fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zn=/^\w*$/,Vn=function(e,t){if(Pt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bn(e))||zn.test(e)||!Fn.test(e)||null!=t&&e in Object(t)};function Hn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Hn.Cache||ut),n}Hn.Cache=ut;var $n,Gn,Un,Wn,Xn,Zn,qn,Yn,Kn,Jn,Qn,er,tr,nr,rr,ir,or,ar,sr,ur,cr=Hn,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pr=/\\(\\)?/g,fr=function(e){var t=cr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(lr,(function(e,n,r,i){t.push(r?i.replace(pr,"$1"):n||e)})),t})),dr=me?me.prototype:void 0,hr=dr?dr.toString:void 0,yr=function e(t){if("string"==typeof t)return t;if(Pt(t))return te(t,e)+"";if(Bn(t))return hr?hr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},vr=function(e){return null==e?"":yr(e)},mr=function(e,t){return Pt(e)?e:Vn(e,t)?[e]:fr(vr(e))},gr=function(e){if("string"==typeof e||Bn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},br=function(e,t){for(var n=0,r=(t=mr(t,e)).length;null!=e&&n<r;)e=e[gr(t[n++])];return n&&n==r?e:void 0},xr=function(e,t,n){var r=null==e?void 0:br(e,t);return void 0===r?n:r},wr=function(e,t){return null!=e&&t in Object(e)},Er=function(e,t,n){for(var r=-1,i=(t=mr(t,e)).length,o=!1;++r<i;){var a=gr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Gt(i)&&$t(a,i)&&(Pt(e)||zt(e))},_r=function(e,t){return null!=e&&Er(e,t,wr)},Sr=function(e,t){return Vn(e)&&Dn(t)?In(gr(e),t):function(n){var r=xr(n,e);return void 0===r&&r===t?_r(n,e):An(t,r,3)}},Or=function(e){return e},Pr=function(e){return function(t){return null==t?void 0:t[e]}},kr=function(e){return function(t){return br(t,e)}},jr=function(e){return Vn(e)?Pr(gr(e)):kr(e)},Cr=function(e){return"function"==typeof e?e:null==e?Or:"object"==typeof e?Pt(e)?Sr(e[0],e[1]):Ln(e):jr(e)},Tr=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[$n?a:++r];if(!1===t(i[s],s,i))break}return e},Mr=function(e,t){return function(n,r){if(null==n)return n;if(!an(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&Tr(e,t,sn)})),Ar=function(e,t){var n=-1,r=an(e)?Array(e.length):[];return Mr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},Nr=function(e,t){return(Pt(e)?te:Ar)(e,Cr(t,3))},Dr=function(){try{var e=He(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Rr=function(e,t,n){"__proto__"==t&&Dr?Dr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ir=Object.prototype.hasOwnProperty,Lr=function(e,t,n){var r=e[t];Ir.call(e,t)&&re(r,n)&&(void 0!==n||t in e)||Rr(e,t,n)},Br=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Rr(n,s,u):Lr(n,s,u)}return n},Fr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},zr=Math.max,Vr=function(e,t,n){return t=zr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=zr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Fr(e,this,s)}},Hr=function(e){return function(){return e}},$r=Dr?function(e,t){return Dr(e,"toString",{configurable:!0,enumerable:!1,value:Hr(t),writable:!0})}:Or,Gr=Date.now,Ur=function(e){var t=0,n=0;return function(){var r=Gr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Wr=Ur($r),Xr=function(e,t){return Wr(Vr(e,t,Or),e+"")},Zr=function(e,t,n){if(!ke(n))return!1;var r=typeof t;return!!("number"==r?an(n)&&$t(t,n.length):"string"==r&&t in n)&&re(n[t],e)},qr=function(e){return Xr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Zr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))},Yr=Object.prototype.hasOwnProperty,Kr=qr((function(e,t){if(en(t)||an(t))Br(t,sn(t),e);else for(var n in t)Yr.call(t,n)&&Lr(e,n,t[n])})),Jr=function(e,t,n,r){if(!ke(e))return e;for(var i=-1,o=(t=mr(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=gr(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=ke(l)?l:$t(t[i+1])?[]:{})}Lr(s,u,c),s=s[u]}return e},Qr=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=br(e,a);n(s,a)&&Jr(o,mr(a,e),s)}return o},ei=function(e,t){return Qr(e,t,(function(t,n){return _r(e,n)}))},ti=me?me.isConcatSpreadable:void 0,ni=function(e){return Pt(e)||zt(e)||!!(ti&&e&&e[ti])},ri=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=ni),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):Ot(o,u):i||(o[o.length]=u)}return o},ii=function(e){return null!=e&&e.length?ri(e,1):[]},oi=Wr(Vr(ur=function(e,t){return null==e?{}:ei(e,t)},void 0,ii),ur+"");function ai(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var li,pi,fi,di,hi,yi,vi,mi,gi,bi,xi,wi,Ei,_i,Si,Oi={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Pi=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],ki=(Un=ci((Gn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ai(this,"isSilentMode",Un,this),ai(this,"stopZoomGraph",Wn,this),ai(this,"stopScrollGraph",Xn,this),ai(this,"stopMoveGraph",Zn,this),ai(this,"adjustEdge",qn,this),ai(this,"adjustEdgeMiddle",Yn,this),ai(this,"adjustEdgeStartAndEnd",Kn,this),ai(this,"adjustNodePosition",Jn,this),ai(this,"hideAnchors",Qn,this),ai(this,"hoverOutline",er,this),ai(this,"nodeSelectedOutline",tr,this),ai(this,"edgeSelectedOutline",nr,this),ai(this,"nodeTextEdit",rr,this),ai(this,"edgeTextEdit",ir,this),ai(this,"nodeTextDraggable",or,this),ai(this,"edgeTextDraggable",ar,this),ai(this,"autoExpand",sr,this),ui(this,"multipleSelectKey",""),ui(this,"defaultConfig",{}),Kr(this,this.getConfigDetail(t))}var t,n,r;return t=e,(n=[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);Kr(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,n=e.textEdit,r={};if(!1===t&&Kr(r,this.defaultConfig),!0===t){var i=oi(Oi,Pi);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Kr(r,i)}!1===n&&Kr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var o=oi(e,Pi);return Kr(r,o)}},{key:"getConfig",value:function(){return oi(this,Pi)}}])&&si(t.prototype,n),r&&si(t,r),e}()).prototype,"isSilentMode",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wn=ci(Gn.prototype,"stopZoomGraph",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xn=ci(Gn.prototype,"stopScrollGraph",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zn=ci(Gn.prototype,"stopMoveGraph",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qn=ci(Gn.prototype,"adjustEdge",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yn=ci(Gn.prototype,"adjustEdgeMiddle",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kn=ci(Gn.prototype,"adjustEdgeStartAndEnd",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jn=ci(Gn.prototype,"adjustNodePosition",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qn=ci(Gn.prototype,"hideAnchors",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),er=ci(Gn.prototype,"hoverOutline",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tr=ci(Gn.prototype,"nodeSelectedOutline",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nr=ci(Gn.prototype,"edgeSelectedOutline",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rr=ci(Gn.prototype,"nodeTextEdit",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ir=ci(Gn.prototype,"edgeTextEdit",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),or=ci(Gn.prototype,"nodeTextDraggable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ar=ci(Gn.prototype,"edgeTextDraggable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=ci(Gn.prototype,"autoExpand",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ci(Gn.prototype,"updateEditConfig",[i.k],Object.getOwnPropertyDescriptor(Gn.prototype,"updateEditConfig"),Gn.prototype),Gn);function ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(77),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(li||(li={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(pi||(pi={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(fi||(fi={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(di||(di={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(hi||(hi={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(yi||(yi={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(vi||(vi={}));var Di=(mi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ai(this,"MINI_SCALE_SIZE",.2),Ai(this,"MAX_SCALE_SIZE",16),Ti(this,"SCALE_X",gi,this),Ti(this,"SKEW_Y",bi,this),Ti(this,"SKEW_X",xi,this),Ti(this,"SCALE_Y",wi,this),Ti(this,"TRANSLATE_X",Ei,this),Ti(this,"TRANSLATE_Y",_i,this),Ti(this,"ZOOM_SIZE",Si,this),Ai(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,n=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=ji(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=ji(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=ji(e,2),i=r[0],o=r[1];return[i+t/this.SCALE_X,o+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===e?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===e?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"===typeof e&&(n=e,r=e),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(t&&(this.TRANSLATE_X-=(n-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*t[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(e){this.eventCenter.emit(hi.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(e,t,n,r){var i=ji(this.CanvasPointToHtmlPoint([e,t]),2),o=n/2-i[0],a=r/2-i[1];this.TRANSLATE_X+=o,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}],n&&Mi(t.prototype,n),r&&Mi(t,r),e}(),gi=Ni(mi.prototype,"SCALE_X",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bi=Ni(mi.prototype,"SKEW_Y",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xi=Ni(mi.prototype,"SKEW_X",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wi=Ni(mi.prototype,"SCALE_Y",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ei=Ni(mi.prototype,"TRANSLATE_X",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_i=Ni(mi.prototype,"TRANSLATE_Y",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Si=Ni(mi.prototype,"ZOOM_SIZE",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Ni(mi.prototype,"zoom",[i.k],Object.getOwnPropertyDescriptor(mi.prototype,"zoom"),mi.prototype),Ni(mi.prototype,"resetZoom",[i.k],Object.getOwnPropertyDescriptor(mi.prototype,"resetZoom"),mi.prototype),Ni(mi.prototype,"translate",[i.k],Object.getOwnPropertyDescriptor(mi.prototype,"translate"),mi.prototype),Ni(mi.prototype,"focusOn",[i.k],Object.getOwnPropertyDescriptor(mi.prototype,"focusOn"),mi.prototype),mi),Ri=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Ii=function(e,t){return e&&Br(t,sn(t),e)},Li=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Bi=Object.prototype.hasOwnProperty,Fi=function(e){if(!ke(e))return Li(e);var t=en(e),n=[];for(var r in e)("constructor"!=r||!t&&Bi.call(e,r))&&n.push(r);return n},zi=function(e){return an(e)?Jt(e,!0):Fi(e)},Vi=function(e,t){return e&&Br(t,zi(t),e)},Hi=n(106),$i=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Gi=function(e,t){return Br(e,At(e),t)},Ui=tn(Object.getPrototypeOf,Object),Wi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ot(t,At(e)),e=Ui(e);return t}:Ct,Xi=function(e,t){return Br(e,Wi(e),t)},Zi=function(e){return kt(e,zi,Wi)},qi=Object.prototype.hasOwnProperty,Yi=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qi.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ki=function(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t},Ji=function(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Qi=/\w*$/,eo=function(e){var t=new e.constructor(e.source,Qi.exec(e));return t.lastIndex=e.lastIndex,t},to=me?me.prototype:void 0,no=to?to.valueOf:void 0,ro=function(e){return no?Object(no.call(e)):{}},io=function(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},oo=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ki(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Ji(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return io(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return eo(e);case"[object Symbol]":return ro(e)}},ao=Object.create,so=function(){function e(){}return function(t){if(!ke(t))return{};if(ao)return ao(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),uo=function(e){return"function"!=typeof e.constructor||en(e)?{}:so(Ui(e))},co=function(e){return Dt(e)&&"[object Map]"==Pn(e)},lo=Zt.a&&Zt.a.isMap,po=lo?Xt(lo):co,fo=function(e){return Dt(e)&&"[object Set]"==Pn(e)},ho=Zt.a&&Zt.a.isSet,yo=ho?Xt(ho):fo,vo="[object Arguments]",mo="[object Function]",go="[object Object]",bo={};bo[vo]=bo["[object Array]"]=bo["[object ArrayBuffer]"]=bo["[object DataView]"]=bo["[object Boolean]"]=bo["[object Date]"]=bo["[object Float32Array]"]=bo["[object Float64Array]"]=bo["[object Int8Array]"]=bo["[object Int16Array]"]=bo["[object Int32Array]"]=bo["[object Map]"]=bo["[object Number]"]=bo["[object Object]"]=bo["[object RegExp]"]=bo["[object Set]"]=bo["[object String]"]=bo["[object Symbol]"]=bo["[object Uint8Array]"]=bo["[object Uint8ClampedArray]"]=bo["[object Uint16Array]"]=bo["[object Uint32Array]"]=!0,bo["[object Error]"]=bo[mo]=bo["[object WeakMap]"]=!1;var xo=function e(t,n,r,i,o,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!ke(t))return t;var p=Pt(t);if(p){if(s=Yi(t),!u)return $i(t,s)}else{var f=Pn(t),d=f==mo||"[object GeneratorFunction]"==f;if(Object(Vt.a)(t))return Object(Hi.a)(t,u);if(f==go||f==vo||d&&!o){if(s=c||d?{}:uo(t),!u)return c?Xi(t,Vi(s,t)):Gi(t,Ii(s,t))}else{if(!bo[f])return o?t:{};s=oo(t,f,u)}}a||(a=new pt);var h=a.get(t);if(h)return h;a.set(t,s),yo(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):po(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var y=p?void 0:(l?c?Zi:un:c?zi:sn)(t);return Ri(y||t,(function(i,o){y&&(i=t[o=i]),Lr(s,o,e(i,n,r,o,t,a))})),s},wo=function(e){return xo(e,5)},Eo=function(e,t,n){(void 0!==n&&!re(e[t],n)||void 0===n&&!(t in e))&&Rr(e,t,n)},_o=function(e){return Dt(e)&&an(e)},So=Function.prototype,Oo=Object.prototype,Po=So.toString,ko=Oo.hasOwnProperty,jo=Po.call(Object),Co=function(e){if(!Dt(e)||"[object Object]"!=Pe(e))return!1;var t=Ui(e);if(null===t)return!0;var n=ko.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Po.call(n)==jo},To=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},Mo=function(e){return Br(e,zi(e))},Ao=function(e,t,n,r,i,o,a){var s=To(e,n),u=To(t,n),c=a.get(u);if(c)Eo(e,n,c);else{var l=o?o(s,u,n+"",e,t,a):void 0,p=void 0===l;if(p){var f=Pt(u),d=!f&&Object(Vt.a)(u),h=!f&&!d&&Yt(u);l=u,f||d||h?Pt(s)?l=s:_o(s)?l=$i(s):d?(p=!1,l=Object(Hi.a)(u,!0)):h?(p=!1,l=io(u,!0)):l=[]:Co(u)||zt(u)?(l=s,zt(s)?l=Mo(s):ke(s)&&!je(s)||(l=uo(u))):p=!1}p&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Eo(e,n,l)}},No=function e(t,n,r,i,o){t!==n&&Tr(n,(function(a,s){if(o||(o=new pt),ke(a))Ao(t,n,s,r,e,i,o);else{var u=i?i(To(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),Eo(t,s,u)}}),zi)},Do=qr((function(e,t,n){No(e,t,n)})),Ro={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Io=function(e){var t=wo(Ro);return e&&(t=Do(t,e)),t};function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(78),n(158);var Bo=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="_events")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){var r=this;return null===e||void 0===e||e.split(",").forEach((function(e){e=e.trim(),r._events[e]||(r._events[e]=[]),r._events[e].push({callback:t,once:!!n})})),this}},{key:"once",value:function(e,t){var n=this;null===e||void 0===e||e.split(",").forEach((function(e){return e=e.trim(),n.on(e,t,!0)}))}},{key:"emit",value:function(e,t){var n=this;null===e||void 0===e||e.split(",").forEach((function(e){var r=n._events[e]||[],i=n._events["*"]||[],o=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete n._events[e],i--,o--),s.apply(n,[t])}};o(r),o(i)}))}},{key:"off",value:function(e,t){var n=this;return e||(this._events={}),e.split(",").forEach((function(e){if(t){for(var r=n._events[e]||[],i=r.length,o=0;o<i;o++)r[o].callback===t&&(r.splice(o,1),i--,o--);0===r.length&&delete n._events[e]}else delete n._events[e]})),this}},{key:"getEvents",value:function(){return this._events}}])&&Lo(t.prototype,n),r&&Lo(t,r),e}();function Fo(e,t){return t*Math.round(e/t)||e}function zo(e,t){return e%t}function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $o,Go=function(e,t,n){var r=Vo(e,2),i=r[0],o=r[1],a=Vo(t,2),s=a[0],u=a[1],c=Vo(n,2),l=c[0],p=c[1];return i>s&&i<l&&o>u&&o<p},Uo=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Wo=(n(79),n(161),n(125),n(80),n(30),n(12),n(13),n(14),n(47),new Uint8Array(16));function Xo(){if(!$o&&!($o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $o(Wo)}for(var Zo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,qo=function(e){return"string"===typeof e&&Zo.test(e)},Yo=[],Ko=0;Ko<256;++Ko)Yo.push((Ko+256).toString(16).substr(1));var Jo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Yo[e[t+0]]+Yo[e[t+1]]+Yo[e[t+2]]+Yo[e[t+3]]+"-"+Yo[e[t+4]]+Yo[e[t+5]]+"-"+Yo[e[t+6]]+Yo[e[t+7]]+"-"+Yo[e[t+8]]+Yo[e[t+9]]+"-"+Yo[e[t+10]]+Yo[e[t+11]]+Yo[e[t+12]]+Yo[e[t+13]]+Yo[e[t+14]]+Yo[e[t+15]]).toLowerCase();if(!qo(n))throw TypeError("Stringified UUID is invalid");return n},Qo=function(e,t,n){var r=(e=e||{}).random||(e.rng||Xo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Jo(r)},ea=function(){return Qo()},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.nodes.reduce((function(e,n){return e[n.id]=t+Qo(),n.id=e[n.id],e}),{});return e.edges.forEach((function(e){e.id=t+Qo(),e.sourceNodeId=n[e.sourceNodeId],e.targetNodeId=n[e.targetNodeId]})),e},na=(n(104),n(203),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function ra(e){return ra="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa,ua,ca,la,pa,fa,da,ha,ya,va,ma,ga,ba,xa,wa,Ea,_a,Sa,Oa,Pa,ka=function(e){return e.anchors},ja=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(Na(e,o)){var a=Ta(e,o);if(a){var s={node:o,anchorIndex:a.index,anchor:a.anchor};n&&!Ca(o,n.node,t)||(n=s)}}}return n},Ca=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Ta=function(e,t){for(var n,r=ka(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Ma(e.x,e.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:oa(oa({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Ma=function(e,t,n,r){return Math.hypot(e-n,t-r)},Aa=function(e,t){var n=!1,r=Da(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Na=function(e,t){var n=!1,r=Da(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Da=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},Ra=function(e,t,n){var r,i=function(e){var t=e,n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;return[{x:n-i/2+a,y:r-o/2+a,r:a},{x:n+i/2-a,y:r-o/2+a,r:a},{x:n-i/2+a,y:r+o/2-a,r:a},{x:n+i/2-a,y:r+o/2-a,r:a}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach((function(t){var n=Ma(e.x,e.y,t.x,t.y);n<o&&(o=n,r=t)})),Ia(e,t,r)},Ia=function(e,t,n){var r,i=n,o=i.x,a=i.y,s=i.r;if(t===yi.HORIZONTAL){var u=o-Math.sqrt(s*s-(e.y-a)*(e.y-a)),c=o+Math.sqrt(s*s-(e.y-a)*(e.y-a));r={x:Math.abs(u-e.x)<Math.abs(c-e.x)?u:c,y:e.y}}else if(t===yi.VERTICAL){var l=a-Math.sqrt(s*s-(e.x-o)*(e.x-o)),p=a+Math.sqrt(s*s-(e.x-o)*(e.x-o)),f=Math.abs(l-e.y)<Math.abs(p-e.y)?l:p;r={x:e.x,y:f}}return r},La=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,u=n.x,c=n.y,l=n.width,p=n.height;return e.y===c+p/2||e.y===c-p/2?r=e.x>i&&e.x<o:e.x!==u+l/2&&e.x!==u-l/2||(r=e.y>a&&e.y<s),r},Ba=function(e,t,n){var r,i=n,o=i.x,a=i.y,s=i.rx,u=i.ry;if(t===yi.HORIZONTAL){var c=o-Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(u*u)),l=o+Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(u*u));r={x:Math.abs(c-e.x)<Math.abs(l-e.x)?c:l,y:e.y}}else if(t===yi.VERTICAL){var p=a-Math.sqrt(u*u-(e.x-o)*(e.x-o)*u*u/(s*s)),f=a+Math.sqrt(u*u-(e.x-o)*(e.x-o)*u*u/(s*s)),d=Math.abs(p-e.y)<Math.abs(f-e.y)?p:f;r={x:e.x,y:d}}return r},Fa=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],s=0;s<i.length;s++)a.push({start:i[s],end:i[(s+1)%i.length]});return a.forEach((function(n){var i=n.start,a=n.end,s=i,u=a;i.x>a.x&&(s=a,u=i);var c={x:e.x,y:e.y};if(s.x===u.x&&t===yi.HORIZONTAL&&(c={x:s.x,y:e.y}),s.y===u.y&&t===yi.VERTICAL&&(c={x:e.x,y:s.y}),s.x!==u.x&&s.y!==u.y){var l=(u.y-s.y)/(u.x-s.x),p=(s.x*u.y-u.x*s.y)/(s.x-u.x);t===yi.HORIZONTAL?c={x:(e.y-p)/l,y:e.y}:t===yi.VERTICAL&&(c={x:e.x,y:l*e.x+p})}if(na(c,i,a)){var f=Ma(c.x,c.y,e.x,e.y);f<o&&(o=f,r=c)}})),r},za=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},Va=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,o.appendChild(t)})):o.textContent=t,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},Ha=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach((function(e){var t=gu(e);i=t>i?t:i})),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},$a=function(e){return"object"!==ra(e)?{isAllPass:!!e,msg:e?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:e},Ga={node:!1,edge:!1},Ua={node:!0,edge:!0},Wa={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Xa=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Za=1e3,qa=999,Ya=function(){return++Za};function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var rs=(sa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ts(this,"id",ea()),Qa(this,"type",ua,this),Qa(this,"sourceNodeId",ca,this),Qa(this,"targetNodeId",la,this),Qa(this,"startPoint",pa,this),Qa(this,"endPoint",fa,this),Qa(this,"text",da,this),Qa(this,"properties",ha,this),Qa(this,"points",ya,this),Qa(this,"pointsList",va,this),Qa(this,"isSelected",ma,this),Qa(this,"isHovered",ga,this),Qa(this,"isHitable",ba,this),Qa(this,"draggable",xa,this),Qa(this,"visible",wa,this),ts(this,"virtual",!1),Qa(this,"isAnimation",Ea,this),ts(this,"graphModel",void 0),Qa(this,"zIndex",_a,this),ts(this,"BaseType",di.EDGE),ts(this,"modelType",fi.EDGE),Qa(this,"state",Sa,this),ts(this,"additionStateData",void 0),ts(this,"sourceAnchorId",""),ts(this,"targetAnchorId",""),ts(this,"menu",void 0),ts(this,"customTextPosition",!1),ts(this,"animationData",Wa),Qa(this,"style",Oa,this),Qa(this,"arrowConfig",Pa,this),this.graphModel=n,this.initEdgeData(t),this.setAttributes()}var t,n,r;return t=e,n=[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}Kr(this,_u(e)),this.graphModel.overlapMode===vi.INCREASE&&(this.zIndex=e.zIndex||Ya()),this.setAnchors(),this.initPoints(),this.formatText(e)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ja(Ja({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.edgeText;return wo(e)}},{key:"getAnimation",value:function(){var e=this.animationData;return wo(e)}},{key:"getEdgeAnimationStyle",value:function(){var e=this.graphModel.theme.edgeAnimation;return wo(e)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return wo(e)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(e,t){var n,r;return ka(e).forEach((function(e){var i=Su(e,t);r?i<r&&(r=i,n=e):(r=i,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this;return ka(e).forEach((function(e){var i=Su(e,r.startPoint);n?i<n&&(n=i,t=e):(n=i,t=e)})),t}},{key:"getProperties",value:function(){return Object(i.I)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(i.I)(this.properties)};return r&&(o.text={x:t,y:n,value:r}),this.graphModel.overlapMode===vi.INCREASE&&(o.zIndex=this.zIndex),o}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(e,t){this.properties[e]=Xa(t),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=Ja(Ja({},this.properties),Xa(e)),this.setAttributes()}},{key:"setStyle",value:function(e,t){this.style=Ja(Ja({},this.style),{},ts({},e,Xa(t)))}},{key:"setStyles",value:function(e){this.style=Ja(Ja({},this.style),Xa(e))}},{key:"updateStyles",value:function(e){this.style=Ja({},Xa(e))}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text&&"string"!==typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,n=e.y;this.text.x=t,this.text.y=n}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,i=n.y,o=n.value,a=n.draggable,s=n.editable;this.text={value:o,draggable:a,x:r+e,y:i+t,editable:s}}}},{key:"setText",value:function(e){e&&Kr(this.text,e)}},{key:"updateText",value:function(e){this.text=Ja(Ja({},this.text),{},{value:e})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id)}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Kr(this,e)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:n.x,y:n.y})}}],n&&es(t.prototype,n),r&&es(t,r),e}(),ua=ns(sa.prototype,"type",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ca=ns(sa.prototype,"sourceNodeId",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),la=ns(sa.prototype,"targetNodeId",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pa=ns(sa.prototype,"startPoint",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fa=ns(sa.prototype,"endPoint",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),da=ns(sa.prototype,"text",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ha=ns(sa.prototype,"properties",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ya=ns(sa.prototype,"points",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),va=ns(sa.prototype,"pointsList",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ma=ns(sa.prototype,"isSelected",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ga=ns(sa.prototype,"isHovered",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ba=ns(sa.prototype,"isHitable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xa=ns(sa.prototype,"draggable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wa=ns(sa.prototype,"visible",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ea=ns(sa.prototype,"isAnimation",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_a=ns(sa.prototype,"zIndex",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sa=ns(sa.prototype,"state",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Oa=ns(sa.prototype,"style",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pa=ns(sa.prototype,"arrowConfig",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),ns(sa.prototype,"sourceNode",[i.m],Object.getOwnPropertyDescriptor(sa.prototype,"sourceNode"),sa.prototype),ns(sa.prototype,"targetNode",[i.m],Object.getOwnPropertyDescriptor(sa.prototype,"targetNode"),sa.prototype),ns(sa.prototype,"textPosition",[i.m],Object.getOwnPropertyDescriptor(sa.prototype,"textPosition"),sa.prototype),ns(sa.prototype,"setProperty",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setProperty"),sa.prototype),ns(sa.prototype,"deleteProperty",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"deleteProperty"),sa.prototype),ns(sa.prototype,"setProperties",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setProperties"),sa.prototype),ns(sa.prototype,"setStyle",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setStyle"),sa.prototype),ns(sa.prototype,"setStyles",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setStyles"),sa.prototype),ns(sa.prototype,"updateStyles",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateStyles"),sa.prototype),ns(sa.prototype,"formatText",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"formatText"),sa.prototype),ns(sa.prototype,"resetTextPosition",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"resetTextPosition"),sa.prototype),ns(sa.prototype,"moveText",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"moveText"),sa.prototype),ns(sa.prototype,"setText",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setText"),sa.prototype),ns(sa.prototype,"updateText",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateText"),sa.prototype),ns(sa.prototype,"setAnchors",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setAnchors"),sa.prototype),ns(sa.prototype,"setSelected",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setSelected"),sa.prototype),ns(sa.prototype,"setHovered",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setHovered"),sa.prototype),ns(sa.prototype,"setHitable",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setHitable"),sa.prototype),ns(sa.prototype,"openEdgeAnimation",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"openEdgeAnimation"),sa.prototype),ns(sa.prototype,"closeEdgeAnimation",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"closeEdgeAnimation"),sa.prototype),ns(sa.prototype,"setElementState",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setElementState"),sa.prototype),ns(sa.prototype,"updateStartPoint",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateStartPoint"),sa.prototype),ns(sa.prototype,"moveStartPoint",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"moveStartPoint"),sa.prototype),ns(sa.prototype,"updateEndPoint",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateEndPoint"),sa.prototype),ns(sa.prototype,"moveEndPoint",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"moveEndPoint"),sa.prototype),ns(sa.prototype,"setZIndex",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"setZIndex"),sa.prototype),ns(sa.prototype,"initPoints",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"initPoints"),sa.prototype),ns(sa.prototype,"updateAttributes",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateAttributes"),sa.prototype),ns(sa.prototype,"getAdjustStart",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"getAdjustStart"),sa.prototype),ns(sa.prototype,"getAdjustEnd",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"getAdjustEnd"),sa.prototype),ns(sa.prototype,"updateAfterAdjustStartAndEnd",[i.k],Object.getOwnPropertyDescriptor(sa.prototype,"updateAfterAdjustStartAndEnd"),sa.prototype),sa),is=rs;function os(e){return os="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(e)}function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach((function(t){ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ls(){return ls="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ps(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ls.apply(this,arguments)}function ps(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vs(e)););return e}function fs(e,t){return fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fs(e,t)}function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vs(e);if(t){var i=vs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(e,t){if(t&&("object"===os(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ys(e)}function ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gs,bs,xs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fs(e,t)}(o,e);var t,n,r,i=ds(o);function o(){var e;us(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ms(ys(e=i.call.apply(i,[this].concat(n))),"modelType",fi.LINE_EDGE),e}return t=o,(n=[{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.line;return ss(ss({},ls(vs(o.prototype),"getEdgeStyle",this).call(this)),wo(e))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&cs(t.prototype,n),r&&cs(t,r),o}(is);function ws(e){return ws="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){Is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ps(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cs(){return Cs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ts(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Cs.apply(this,arguments)}function Ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rs(e)););return e}function Ms(e,t){return Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ms(e,t)}function As(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rs(e);if(t){var i=Rs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(e,t){if(t&&("object"===ws(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ds(e)}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rs(e)}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ls(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Bs=(gs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(o,e);var t,n,r,i=As(o);function o(){var e;ks(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Is(Ds(e=i.call.apply(i,[this].concat(n))),"modelType",fi.POLYLINE_EDGE),Is(Ds(e),"draginngPointList",void 0),Ps(Ds(e),"dbClickPosition",bs,Ds(e)),e}return t=o,(n=[{key:"initEdgeData",value:function(e){this.offset=30,Cs(Rs(o.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.polyline;return Os(Os({},Cs(Rs(o.prototype),"getEdgeStyle",this).call(this)),wo(e))}},{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=yu(this.points),i=Es(lu(r),2),o=i[0],a=i[1];return{x:(o.x+a.x)/2,y:(o.y+a.y)/2}}},{key:"getAfterAnchor",value:function(e,t,n){var r,i;return n.forEach((function(n){var o;e===yi.HORIZONTAL?o=Math.abs(t.y-n.y):e===yi.VERTICAL&&(o=Math.abs(t.x-n.x)),(!i||i>o)&&(i=o,r=n)})),r}},{key:"getCorssPoint",value:function(e,t,n){var r;return e===yi.HORIZONTAL?r={x:n.x,y:t.y}:e===yi.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var i=r[e],o=r[t],a=r[e-1];if(pu(a,i,this.sourceNode)){if(fu(i,o,this.sourceNode)){var s=du(i,o,this.sourceNode);s&&(r[e]=s,r.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===i.x||t.y===a.y&&t.y===i.y)&&Ma(t.x,t.y,i.x,i.y)<Ma(a.x,a.y,i.x,i.y)&&(r[e-1]=t)}))}if(t===n.length-2){var u=r[e],c=r[t],l=r[t+1];if(pu(c,l,this.targetNode)){if(fu(u,c,this.targetNode)){var p=du(u,c,this.targetNode);p&&(r[t]=p,r.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===l.x&&e.x===c.x||e.y===l.y&&e.y===c.y)&&Ma(e.x,e.y,c.x,c.y)<Ma(l.x,l.y,c.x,c.y)&&(r[t+1]=e)}))}return r}},{key:"getDragingPoints",value:function(e,t,n,r,i){var o=i.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),s=this.getCorssPoint(e,n,a);return"start"===t?(o.unshift(s),o.unshift(a)):(o.push(s),o.push(a)),o}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],i=e[t.length-2],o=e[t.length-1],a=this.sourceNode,s=this.targetNode,u=a.modelType,c=s.modelType,l=hu(n,r),p=t[0];switch(u){case fi.RECT_NODE:0!==a.radius&&(La(n,a)||(p=Ra(n,l,a)));break;case fi.CIRCLE_NODE:p=Ia(n,l,a);break;case fi.ELLIPSE_NODE:p=Ba(n,l,a);break;case fi.DIAMOND_NODE:case fi.POLYGON_NODE:p=Fa(n,l,a)}t[0]=p;var f=hu(i,o),d=t[t.length-1];switch(c){case fi.RECT_NODE:0!==s.radius&&(La(o,s)||(d=Ra(o,f,s)));break;case fi.CIRCLE_NODE:d=Ia(o,f,s);break;case fi.ELLIPSE_NODE:d=Ba(o,f,s);break;case fi.DIAMOND_NODE:case fi.POLYGON_NODE:d=Fa(o,f,s)}return t[t.length-1]=d,t}},{key:"getData",value:function(){var e=Cs(Rs(o.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=cu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppendSimple",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,i=e.startIndex,o=e.endIndex,a=e.direction,s=this.pointsList,u=s;return a===yi.HORIZONTAL?(s[i]={x:n.x,y:n.y+t.y},s[o]={x:r.x,y:r.y+t.y},u=this.pointsList.map((function(e){return e}))):a===yi.VERTICAL&&(s[i]={x:n.x+t.x,y:n.y},s[o]={x:r.x+t.x,y:r.y},u=this.pointsList.map((function(e){return e}))),this.updatePointsAfterDrage(u),this.draginngPointList=u,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},s[i]),end:Object.assign({},s[o]),startIndex:i,endIndex:o,direction:a}}},{key:"dragAppend",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,i=e.startIndex,o=e.endIndex,a=e.direction,s=this.pointsList;if(a===yi.HORIZONTAL){s[i]={x:n.x,y:n.y+t.y},s[o]={x:r.x,y:r.y+t.y};var u=this.pointsList.map((function(e){return e}));if(0!==i&&o!==this.pointsList.length-1&&(u=this.removeCrossPoints(i,o,u)),0===i){var c={x:n.x,y:n.y+t.y};if(!Aa(c,this.sourceNode)){var l=this.sourceNode.anchors;u=this.getDragingPoints(a,"start",c,l,u)}}if(o===this.pointsList.length-1){var p={x:r.x,y:r.y+t.y};if(!Aa(p,this.targetNode)){var f=this.targetNode.anchors;u=this.getDragingPoints(a,"end",p,f,u)}}u=uu(u),this.updatePointsAfterDrage(u),this.draginngPointList=u}else if(a===yi.VERTICAL){s[i]={x:n.x+t.x,y:n.y},s[o]={x:r.x+t.x,y:r.y};var d=this.pointsList.map((function(e){return e}));if(0!==i&&o!==this.pointsList.length-1&&(d=this.removeCrossPoints(i,o,d)),0===i){var h={x:n.x+t.x,y:n.y};if(!Aa(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(o===this.pointsList.length-1){var v={x:r.x+t.x,y:r.y};if(!Aa(v,this.targetNode)){var m=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,m,d)}}d=uu(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},s[i]),end:Object.assign({},s[o]),startIndex:i,endIndex:o,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=yu(this.points);this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,i=e.targetNode,o=cu({x:t.x,y:t.y},{x:n.x,y:n.y},r,i,this.offset||0);this.pointsList=o,this.initPoints()}}])&&js(t.prototype,n),r&&js(t,r),o}(is),bs=Ls(gs.prototype,"dbClickPosition",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls(gs.prototype,"initPoints",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"initPoints"),gs.prototype),Ls(gs.prototype,"updatePoints",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"updatePoints"),gs.prototype),Ls(gs.prototype,"updateStartPoint",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"updateStartPoint"),gs.prototype),Ls(gs.prototype,"moveStartPoint",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"moveStartPoint"),gs.prototype),Ls(gs.prototype,"updateEndPoint",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"updateEndPoint"),gs.prototype),Ls(gs.prototype,"moveEndPoint",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"moveEndPoint"),gs.prototype),Ls(gs.prototype,"dragAppendStart",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"dragAppendStart"),gs.prototype),Ls(gs.prototype,"dragAppendSimple",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"dragAppendSimple"),gs.prototype),Ls(gs.prototype,"dragAppend",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"dragAppend"),gs.prototype),Ls(gs.prototype,"dragAppendEnd",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"dragAppendEnd"),gs.prototype),Ls(gs.prototype,"updatePointsAfterDrage",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"updatePointsAfterDrage"),gs.prototype),Ls(gs.prototype,"getAdjustStart",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"getAdjustStart"),gs.prototype),Ls(gs.prototype,"getAdjustEnd",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"getAdjustEnd"),gs.prototype),Ls(gs.prototype,"updateAfterAdjustStartAndEnd",[i.k],Object.getOwnPropertyDescriptor(gs.prototype,"updateAfterAdjustStartAndEnd"),gs.prototype),gs),Fs=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-t.y)/(n.x-t.x)),u=Math.atan(r/i),c=Math.sqrt(i*i+r*r);return"start"===o?n.x>=t.x?(a.leftX=t.x+c*Math.sin(s+u),a.leftY=t.y-c*Math.cos(s+u),a.rightX=t.x-c*Math.sin(s-u),a.rightY=t.y+c*Math.cos(s-u)):(a.leftX=t.x-c*Math.sin(s+u),a.leftY=t.y+c*Math.cos(s+u),a.rightX=t.x+c*Math.sin(s-u),a.rightY=t.y-c*Math.cos(s-u)):"end"===o&&(n.x>=t.x?(a.leftX=n.x+c*Math.sin(s-u),a.leftY=n.y-c*Math.cos(s-u),a.rightX=n.x-c*Math.sin(s+u),a.rightY=n.y+c*Math.cos(s+u)):(a.leftX=n.x-c*Math.sin(s-u),a.leftY=n.y+c*Math.cos(s-u),a.rightX=n.x+c*Math.sin(s+u),a.rightY=n.y-c*Math.cos(s+u))),a};function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e){return function(e){if(Array.isArray(e))return Xs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ws(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e){return Gs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}function Us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ws(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){if(e){if("string"===typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xs(e,t):void 0}}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zs=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},qs=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Ys=function(e,t){var n=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?yi.HORIZONTAL:yi.VERTICAL}(t,e);return n===yi.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Ks=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach((function(e){n.push(e.x),r.push(e.y)}));var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),s=Math.max.apply(Math,r),u=o-i,c=s-a;return t&&(u+=t,c+=t),{centerX:(i+o)/2,centerY:(a+s)/2,maxX:o,maxY:s,minX:i,minY:a,x:(i+o)/2,y:(a+s)/2,height:c,width:u}},Qs=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},eu=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},tu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},nu=function(e,t,n,r,i){return tu(e,t)+tu(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,i])},ru=function e(t,n,r,i,o){o||(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},iu=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=r.x-n.x,s=r.y-n.y,u=(-o*(e.x-n.x)+i*(e.y-n.y))/(-a*o+i*s),c=(a*(e.y-n.y)-s*(e.x-n.x))/(-a*o+i*s);return u>=0&&u<=1&&c>=0&&c<=1},ou=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=Us(Qs(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return iu(e,t,i,o)||iu(e,t,i,s)||iu(e,t,o,a)||iu(e,t,a,s)},au=function(e,t,n,r,i,o,a){var s=[],u=[t],c={},l={},p={};l[t.id]=0,p[t.id]=nu(t,n,t);var f={};e.forEach((function(e){f[e.id]=e}));for(var d=function(){var d=void 0,h=1/0;if(u.forEach((function(e){p[e.id]<h&&(h=p[e.id],d=e)})),d===n){var y=[];return ru(y,f,c,n.id),{v:y}}!function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}(u,d),s.push(d),function(e,t,n,r){var i=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||ou(e,t,n)||ou(e,t,r)||i.push(e))})),Zs(i)}(e,d,r,i).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=p[d.id]+tu(d,e);l[e.id]&&r>=l[e.id]||(c[e.id]=d.id,l[e.id]=r,p[e.id]=l[e.id]+nu(e,n,t,o,a))}}))};u.length;){var h=d();if("object"===Gs(h))return h.v}return[t,n]},su=function(e){return Da(e)},uu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},cu=function(e,t,n,r,i){var o,a,s=su(n),u=su(r),c=qs(s,i),l=qs(u,i),p=Ys(c,e),f=Ys(l,t);if(o=c,a=l,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var d=vu(e,t,p,f);return[e,p].concat($s(d),[f,t])}var h=Js([p,f]),y=Ks(c,h),v=Ks(l,h),m=[];m=(m=m.concat(Qs(y))).concat(Qs(v));var g={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[h,y,v].forEach((function(e){m=m.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,g).filter((function(e){return eu(e,c)&&eu(e,l)})))})),[{x:p.x,y:f.y},{x:f.x,y:p.y}].forEach((function(e){eu(e,c)&&eu(e,l)&&m.push(e)})),m.unshift(p),m.push(f),m=Zs(m);var b=au(m,p,f,s,u,e,t);return b.unshift(e),b.push(t),b.length>2&&(b=uu(b)),Zs(b)},lu=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Ma(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var a=e[o],s=e[o+1],u=Ma(a.x,a.y,s.x,s.y);u>i&&(i=u,n=a,r=s)}t=[n,r]}return t},pu=function(e,t,n){var r=Aa(e,n),i=Aa(t,n);return r&&i},fu=function(e,t,n){var r=Aa(e,n),i=Aa(t,n);return!(r&&i)&&(r||i)},du=function(e,t,n){for(var r,i,o=Da(n),a=Qs(o),s=0;s<a.length;s++)iu(e,t,a[s],a[(s+1)%a.length])&&(i=[a[s],a[(s+1)%a.length]]);return i&&(r=function(e,t,n,r){var i=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===i)return!1;var o=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/i,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/i;return(o-e.x)*(o-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(o-n.x)*(o-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:o,y:a}}(e,t,i[0],i[1])),r},hu=function(e,t){var n;return e.x===t.x?n=yi.VERTICAL:e.y===t.y&&(n=yi.HORIZONTAL),n},yu=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=Us(e.split(","),2),r=t[0],i=t[1];n.push({x:Number(r),y:Number(i)})})),n},vu=function(e,t,n,r){var i=[];if(hu(e,n)===hu(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=na(o,e,n),s=na(o,t,r);if(a||s)o={x:r.x,y:n.y};else{var u=mu(o,e,n),c=mu(o,t,r);u&&c&&(o={x:r.x,y:n.y})}i.push(o)}return i},mu=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},gu=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},bu=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,a=Da(r),s=Da(i),u=qs(a,o),c=qs(s,o);return{sNext:Ys(u,t),ePre:Ys(c,n)}},xu=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[wu(t[0]),wu(t[1]),wu(t[2]),wu(t[3])]},wu=function(e){var t=Us(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},Eu=function(e,t){for(var n,r=e.x,i=e.y,o=yu(t),a=Number.MAX_SAFE_INTEGER,s=[],u=0;u<o.length;u++)s.push({start:o[u],end:o[(u+1)%o.length]});if(s.forEach((function(e){var t=e.start,o=e.end;if(t.x===o.x){var s={x:t.x,y:i};if(na(s,t,o)){var u=Math.abs(t.x-r);u<a&&(a=u,n=s)}}else if(t.y===o.y){var c={x:r,y:t.y};if(na(c,t,o)){var l=Math.abs(t.y-i);l<a&&(a=l,n=c)}}})),!n){var c=s[0],l=c.start,p=c.end;n={x:l.x+(p.x-l.x)/2,y:l.y+(p.y-l.y)/2}}return n},_u=function(e){return oi(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Su=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};n(204);var Ou=function(){};function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ju=window.document;function Cu(e){var t=e.onDragStart,n=void 0===t?Ou:t,r=e.onDraging,i=void 0===r?Ou:r,o=e.onDragEnd,a=void 0===o?Ou:o,s=e.step,u=void 0===s?1:s,c=e.isStopPropagation,l=void 0===c||c,p=!1,f=!1,d=0,h=0,y=0,v=0;function m(e){if(l&&e.stopPropagation(),f&&(p=!0,y+=e.clientX-d,v+=e.clientY-h,d=e.clientX,h=e.clientY,Math.abs(y)>u||Math.abs(v)>u)){var t=y%u,n=v%u,r=y-t,o=v-n;y=t,v=n,i({deltaX:r,deltaY:o,event:e})}}function g(e){if(l&&e.stopPropagation(),f=!1,ju.removeEventListener("mousemove",m,!1),ju.removeEventListener("mouseup",g,!1),p)return p=!1,a({event:e})}return function(e){if(0===e.button)return l&&e.stopPropagation(),f=!0,d=e.clientX,h=e.clientY,ju.addEventListener("mousemove",m,!1),ju.addEventListener("mouseup",g,!1),n({event:e})}}var Tu,Mu,Au,Nu,Du,Ru,Iu,Lu,Bu,Fu,zu,Vu,Hu,$u=function(){function e(t){var n=this,r=t.onDragStart,i=void 0===r?Ou:r,o=t.onDraging,a=void 0===o?Ou:o,s=t.onDragEnd,u=void 0===s?Ou:s,c=t.eventType,l=void 0===c?"":c,p=t.eventCenter,f=void 0===p?null:p,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,m=t.model,g=void 0===m?null:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ku(this,"onDragStart",void 0),ku(this,"onDraging",void 0),ku(this,"onDragEnd",void 0),ku(this,"step",void 0),ku(this,"isStopPropagation",void 0),ku(this,"isDraging",!1),ku(this,"isStartDraging",!1),ku(this,"startX",0),ku(this,"startY",0),ku(this,"sumDeltaX",0),ku(this,"sumDeltaY",0),ku(this,"eventType",void 0),ku(this,"eventCenter",void 0),ku(this,"model",void 0),ku(this,"startTime",void 0),ku(this,"isGrag",void 0),ku(this,"handleMouseDown",(function(e){var t,r;if(0===e.button){n.isStopPropagation&&e.stopPropagation(),n.isStartDraging=!0,n.startX=e.clientX,n.startY=e.clientY,ju.addEventListener("mousemove",n.handleMouseMove,!1),ju.addEventListener("mouseup",n.handleMouseUp,!1);var i=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(hi["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:i}),n.startTime=(new Date).getTime()}})),ku(this,"handleMouseMove",(function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isStartDraging&&(n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r=n.sumDeltaX%n.step,i=n.sumDeltaY%n.step,o=n.sumDeltaX-r,a=n.sumDeltaY-i;n.sumDeltaX=r,n.sumDeltaY=i;var s,u=null===(t=n.model)||void 0===t?void 0:t.getData();n.isDraging||(null===(s=n.eventCenter)||void 0===s||s.emit(hi["".concat(n.eventType,"_DRAGSTART")],{e:e,data:u}),n.onDragStart({event:e})),n.isDraging=!0,Promise.resolve().then((function(){var t,r;n.onDraging({deltaX:o,deltaY:a,event:e}),null===(t=n.eventCenter)||void 0===t||t.emit(hi["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:u}),null===(r=n.eventCenter)||void 0===r||r.emit(hi["".concat(n.eventType,"_DRAG")],{e:e,data:u})}))}})),ku(this,"handleMouseUp",(function(e){n.isStartDraging=!1,n.isStopPropagation&&e.stopPropagation(),Promise.resolve().then((function(){var t,r,i;ju.removeEventListener("mousemove",n.handleMouseMove,!1),ju.removeEventListener("mouseup",n.handleMouseUp,!1);var o=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(hi["".concat(n.eventType,"_MOUSEUP")],{e:e,data:o}),n.isDraging&&(n.isDraging=!1,n.onDragEnd({event:e}),null===(i=n.eventCenter)||void 0===i||i.emit(hi["".concat(n.eventType,"_DROP")],{e:e,data:o}))}))})),ku(this,"cancelDrag",(function(){ju.removeEventListener("mousemove",n.handleMouseMove,!1),ju.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:null}),n.isDraging=!1})),this.onDragStart=i,this.onDraging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=f,this.model=g}var t,n,r;return t=e,(n=[{key:"setStep",value:function(e){this.step=e}}])&&Pu(t.prototype,n),r&&Pu(t,r),e}();function Gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(n),!0).forEach((function(t){Qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Zu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zu(e,t){if(e){if("string"===typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yu(e){return Yu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(e)}function Ku(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var tc,nc=200,rc=(Tu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qu(this,"rootEl",void 0),Ku(this,"width",Mu,this),Ku(this,"height",Au,this),Qu(this,"theme",void 0),Qu(this,"eventCenter",void 0),Qu(this,"modelMap",new Map),Qu(this,"topElement",void 0),Qu(this,"animation",void 0),Qu(this,"idGenerator",void 0),Qu(this,"edgeGenerator",void 0),Qu(this,"nodeMoveRules",[]),Ku(this,"edgeType",Nu,this),Ku(this,"nodes",Du,this),Ku(this,"edges",Ru,this),Ku(this,"overlapMode",Iu,this),Ku(this,"background",Lu,this),Ku(this,"transformModel",Bu,this),Ku(this,"editConfigModel",Fu,this),Ku(this,"gridSize",zu,this),Ku(this,"partial",Vu,this),Ku(this,"fakerNode",Hu,this);var n,r,i,o=t.container,a=t.background,s=void 0===a?{}:a,u=t.grid,c=t.idGenerator,l=t.edgeGenerator,p=t.animation;this.background=s,"object"===Yu(u)&&(this.gridSize=u.size),this.rootEl=o,this.editConfigModel=new ki(t),this.eventCenter=new Bo,this.transformModel=new Di(this.eventCenter),this.theme=Io(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.animation=(n=p)&&"boolean"!==typeof n?Do(wo(Ga),n):wo(!0===n?Ua:Ga),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=c,this.edgeGenerator=(r=this,"function"!==typeof(i=l)?function(e,t,n){return Object.assign({type:r.edgeType},n)}:function(e,t,n){var o=i(e,t,n);return o?"string"===typeof o?Object.assign({},n,{type:o}):Object.assign({type:o},n):{type:r.edgeType}}),this.width=t.width||this.rootEl.getBoundingClientRect().width,this.height=t.height||this.rootEl.getBoundingClientRect().height}var t,n,r;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"modelsMap",get:function(){return[].concat(Xu(this.nodes),Xu(this.edges)).reduce((function(e,t){return e[t.id]=t,e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],n=-1,r=[-200,-200],i=[this.width+nc,this.height+nc],o=0;o<e.length;o++){var a=e[o];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,i,!1,!1))&&(9999===a.zIndex&&(n=t.length),t.push(a))}if(-1!==n){var s=t[t.length-1];t[t.length-1]=t[n],t[n]=s}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===li.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===li.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[],a=[];this.nodes.forEach((function(e){return a.push(e)})),this.edges.forEach((function(e){return a.push(e)}));for(var s=0;s<a.length;s++){var u=a[s];i&&!u.visible||!this.isElementInArea(u,e,t,n,r)||o.push(u)}return o}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModelById",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),i={x:t-r.left,y:n-r.top},o=Wu(this.transformModel.HtmlPointToCanvasPoint([i.x,i.y]),2);return{domOverlayPosition:i,canvasOverlayPosition:{x:o[0],y:o[1]}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.BaseType===di.NODE){for(var o=Da(e),a=o.minX,s=o.minY,u=o.maxX,c=o.maxY,l=[{x:a,y:s},{x:u,y:s},{x:u,y:c},{x:a,y:c}],p=i,f=0;f<l.length;f++){var d=l[f],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),m=Wu(v,2);if(h=m[0],y=m[1],Go([h,y],t,n)!==i){p=!i;break}}return p}if(e.BaseType===di.EDGE){var g=e,b=g.startPoint,x=g.endPoint,w=this.transformModel.CanvasPointToHtmlPoint([b.x,b.y]),E=this.transformModel.CanvasPointToHtmlPoint([x.x,x.y]),_=Go(w,t,n),S=Go(E,t,n);return r?_&&S:_||S}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.width&&this.height||this.resize(),this.nodes=Nr(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var r=e.x,i=e.y;return r&&i&&(e.x=Fo(r,t.gridSize),e.y=Fo(i,t.gridSize),"object"===Yu(e.text)&&(e.text.x-=zo(r,t.gridSize),e.text.y-=zo(i,t.gridSize))),new n(e,t)})),this.edges=Nr(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new n(e,t)}))}},{key:"modelToGraphData",value:function(){var e=[];this.edges.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)}));var t=[];return this.nodes.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)})),{nodes:t,edges:e}}},{key:"modelToHistoryData",value:function(){for(var e=!1,t=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){e=!0;break}t.push(r.getHistoryData())}if(e)return!1;for(var i=!1,o=[],a=0;a<this.edges.length;a++){var s=this.edges[a];if(s.isDragging){i=!0;break}o.push(s.getHistoryData())}return!i&&{nodes:t,edges:o}}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.modelsMap[e]}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],i=this.edges[n].sourceNodeId===e,o=this.edges[n].targetNodeId===e;(i||o)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===di.NODE&&n.nodes.push(r.getData()),r.BaseType===di.EDGE){var i=r.getData(),o=t.get(i.sourceNodeId)&&t.get(i.targetNodeId);(e||o)&&n.edges.push(i)}})),n}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"changeNodeId",value:function(e,t){return t||(t=ea()),this.nodesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),""):this.nodesMap[e]?(this.edges.forEach((function(n){n.sourceNodeId===e&&(n.sourceNodeId=t),n.targetNodeId===e&&(n.targetNodeId=t)})),this.nodesMap[e].model.id=t,t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"changeEdgeId",value:function(e,t){return t||(t=ea()),this.edgesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fb9: ".concat(t,", \u4fee\u6539\u5931\u8d25")),""):this.edgesMap[e]?(this.edges.forEach((function(n){n.id===e&&(n.id=t)})),t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fb9: ".concat(t,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"toFront",value:function(e){var t,n,r,i=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);i&&(this.overlapMode===vi.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),i.setZIndex(9999),this.topElement=i),this.overlapMode===vi.INCREASE&&this.setElementZIndex(e,"top"))}},{key:"setElementZIndex",value:function(e,t){var n,r,i,o=(null===(n=this.nodesMap[e])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);o&&("number"===typeof t&&(i=t),"top"===t&&(i=Ya()),"bottom"===t&&(i=--qa),o.setZIndex(i))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(hi.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Xa(e);t.id&&this.nodesMap[e.id]&&delete t.id;var n=this.getModel(t.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));t.x=Fo(t.x,this.gridSize),t.y=Fo(t.y,this.gridSize);var r=new n(t,this);this.nodes.push(r);var i=r.getData();return this.eventCenter.emit(hi.NODE_ADD,{data:i}),r}},{key:"cloneNode",value:function(e){var t=this.getNodeModelById(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.nodesMap[e];if(i){var o=i.model,a=o.getMoveDistance(t,n,r),s=Wu(a,2);t=s[0],n=s[1],this.moveEdge(e,t,n)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.nodesMap[e];if(i){var o=i.model,a=o.x,s=o.y,u=t-a,c=n-s;this.moveNode(e,u,c,r)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"editText",value:function(e){this.setElementStateById(e,li.TEXT_EDIT)}},{key:"addEdge",value:function(e){var t=Xa(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8fb9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fb9\u3002"));var i=new r(Uu(Uu({},t),{},{type:n}),this),o=i.getData();return this.edges.push(i),this.eventCenter.emit(hi.EDGE_ADD,{data:o}),i}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var i,o=this.edges[r],a=o.textPosition,s=a.x,u=a.y,c=this.edges[r].sourceNodeId===e,l=this.edges[r].targetNodeId===e;if(c&&o.moveStartPoint(t,n),l&&o.moveEndPoint(t,n),c||l)if(!0===o.customTextPosition)o.resetTextPosition();else if(o.modelType===fi.POLYLINE_EDGE&&null!==(i=o.text)&&void 0!==i&&i.value){var p=o.text,f=Eu(p,o.points);o.moveText(f.x-p.x,f.y-p.y)}else{var d=o.textPosition,h=d.x,y=d.y;o.moveText(h-s,y-u)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(hi.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(e){if(this.edgesMap[e]){var t=this.edgesMap[e].index,n=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(hi.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(hi.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(hi.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(e,t,n){this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(li.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(li.DEFAULT)}))}},{key:"updateText",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"selectNodeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||this.clearSelectElements();var n=this.getElement(e);null===n||void 0===n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null===e||void 0===e||e.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===vi.DEFAULT&&(null===(e=this.topElement)||void 0===e||e.setZIndex())}},{key:"moveNodes",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(e){return r.moveNode(e,t,n,i)}))}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"setDefaultEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModelById(e);if(n){var r=n.getData();r.type=t;var i=this.getModel(t);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var o=new i(r,this);this.nodes.splice(this.nodesMap[e].index,1,o),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var n=za(o,t.startPoint,o.width,o.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=za(o,t.endPoint,o.width,o.height);t.updateEndPoint(r)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"changeEdgeType",value:function(e,t){var n=this.getEdgeModelById(e);if(n){if(n.type!==t){var r=n.getData();r.type=t;var i=this.getModel(t);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));delete r.pointsList;var o=new i(r,this);this.edges.splice(this.edgesMap[e].index,1,o)}}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"getNodeIncomingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.targetNodeId===e&&t.push(n)})),t}},{key:"getNodeOutgoingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.sourceNodeId===e&&t.push(n)})),t}},{key:"getNodeIncomingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===e&&n.push(t.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===e&&n.push(t.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(e){this.theme=Io(Uu(Uu({},this.theme),e))}},{key:"resize",value:function(e,t){this.width=e||this.rootEl.getBoundingClientRect().width,this.height=t||this.rootEl.getBoundingClientRect().height,this.width&&this.height||console.warn("\u6e32\u67d3\u753b\u5e03\u7684\u65f6\u5019\u65e0\u6cd5\u83b7\u53d6\u753b\u5e03\u5bbd\u9ad8\uff0c\u8bf7\u786e\u8ba4\u5728container\u5df2\u6302\u8f7d\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var e=this.nodes,t=[],n=[];e.forEach((function(e){var r=e.x,i=e.y,o=e.width,a=e.height,s=e.getNodeStyle().strokeWidth,u=void 0===s?0:s;t=t.concat([r+o/2+u,r-o/2-u]),n=n.concat([i+a/2+u,i-a/2-u])}));var r=Math.min.apply(Math,Xu(t)),i=Math.max.apply(Math,Xu(t)),o=Math.min.apply(Math,Xu(n)),a=i-r||0,s=Math.max.apply(Math,Xu(n))-o||0;return{virtualRectWidth:a,virtualRectHeight:s,virtualRectCenterPositionX:r+a/2,virtualRectCenterPositionY:o+s/2}}},{key:"translateCenter",value:function(){var e=this.nodes,t=this.width,n=this.height,r=this.rootEl,i=this.transformModel;if(e.length){var o=t||r.clientWidth,a=n||r.clientHeight,s=this.getVirtualRectSize(),u=s.virtualRectCenterPositionX,c=s.virtualRectCenterPositionY;i.focusOn(u,c,o,a)}}},{key:"fitView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,i=this.height,o=this.rootEl,a=this.transformModel;if(n.length){var s=r||o.clientWidth,u=i||o.clientHeight,c=this.getVirtualRectSize(),l=c.virtualRectWidth,p=c.virtualRectHeight,f=c.virtualRectCenterPositionX,d=c.virtualRectCenterPositionY,h=(l+t)/s,y=(p+e)/u,v=0;v=1/Math.max(h,y);var m=[s/2,u/2];a.zoom(v,m),a.focusOn(f,d,s,u)}}},{key:"openEdgeAnimation",value:function(e){this.getEdgeModelById(e).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(e){this.getEdgeModelById(e).closeEdgeAnimation()}}],n&&Ju(t.prototype,n),r&&Ju(t,r),e}(),Mu=ec(Tu.prototype,"width",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Au=ec(Tu.prototype,"height",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nu=ec(Tu.prototype,"edgeType",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Du=ec(Tu.prototype,"nodes",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ru=ec(Tu.prototype,"edges",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Iu=ec(Tu.prototype,"overlapMode",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vi.DEFAULT}}),Lu=ec(Tu.prototype,"background",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bu=ec(Tu.prototype,"transformModel",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fu=ec(Tu.prototype,"editConfigModel",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zu=ec(Tu.prototype,"gridSize",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vu=ec(Tu.prototype,"partial",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hu=ec(Tu.prototype,"fakerNode",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec(Tu.prototype,"nodesMap",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"nodesMap"),Tu.prototype),ec(Tu.prototype,"edgesMap",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"edgesMap"),Tu.prototype),ec(Tu.prototype,"modelsMap",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"modelsMap"),Tu.prototype),ec(Tu.prototype,"sortElements",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"sortElements"),Tu.prototype),ec(Tu.prototype,"textEditElement",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"textEditElement"),Tu.prototype),ec(Tu.prototype,"selectElements",[i.m],Object.getOwnPropertyDescriptor(Tu.prototype,"selectElements"),Tu.prototype),ec(Tu.prototype,"setFakerNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setFakerNode"),Tu.prototype),ec(Tu.prototype,"removeFakerNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"removeFakerNode"),Tu.prototype),ec(Tu.prototype,"setModel",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setModel"),Tu.prototype),ec(Tu.prototype,"toFront",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"toFront"),Tu.prototype),ec(Tu.prototype,"setElementZIndex",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setElementZIndex"),Tu.prototype),ec(Tu.prototype,"deleteNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"deleteNode"),Tu.prototype),ec(Tu.prototype,"addNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"addNode"),Tu.prototype),ec(Tu.prototype,"cloneNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"cloneNode"),Tu.prototype),ec(Tu.prototype,"moveNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"moveNode"),Tu.prototype),ec(Tu.prototype,"moveNode2Coordinate",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"moveNode2Coordinate"),Tu.prototype),ec(Tu.prototype,"editText",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"editText"),Tu.prototype),ec(Tu.prototype,"addEdge",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"addEdge"),Tu.prototype),ec(Tu.prototype,"moveEdge",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"moveEdge"),Tu.prototype),ec(Tu.prototype,"deleteEdgeBySourceAndTarget",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"deleteEdgeBySourceAndTarget"),Tu.prototype),ec(Tu.prototype,"deleteEdgeById",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"deleteEdgeById"),Tu.prototype),ec(Tu.prototype,"deleteEdgeBySource",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"deleteEdgeBySource"),Tu.prototype),ec(Tu.prototype,"deleteEdgeByTarget",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"deleteEdgeByTarget"),Tu.prototype),ec(Tu.prototype,"setElementStateById",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setElementStateById"),Tu.prototype),ec(Tu.prototype,"updateText",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"updateText"),Tu.prototype),ec(Tu.prototype,"selectNodeById",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"selectNodeById"),Tu.prototype),ec(Tu.prototype,"selectEdgeById",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"selectEdgeById"),Tu.prototype),ec(Tu.prototype,"selectElementById",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"selectElementById"),Tu.prototype),ec(Tu.prototype,"clearSelectElements",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"clearSelectElements"),Tu.prototype),ec(Tu.prototype,"moveNodes",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"moveNodes"),Tu.prototype),ec(Tu.prototype,"setDefaultEdgeType",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setDefaultEdgeType"),Tu.prototype),ec(Tu.prototype,"changeNodeType",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"changeNodeType"),Tu.prototype),ec(Tu.prototype,"changeEdgeType",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"changeEdgeType"),Tu.prototype),ec(Tu.prototype,"getNodeIncomingEdge",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"getNodeIncomingEdge"),Tu.prototype),ec(Tu.prototype,"getNodeOutgoingEdge",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"getNodeOutgoingEdge"),Tu.prototype),ec(Tu.prototype,"getNodeIncomingNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"getNodeIncomingNode"),Tu.prototype),ec(Tu.prototype,"getNodeOutgoingNode",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"getNodeOutgoingNode"),Tu.prototype),ec(Tu.prototype,"setTheme",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"setTheme"),Tu.prototype),ec(Tu.prototype,"resize",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"resize"),Tu.prototype),ec(Tu.prototype,"clearData",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"clearData"),Tu.prototype),ec(Tu.prototype,"translateCenter",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"translateCenter"),Tu.prototype),ec(Tu.prototype,"fitView",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"fitView"),Tu.prototype),ec(Tu.prototype,"openEdgeAnimation",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"openEdgeAnimation"),Tu.prototype),ec(Tu.prototype,"closeEdgeAnimation",[i.k],Object.getOwnPropertyDescriptor(Tu.prototype,"closeEdgeAnimation"),Tu.prototype),Tu),ic=rc;function oc(e){return oc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ac(){return ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(this,arguments)}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(e,t){return uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uc(e,t)}function cc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fc(e);if(t){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lc(this,n)}}function lc(e,t){if(t&&("object"===oc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fc(e)}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hc,yc=ex(tc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(o,e);var t,n,r,i=cc(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),dc(pc(t=i.call(this)),"stepDrag",void 0),dc(pc(t),"stepScrollX",0),dc(pc(t),"stepScrollY",0),dc(pc(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY;t.setState({isDraging:!0});var i=t.props.graphModel,o=i.transformModel;i.editConfigModel.stopMoveGraph||o.translate(n,r)})),dc(pc(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),dc(pc(t),"zoomHandler",(function(e){var n=t.props,r=n.graphModel,i=r.editConfigModel,o=r.transformModel,a=r.gridSize,s=n.graphModel,u=e.deltaX,c=e.deltaY;if(i.stopScrollGraph||!0===e.ctrlKey){if(!i.stopZoomGraph){e.preventDefault();var l=s.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,p=l.x,f=l.y;o.zoom(e.deltaY<0,[p,f])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=c,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;o.translate(-h*o.SCALE_X,0),t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,v=t.stepScrollY-y;o.translate(0,-v*o.SCALE_Y),t.stepScrollY=y}}})),dc(pc(t),"clickHandler",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){var n=t.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(hi.BLANK_CLICK,{e:e})}})),dc(pc(t),"handleContextMenu",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var n=t.props.graphModel,r=n.getPointByClient({x:e.clientX,y:e.clientY});n.eventCenter.emit(hi.BLANK_CONTEXTMENU,{e:e,position:r})}})),dc(pc(t),"mouseDownHandler",(function(e){var n=t.props.graphModel,r=n.eventCenter,i=n.editConfigModel,o=n.transformModel.SCALE_X,a=n.gridSize,s=e.target,u=!i.adjustEdge&&!i.adjustNodePosition;("canvas-overlay"===s.getAttribute("name")||u)&&(i.stopMoveGraph?r.emit(hi.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(a*o),t.stepDrag.handleMouseDown(e)),t.clickHandler(e))}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new $u({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),t.state={isDraging:!1},t}return t=o,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props,n=t.children,r=t.dnd,i=this.state.isDraging;return Object(ee.g)("svg",ac({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:i?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object(ee.g)("g",{transform:e},n))}}])&&sc(t.prototype,n),r&&sc(t,r),o}(ee.a))||tc;function vc(e){return vc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bc(e,t){return bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bc(e,t)}function xc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_c(e);if(t){var i=_c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wc(this,n)}}function wc(e,t){if(t&&("object"===vc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ec(e)}function Ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_c(e)}function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oc=ex(hc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(o,e);var t,n,r,i=xc(o);function o(){var e;mc(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sc(Ec(e=i.call.apply(i,[this].concat(n))),"setToolOverlayRef",(function(t){var n=e.props.tool.getInstance();n.components.forEach((function(e){return e(n,t)})),n.components=[]})),e}return t=o,(n=[{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=t.getTools().map((function(e){return Object(ee.g)(e,{graphModel:n,logicFlow:t.instance})}));return t.components=r,r}},{key:"render",value:function(){return Object(ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&gc(t.prototype,n),r&&gc(t,r),o}(ee.a))||hc;function Pc(e){return Pc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cc(e,t)}function Tc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ac(e);if(t){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mc(this,n)}}function Mc(e,t){if(t&&("object"===Pc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}var Nc,Dc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(o,e);var t,n,r,i=Tc(o);function o(){return kc(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:e,className:"lf-background-area"}))}}])&&jc(t.prototype,n),r&&jc(t,r),o}(ee.a);function Rc(e){return Rc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(e)}function Ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bc(e,t)}function Fc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hc(e);if(t){var i=Hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zc(this,n)}}function zc(e,t){if(t&&("object"===Rc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vc(e)}function Vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hc(e){return Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hc(e)}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gc=ex(Nc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(o,e);var t,n,r,i=Fc(o);function o(){var e;Ic(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $c(Vc(e=i.call.apply(i,[this].concat(n))),"id",ea()),e}return t=o,(n=[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,i=void 0===r?2:r,o=e.size,a=e.visible,s=Math.min(Math.max(2,i),o/2),u=1;return a||(u=0),Object(ee.g)("rect",{width:s,height:s,rx:s/2,ry:s/2,fill:n,opacity:u})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,i=void 0===r?1:r,o=e.size,a=e.visible,s=Math.min(Math.max(1,i),o/2),u="M ".concat(o," 0 H0 M0 0 V0 ").concat(o),c=1;return a||(c=0),Object(ee.g)("path",{d:u,stroke:n,strokeWidth:s,opacity:c})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.graphModel.transformModel,i=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),o="matrix(".concat(i,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:o,x:"0",y:"0",width:n,height:n},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Lc(t.prototype,n),r&&Lc(t,r),o}(ee.a))||Nc;function Uc(e){return Uc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function Wc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Gc.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(52);var Zc,qc=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach((function(e){var n=Wc(e,2),r=n[0],i=n[1];("style"===r||"object"!==Uc(i))&&(t[r]=i)})),Object(ee.g)("line",t)};function Yc(e){return Yc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){Qc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nl(e,t)}function rl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ol(e);if(t){var i=ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return il(this,n)}}function il(e,t){if(t&&("object"===Yc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(e)}var al,sl=ex(Zc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(o,e);var t,n,r,i=rl(o);function o(){return el(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,r=e.isShowVertical,i=e.getStyle(),o=t.x,a=void 0===o?0:o,s=t.y,u=void 0===s?0:s,c=Jc(Jc({x1:-1e5,y1:u,x2:1e5,y2:u},i),{},{stroke:n?i.stroke:"none"}),l=Jc(Jc({x1:a,y1:-1e5,x2:a,y2:1e5},i),{},{stroke:r?i.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(qc,c),Object(ee.g)(qc,l))}}])&&tl(t.prototype,n),r&&tl(t,r),o}(ee.a))||Zc;function ul(e){return ul="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ll(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pl(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,a=e.radius,s=t-r/2,u=n-i/2,c={};return Object.entries(e).forEach((function(e){var t=cl(e,2),n=t[0],r=t[1];"object"!==ul(r)&&(c[n]=r)})),c.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",a&&(c.rx=a,c.ry=a),c.x=s,c.y=u,Object(ee.g)("rect",c)}function fl(e){return fl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function dl(){return dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t){return bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bl(e,t)}function xl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=El(e);if(t){var i=El(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wl(this,n)}}function wl(e,t){if(t&&("object"===fl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},El(e)}pl.defaultProps={className:"",radius:""};var _l,Sl=ex(al=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bl(e,t)}(o,e);var t,n,r,i=xl(o);function o(){return ml(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getNodesOutline",value:function(){var e=this.props.graphModel,t=e.nodes,n=e.editConfigModel,r=n.hoverOutline,i=n.nodeSelectedOutline,o=[];return t.forEach((function(e){if(e.isHovered||e.isSelected){var t=e.isHovered,n=e.isSelected,a=e.x,s=e.y,u=e.width,c=e.height;if(i&&n||r&&t){var l=e.getOutlineStyle(),p={};if(Object.keys(l).forEach((function(e){"hover"!==e&&(p[e]=l[e])})),t){var f=l.hover;p=yl(yl({},p),f)}o.push(Object(ee.g)(pl,dl({className:"lf-outline-node",x:a,y:s,width:u+10,height:c+10},p)))}}})),o}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,n=e.editConfigModel,r=n.edgeSelectedOutline,i=n.hoverOutline,o=[],a=0;a<t.length;a++){var s=t[a];(r&&s.isSelected||i&&s.isHovered)&&(s.modelType===fi.LINE_EDGE?o.push(this.getLineOutline(s)):s.modelType===fi.POLYLINE_EDGE?o.push(this.getPolylineOutline(s)):s.modelType===fi.BEZIER_EDGE&&o.push(this.getBezierOutline(s)))}return o}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,i=(t.y+n.y)/2,o=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10,s=e.getOutlineStyle();return Object(ee.g)(pl,dl({className:"lf-outline-edge",x:r,y:i,width:o,height:a},s))}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=yu(t),r=Js(n,8),i=r.x,o=r.y,a=r.width,s=r.height,u=e.getOutlineStyle();return Object(ee.g)(pl,dl({className:"lf-outline",x:i,y:o,width:a,height:s},u))}},{key:"getBezierOutline",value:function(e){var t=e.path,n=xu(t),r=Js(n,8),i=r.x,o=r.y,a=r.width,s=r.height,u=e.getOutlineStyle();return Object(ee.g)(pl,dl({className:"lf-outline",x:i,y:o,width:a,height:s},u))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&gl(t.prototype,n),r&&gl(t,r),o}(ee.a))||al;function Ol(e){return Ol="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jl(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.r,a=void 0===o?4:o,s=e.className,u={cx:n,cy:i,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=Pl(e,2),n=t[0],r=t[1];"object"!==Ol(r)&&(u[n]=r)})),u.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(ee.g)("circle",u)}function Cl(e){return Cl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(e)}function Tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ml(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Al(){return Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t,n){return t&&Dl(e.prototype,t),n&&Dl(e,n),e}function Il(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ll(e,t)}function Ll(e,t){return Ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ll(e,t)}function Bl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vl(e);if(t){var i=Vl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){if(t&&("object"===Cl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}function zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vl(e)}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $l,Gl=function(e){Il(n,e);var t=Bl(n);function n(){var e;return Nl(this,n),Hl(zl(e=t.call(this)),"dragHandler",void 0),Hl(zl(e),"onDraging",(function(t){var n=t.event,r=e.props,i=r.graphModel,o=r.bezierModel,a=r.type,s=i.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,u=s.x,c=s.y;o.updateAdjustAnchor({x:u,y:c},a)})),Hl(zl(e),"onDragEnd",(function(){e.props.bezierModel.isDragging=!1})),e.dragHandler=new $u({onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return Rl(n,[{key:"render",value:function(){var e=this,t=this.props.position,n=t.x,r=t.y,i=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(jl,Al({className:"lf-bezier-adjust-anchor",x:n,y:r},i,{onMouseDown:function(t){e.dragHandler.handleMouseDown(t)}}))}}]),n}(ee.a),Ul=ex(_l=function(e){Il(n,e);var t=Bl(n);function n(){return Nl(this,n),t.apply(this,arguments)}return Rl(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,r=e.id,i=Tl(xu(n),4),o=i[0],a=i[1],s=i[2],u=i[3],c=e.getEdgeStyle().adjustLine,l=[];return l.push(Object(ee.g)(qc,Al({x1:o.x,y1:o.y,x2:a.x,y2:a.y},c))),l.push(Object(ee.g)(Gl,{position:a,bezierModel:e,graphModel:t,key:"".concat(r,"_ePre"),type:"sNext"})),l.push(Object(ee.g)(qc,Al({x1:u.x,y1:u.y,x2:s.x,y2:s.y},c))),l.push(Object(ee.g)(Gl,{position:s,bezierModel:e,graphModel:t,key:"".concat(r,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var i=t[r];i.isSelected&&i.modelType===fi.BEZIER_EDGE&&i.draggable&&n.push(this.getBezierAdjust(i,e))}return n}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||_l;function Wl(e){return Wl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(e)}function Xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e,t){return ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ql(e,t)}function Yl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jl(e);if(t){var i=Jl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kl(this,n)}}function Kl(e,t){if(t&&("object"===Wl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jl(e)}var Ql,ep=ex($l=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ql(e,t)}(o,e);var t,n,r,i=Yl(o);function o(){return Xl(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:e},t))}}])&&Zl(t.prototype,n),r&&Zl(t,r),o}(ee.a))||$l;function tp(e){return tp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(e)}function np(){return np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(this,arguments)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function op(e,t){return op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},op(e,t)}function ap(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=up(e);if(t){var i=up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sp(this,n)}}function sp(e,t){if(t&&("object"===tp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},up(e)}var cp=ex(Ql=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&op(e,t)}(o,e);var t,n,r,i=ap(o);function o(){return rp(this,o),i.apply(this,arguments)}return t=o,n=[{key:"getComponent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,i=r(e.type);return Object(ee.g)(i,{key:e.id,model:e,graphModel:t,overlay:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.graphModel,r=t.tool,i=t.options,o=t.dnd,a=t.snaplineModel,s={};i.width&&(s.width="".concat(n.width,"px")),i.height&&(s.height="".concat(n.height,"px"));var u=n.fakerNode,c=n.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph",style:s},Object(ee.g)(yc,{graphModel:n,dnd:o},Object(ee.g)("g",{className:"lf-base"},Nr(n.sortElements,(function(t){return e.getComponent(t,n)}))),u?this.getComponent(u,n):""),Object(ee.g)(ep,{graphModel:n},Object(ee.g)(Sl,{graphModel:n}),c?Object(ee.g)(Ul,{graphModel:n}):"",i.isSilentMode||!1===i.snapline?"":Object(ee.g)(sl,{snaplineModel:a})),Object(ee.g)(Oc,{graphModel:n,tool:r}),i.background&&Object(ee.g)(Dc,{background:i.background}),i.grid&&Object(ee.g)(Gc,np({},i.grid,{graphModel:n})))}}],n&&ip(t.prototype,n),r&&ip(t,r),o}(ee.a))||Ql,lp=cp;function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yp=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hp(this,"nodeConfig",void 0),hp(this,"lf",void 0),hp(this,"fakerNode",void 0),hp(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),hp(this,"dragEnter",(function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(fp(fp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),hp(this,"onDragOver",(function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,i=t.y;n.fakerNode.moveTo(r,i);var o=n.fakerNode.getData();n.lf.setNodeSnapLine(o),n.lf.graphModel.eventCenter.emit(hi.NODE_DND_DRAG,{data:o})}return!1})),hp(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),hp(this,"onDrop",(function(e){if(n.lf.graphModel&&e&&n.nodeConfig){var t=n.lf.addNode(fp(fp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=t.getData();n.lf.graphModel.eventCenter.emit(hi.NODE_DND_ADD,{data:r})}}));var r=t.lf;this.lf=r}var t,n,r;return t=e,(n=[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=xr(this.lf.options,["grid","size"]),i=this.lf.graphModel.getPointByClient({x:t,y:n}).canvasOverlayPosition,o=i.x,a=i.y;return{x:Fo(o,r),y:Fo(a,r)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&dp(t.prototype,n),r&&dp(t,r),e}();function vp(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");if("string"===typeof r||"string"===typeof i)throw new Error("width\u6216height\u4e0d\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f20\u6570\u5b57");return n&&(e.grid=Kr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Kr({},bp,e)}var mp,gp,bp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function xp(e){return xp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Ep(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ep(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){Rp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Op(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(){return jp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Cp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jp.apply(this,arguments)}function Cp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dp(e)););return e}function Tp(e,t){return Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tp(e,t)}function Mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dp(e);if(t){var i=Dp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ap(this,n)}}function Ap(e,t){if(t&&("object"===xp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Np(e)}function Np(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(e)}function Rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ip(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Lp,Bp,Fp,zp,Vp,Hp,$p,Gp,Up,Wp,Xp,Zp,qp,Yp,Kp,Jp,Qp,ef,tf,nf,rf=(mp=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}(o,e);var t,n,r,i=Mp(o);function o(){var e;Pp(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rp(Np(e=i.call.apply(i,[this].concat(n))),"modelType",fi.BEZIER_EDGE),Op(Np(e),"path",gp,Np(e)),e}return t=o,(n=[{key:"initEdgeData",value:function(e){this.offset=100,jp(Dp(o.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.bezier;return Sp(Sp({},jp(Dp(o.prototype),"getEdgeStyle",this).call(this)),wo(e))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,i=n.y;e+=r,t+=i})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=jp(Dp(o.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Sp(Sp({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return bu({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=wp(e,4),n=t[0],r=t[1],i=t[2],o=t[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(i.x," ").concat(i.y,",\n    ").concat(o.x," ").concat(o.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e=this.getControls(),t=e.sNext,n=e.ePre;this.updatePath(t,n)}},{key:"updatePath",value:function(e,t){var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!e||!t){var i=this.getControls();e=i.sNext,t=i.ePre}this.pointsList=[n,e,t,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t;var n=wp(this.pointsList,3),r=n[1],i=n[2];r.x+=e,r.y+=t,this.updatePath(r,i)}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t;var n=wp(this.pointsList,3),r=n[1],i=n[2];i.x+=e,i.y+=t,this.updatePath(r,i)}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,i=e.targetNode,o=bu({start:t,end:n,sourceNode:r,targetNode:i,offset:this.offset}),a=o.sNext,s=o.ePre;this.pointsList=[t,a,s,n],this.initPoints()}}])&&kp(t.prototype,n),r&&kp(t,r),o}(is),gp=Ip(mp.prototype,"path",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ip(mp.prototype,"initPoints",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"initPoints"),mp.prototype),Ip(mp.prototype,"updatePoints",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"updatePoints"),mp.prototype),Ip(mp.prototype,"updateStartPoint",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"updateStartPoint"),mp.prototype),Ip(mp.prototype,"updateEndPoint",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"updateEndPoint"),mp.prototype),Ip(mp.prototype,"moveStartPoint",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"moveStartPoint"),mp.prototype),Ip(mp.prototype,"moveEndPoint",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"moveEndPoint"),mp.prototype),Ip(mp.prototype,"updateAdjustAnchor",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"updateAdjustAnchor"),mp.prototype),Ip(mp.prototype,"getAdjustStart",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"getAdjustStart"),mp.prototype),Ip(mp.prototype,"getAdjustEnd",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"getAdjustEnd"),mp.prototype),Ip(mp.prototype,"updateAfterAdjustStartAndEnd",[i.k],Object.getOwnPropertyDescriptor(mp.prototype,"updateAfterAdjustStartAndEnd"),mp.prototype),mp),of=function(e){return null==e};function af(e){return af="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(e)}function sf(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return uf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uf(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(n),!0).forEach((function(t){df(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hf(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var yf,vf,mf=(Lp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),df(this,"id",ea()),pf(this,"type",Bp,this),pf(this,"x",Fp,this),pf(this,"y",zp,this),pf(this,"text",Vp,this),pf(this,"properties",Hp,this),pf(this,"_width",$p,this),pf(this,"_height",Gp,this),pf(this,"anchorsOffset",Up,this),pf(this,"isSelected",Wp,this),pf(this,"isHovered",Xp,this),pf(this,"isShowAnchor",Zp,this),pf(this,"isDragging",qp,this),pf(this,"isHitable",Yp,this),pf(this,"draggable",Kp,this),pf(this,"visible",Jp,this),df(this,"virtual",!1),df(this,"graphModel",void 0),pf(this,"zIndex",Qp,this),pf(this,"state",ef,this),pf(this,"autoToFront",tf,this),pf(this,"style",nf,this),df(this,"BaseType",di.NODE),df(this,"modelType",fi.NODE),df(this,"additionStateData",void 0),df(this,"targetRules",[]),df(this,"sourceRules",[]),df(this,"moveRules",[]),df(this,"hasSetTargetRules",!1),df(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(t),this.setAttributes()}var t,n,r;return t=e,n=[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}this.formatText(e),Kr(this,function(e){return oi(e,["id","type","x","y","text","properties","virtual"])}(e)),this.graphModel.overlapMode===vi.INCREASE&&(this.zIndex=e.zIndex||Ya())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"===typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o=this.properties;Object(i.x)(o)&&(o=Object(i.I)(o));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return this.graphModel.overlapMode===vi.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:t,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(i.I)(this.properties)}},{key:"getNodeStyle",value:function(){return lf(lf({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.nodeText;return wo(e)}},{key:"getAnchorStyle",value:function(e){var t=this.graphModel.theme.anchor;return wo(t)}},{key:"getAnchorLineStyle",value:function(){var e=this.graphModel.theme.anchorLine;return wo(e)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return wo(e)}},{key:"isAllowConnectedAsSource",value:function(e,t,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var i,o=!0,a=0;a<r.length;a++){var s=r[a];if(!s.validate.call(this,this,e,t,n)){o=!1,i=s.message;break}}return{isAllPass:o,msg:i}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e,t,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var i,o=!0,a=0;a<r.length;a++){var s=r[a];if(!s.validate.call(this,e,this,t,n)){o=!1,i=s.message;break}}return{isAllPass:o,msg:i}}},{key:"isAllowMoveNode",value:function(e,t){var n,r=!0,i=!0,o=sf(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(o.s();!(n=o.n()).done;){var a=(0,n.value)(this,e,t);if(!a)return!1;if("object"===af(a)){var s=a;if(!1===s.x&&!1===s.y)return!1;r=r&&s.x,i=i&&s.y}}}catch(u){o.e(u)}finally{o.f()}return{x:r,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.id,n=this.x,r=this.y;return e&&e.length>0?e.map((function(e,i){return e.length?{id:"".concat(t,"_").concat(i),x:n+e[0],y:r+e[1]}:lf(lf({},e),{},{x:n+e.x,y:r+e.y,id:e.id||"".concat(t,"_").concat(i)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(e){if(!of(e))for(var t=0;t<this.anchors.length;t++){var n=this.anchors[t];if(n.id===e)return n}}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i=!1;if(n)r=!0,i=!0;else{var o=this.isAllowMoveNode(e,t);"boolean"===typeof o?(r=o,i=o):(r=o.x,i=o.y)}if(r){var a=this.x+e;this.x=a,this.text&&this.moveText(e,0)}if(i){var s=this.y+t;this.y=s,this.text&&this.moveText(0,t)}return r||i}},{key:"getMoveDistance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i=!1,o=0,a=0;if(n)r=!0,i=!0;else{var s=this.isAllowMoveNode(e,t);"boolean"===typeof s?(r=s,i=s):(r=s.x,i=s.y)}if(r&&e){var u=this.x+e;this.x=u,this.text&&this.moveText(e,0),o=e}if(i&&t){var c=this.y+t;this.y=c,this.text&&this.moveText(0,t),a=t}return[o,a]}},{key:"moveTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e-this.x,i=t-this.y;return!(!n&&!this.isAllowMoveNode(r,i))&&(this.text&&this.text&&this.moveText(r,i),this.x=e,this.y=t,!0)}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,i=n.y,o=n.value,a=n.draggable,s=n.editable;this.text={value:o,editable:s,draggable:a,x:r+e,y:i+t}}},{key:"updateText",value:function(e){this.text=lf(lf({},this.text),{},{value:e})}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e,this.setIsShowAnchor(e)}},{key:"setIsShowAnchor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowAnchor=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setProperty",value:function(e,t){this.properties=lf(lf({},this.properties),{},df({},e,Xa(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=lf(lf({},this.properties),Xa(e)),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setStyle",value:function(e,t){this.style=lf(lf({},this.style),{},df({},e,Xa(t)))}},{key:"setStyles",value:function(e){this.style=lf(lf({},this.style),Xa(e))}},{key:"updateStyles",value:function(e){this.style=lf({},Xa(e))}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=e}},{key:"updateAttributes",value:function(e){Kr(this,e)}}],n&&ff(t.prototype,n),r&&ff(t,r),e}(),Bp=hf(Lp.prototype,"type",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fp=hf(Lp.prototype,"x",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zp=hf(Lp.prototype,"y",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vp=hf(Lp.prototype,"text",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Hp=hf(Lp.prototype,"properties",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$p=hf(Lp.prototype,"_width",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Gp=hf(Lp.prototype,"_height",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Up=hf(Lp.prototype,"anchorsOffset",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wp=hf(Lp.prototype,"isSelected",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xp=hf(Lp.prototype,"isHovered",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=hf(Lp.prototype,"isShowAnchor",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qp=hf(Lp.prototype,"isDragging",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yp=hf(Lp.prototype,"isHitable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kp=hf(Lp.prototype,"draggable",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jp=hf(Lp.prototype,"visible",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qp=hf(Lp.prototype,"zIndex",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ef=hf(Lp.prototype,"state",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tf=hf(Lp.prototype,"autoToFront",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nf=hf(Lp.prototype,"style",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hf(Lp.prototype,"incoming",[i.m],Object.getOwnPropertyDescriptor(Lp.prototype,"incoming"),Lp.prototype),hf(Lp.prototype,"outgoing",[i.m],Object.getOwnPropertyDescriptor(Lp.prototype,"outgoing"),Lp.prototype),hf(Lp.prototype,"addNodeMoveRules",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"addNodeMoveRules"),Lp.prototype),hf(Lp.prototype,"move",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"move"),Lp.prototype),hf(Lp.prototype,"getMoveDistance",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"getMoveDistance"),Lp.prototype),hf(Lp.prototype,"moveTo",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"moveTo"),Lp.prototype),hf(Lp.prototype,"moveText",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"moveText"),Lp.prototype),hf(Lp.prototype,"updateText",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"updateText"),Lp.prototype),hf(Lp.prototype,"setSelected",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setSelected"),Lp.prototype),hf(Lp.prototype,"setHovered",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setHovered"),Lp.prototype),hf(Lp.prototype,"setIsShowAnchor",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setIsShowAnchor"),Lp.prototype),hf(Lp.prototype,"setHitable",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setHitable"),Lp.prototype),hf(Lp.prototype,"setElementState",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setElementState"),Lp.prototype),hf(Lp.prototype,"setProperty",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setProperty"),Lp.prototype),hf(Lp.prototype,"setProperties",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setProperties"),Lp.prototype),hf(Lp.prototype,"deleteProperty",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"deleteProperty"),Lp.prototype),hf(Lp.prototype,"setStyle",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setStyle"),Lp.prototype),hf(Lp.prototype,"setStyles",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setStyles"),Lp.prototype),hf(Lp.prototype,"updateStyles",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"updateStyles"),Lp.prototype),hf(Lp.prototype,"setZIndex",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"setZIndex"),Lp.prototype),hf(Lp.prototype,"updateAttributes",[i.k],Object.getOwnPropertyDescriptor(Lp.prototype,"updateAttributes"),Lp.prototype),Lp);function gf(e){return gf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){Mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sf(){return Sf="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Of(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Sf.apply(this,arguments)}function Of(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tf(e)););return e}function Pf(e,t){return Pf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pf(e,t)}function kf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tf(e);if(t){var i=Tf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jf(this,n)}}function jf(e,t){if(t&&("object"===gf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cf(e)}function Cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tf(e)}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Af(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Nf,Df,Rf,If=(yf=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pf(e,t)}(o,e);var t,n,r,i=kf(o);function o(){var e;Ef(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mf(Cf(e=i.call.apply(i,[this].concat(n))),"modelType",fi.CIRCLE_NODE),wf(Cf(e),"r",vf,Cf(e)),e}return t=o,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var e=Sf(Tf(o.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.circle;return xf(xf({},e),wo(t))}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.r;return[{x:e,y:t-n,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+n,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&_f(t.prototype,n),r&&_f(t,r),o}(mf),vf=Af(yf.prototype,"r",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Af(yf.prototype,"width",[i.m],Object.getOwnPropertyDescriptor(yf.prototype,"width"),yf.prototype),Af(yf.prototype,"height",[i.m],Object.getOwnPropertyDescriptor(yf.prototype,"height"),yf.prototype),yf);function Lf(e){return Lf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(e)}function Bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Ff(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ff(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach((function(t){Jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uf(){return Uf="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Uf.apply(this,arguments)}function Wf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kf(e)););return e}function Xf(e,t){return Xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xf(e,t)}function Zf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kf(e);if(t){var i=Kf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qf(this,n)}}function qf(e,t){if(t&&("object"===Lf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yf(e)}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kf(e)}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qf(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(127);var ed,td,nd,rd=(Nf=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xf(e,t)}(o,e);var t,n,r,i=Zf(o);function o(){var e;$f(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jf(Yf(e=i.call.apply(i,[this].concat(n))),"modelType",fi.DIAMOND_NODE),Hf(Yf(e),"rx",Df,Yf(e)),Hf(Yf(e),"ry",Rf,Yf(e)),e}return t=o,(n=[{key:"getNodeStyle",value:function(){var e=Uf(Kf(o.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.diamond;return Vf(Vf({},e),wo(t))}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Bf(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Bf(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this;return this.points.map((function(t,n){var r=Bf(t,2);return{x:r[0],y:r[1],id:"".concat(e.id,"_").concat(n)}}))}}])&&Gf(t.prototype,n),r&&Gf(t,r),o}(mf),Df=Qf(Nf.prototype,"rx",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Rf=Qf(Nf.prototype,"ry",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qf(Nf.prototype,"points",[i.m],Object.getOwnPropertyDescriptor(Nf.prototype,"points"),Nf.prototype),Qf(Nf.prototype,"pointsPosition",[i.m],Object.getOwnPropertyDescriptor(Nf.prototype,"pointsPosition"),Nf.prototype),Qf(Nf.prototype,"width",[i.m],Object.getOwnPropertyDescriptor(Nf.prototype,"width"),Nf.prototype),Qf(Nf.prototype,"height",[i.m],Object.getOwnPropertyDescriptor(Nf.prototype,"height"),Nf.prototype),Nf);function id(e){return id="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(e)}function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach((function(t){md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ud(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ld(){return ld="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ld.apply(this,arguments)}function pd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vd(e)););return e}function fd(e,t){return fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fd(e,t)}function dd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vd(e);if(t){var i=vd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hd(this,n)}}function hd(e,t){if(t&&("object"===id(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yd(e)}function yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vd(e)}function md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gd(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var bd,xd,wd=(ed=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fd(e,t)}(o,e);var t,n,r,i=dd(o);function o(){var e;ud(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return md(yd(e=i.call.apply(i,[this].concat(n))),"modelType",fi.ELLIPSE_NODE),sd(yd(e),"rx",td,yd(e)),sd(yd(e),"ry",nd,yd(e)),e}return t=o,(n=[{key:"getNodeStyle",value:function(){var e=ld(vd(o.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.ellipse;return ad(ad({},e),wo(t))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[{x:e,y:t-r,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&cd(t.prototype,n),r&&cd(t,r),o}(mf),td=gd(ed.prototype,"rx",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),nd=gd(ed.prototype,"ry",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),gd(ed.prototype,"width",[i.m],Object.getOwnPropertyDescriptor(ed.prototype,"width"),ed.prototype),gd(ed.prototype,"height",[i.m],Object.getOwnPropertyDescriptor(ed.prototype,"height"),ed.prototype),ed);function Ed(e){return Ed="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function _d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){Ld(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Td(){return Td="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Md(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Td.apply(this,arguments)}function Md(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Id(e)););return e}function Ad(e,t){return Ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ad(e,t)}function Nd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Id(e);if(t){var i=Id(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dd(this,n)}}function Dd(e,t){if(t&&("object"===Ed(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rd(e)}function Rd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Id(e)}function Ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Fd,zd,Vd=(bd=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ad(e,t)}(o,e);var t,n,r,i=Nd(o);function o(){var e;jd(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ld(Rd(e=i.call.apply(i,[this].concat(n))),"modelType",fi.POLYGON_NODE),kd(Rd(e),"points",xd,Rd(e)),e}return t=o,(n=[{key:"getNodeStyle",value:function(){var e=Td(Id(o.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.polygon;return Pd(Pd({},e),wo(t))}},{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.points.map((function(i){return{x:i[0]+e-n/2,y:i[1]+t-r/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=_d(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=_d(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this,t=this.x,n=this.y,r=this.width,i=this.height;return this.points.map((function(o,a){var s=_d(o,2),u=s[0],c=s[1];return{x:t+u-r/2,y:n+c-i/2,id:"".concat(e.id,"_").concat(a)}}))}}])&&Cd(t.prototype,n),r&&Cd(t,r),o}(mf),xd=Bd(bd.prototype,"points",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Bd(bd.prototype,"pointsPosition",[i.m],Object.getOwnPropertyDescriptor(bd.prototype,"pointsPosition"),bd.prototype),Bd(bd.prototype,"width",[i.m],Object.getOwnPropertyDescriptor(bd.prototype,"width"),bd.prototype),Bd(bd.prototype,"height",[i.m],Object.getOwnPropertyDescriptor(bd.prototype,"height"),bd.prototype),bd);function Hd(e){return Hd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(e)}function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$d(Object(n),!0).forEach((function(t){th(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(){return Zd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zd.apply(this,arguments)}function qd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eh(e)););return e}function Yd(e,t){return Yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yd(e,t)}function Kd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eh(e);if(t){var i=eh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jd(this,n)}}function Jd(e,t){if(t&&("object"===Hd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qd(e)}function Qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eh(e)}function th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh,rh=(Fd=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yd(e,t)}(o,e);var t,n,r,i=Kd(o);function o(){var e;Wd(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return th(Qd(e=i.call.apply(i,[this].concat(n))),"modelType",fi.RECT_NODE),Ud(Qd(e),"radius",zd,Qd(e)),e}return t=o,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var e=Zd(eh(o.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.rect;return Gd(Gd({},e),wo(t))}}])&&Xd(t.prototype,n),r&&Xd(t,r),o}(mf),zd=function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(Fd.prototype,"radius",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fd);function ih(e){return ih="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(e)}function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ch(){return ch="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ch.apply(this,arguments)}function lh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yh(e)););return e}function ph(e,t){return ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ph(e,t)}function fh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yh(e);if(t){var i=yh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dh(this,n)}}function dh(e,t){if(t&&("object"===ih(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hh(e)}function hh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(e)}function vh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var gh=(nh=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ph(e,t)}(o,e);var t,n,r,i=fh(o);function o(){var e;sh(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vh(hh(e=i.call.apply(i,[this].concat(n))),"modelType",fi.TEXT_NODE),e}return t=o,(n=[{key:"getTextStyle",value:function(){var e=ch(yh(o.prototype),"getTextStyle",this).call(this),t=this.graphModel.theme.text;return ah(ah({},e),wo(t))}},{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return Ha({rows:e,fontSize:t,rowsLength:e.length}).width}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return Ha({rows:e,fontSize:t,rowsLength:e.length}).height}}])&&uh(t.prototype,n),r&&uh(t,r),o}(mf),mh(nh.prototype,"width",[i.m],Object.getOwnPropertyDescriptor(nh.prototype,"width"),nh.prototype),mh(nh.prototype,"height",[i.m],Object.getOwnPropertyDescriptor(nh.prototype,"height"),nh.prototype),nh);function bh(e){return bh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eh(e,t){return Eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eh(e,t)}function _h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ph(e);if(t){var i=Ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sh(this,n)}}function Sh(e,t){if(t&&("object"===bh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(e)}function kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jh,Ch,Th,Mh,Ah=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eh(e,t)}(o,e);var t,n,r,i=_h(o);function o(){var e;xh(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kh(Oh(e=i.call.apply(i,[this].concat(n))),"modelType",fi.HTML_NODE),e}return t=o,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}}])&&wh(t.prototype,n),r&&wh(t,r),o}(mf);function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lh(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Bh=(jh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ih(this,"graphModel",void 0),Dh(this,"isShowHorizontal",Ch,this),Dh(this,"isShowVertical",Th,this),Dh(this,"position",Mh,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}var t,n,r;return t=e,n=[{key:"getStyle",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nh(Object(n),!0).forEach((function(t){Ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,i=!1,o=!1,a=0;a<t.length;a++){var s=t[a];if(s.id!==e.id&&(n===s.x&&(i=!0),r===s.y&&(o=!0),i&&o))break}return{isShowVertical:i,isShowHorizontal:o,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,i=!1,o=e.id;if(o){var a=this.graphModel.fakerNode;if(a&&a.id===o)r=Da(a);else{var s=this.graphModel.getNodeModelById(o);r=Da(s)}}for(var u=0;u<t.length;u++){var c=t[u];if(c.id!==e.id){var l=Da(c);if(l.minY===r.minY||l.maxY===r.minY){i=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){i=!0,n=r.maxY;break}}}return Kr({isShowHorizontal:i,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,i=!1,o=e.id;if(o){var a=this.graphModel.fakerNode;if(a&&a.id===o)r=Da(a);else{var s=this.graphModel.getNodeModelById(o);r=Da(s)}}for(var u=0;u<t.length;u++){var c=t[u];if(c.id!==e.id){var l=Da(c);if(l.minX===r.minX||l.maxX===r.minX){i=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){i=!0,n=r.maxX;break}}}return Kr({isShowVertical:i,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,i=n.isShowVertical;if(!r){var o=this.getHorizontalSnapline(e,t);o.isShowHorizontal&&(n.isShowHorizontal=o.isShowHorizontal,n.position.y=o.position.y)}if(!i){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}],n&&Rh(t.prototype,n),r&&Rh(t,r),e}(),Ch=Lh(jh.prototype,"isShowHorizontal",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Th=Lh(jh.prototype,"isShowVertical",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mh=Lh(jh.prototype,"position",[i.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh(jh.prototype,"clearSnapline",[i.k],Object.getOwnPropertyDescriptor(jh.prototype,"clearSnapline"),jh.prototype),Lh(jh.prototype,"setNodeSnapLine",[i.k],Object.getOwnPropertyDescriptor(jh.prototype,"setNodeSnapLine"),jh.prototype),jh),Fh=new Map,zh=function(e){var t=ea(),n=window.requestAnimationFrame((function n(){if(e(),Fh.get(t)){var r=window.requestAnimationFrame(n);Fh.set(t,r)}}));return Fh.set(t,n),t},Vh=function(e){var t=Fh.get(e);t&&(window.cancelAnimationFrame(t),Fh.delete(e))};function Hh(e){return Hh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(e)}function $h(){return $h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(n),!0).forEach((function(t){ey(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Xh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qh(e,t){return qh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qh(e,t)}function Yh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qh(e);if(t){var i=Qh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kh(this,n)}}function Kh(e,t){if(t&&("object"===Hh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jh(e)}function Jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qh(e)}function ey(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ty=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qh(e,t)}(o,e);var t,n,r,i=Yh(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ey(Jh(e=i.call(this)),"preTargetNode",void 0),ey(Jh(e),"sourceRuleResults",void 0),ey(Jh(e),"targetRuleResults",void 0),ey(Jh(e),"dragHandler",void 0),ey(Jh(e),"t",void 0),ey(Jh(e),"onDragStart",(function(t){var n=t.event,r=e.props,i=r.anchorData,o=r.nodeModel,a=r.graphModel,s=a.overlapMode;a.selectNodeById(o.id),s!==vi.INCREASE&&o.autoToFront&&a.toFront(o.id),a.eventCenter.emit(hi.ANCHOR_DRAGSTART,{data:i,e:n,nodeModel:o}),e.setState({startX:i.x,startY:i.y,endX:i.x,endY:i.y})})),ey(Jh(e),"onDraging",(function(t){var n=t.event,r=e.props,i=r.graphModel,o=r.nodeModel,a=r.anchorData,s=i.transformModel,u=i.eventCenter,c=i.width,l=i.height,p=i.editConfigModel,f=p.autoExpand,d=p.stopMoveGraph,h=n.clientX,y=n.clientY,v=i.getPointByClient({x:h,y:y}),m=v.domOverlayPosition,g=m.x,b=m.y,x=v.canvasOverlayPosition,w=x.x,E=x.y;e.t&&Vh(e.t);var _=[];g<10?_=[10,0]:g+10>c?_=[-10,0]:b<10?_=[0,10]:b+10>l&&(_=[0,-10]),e.setState({endX:w,endY:E,draging:!0}),e.moveAnchorEnd(w,E),_.length>0&&!d&&f&&(e.t=zh((function(){var t=Wh(_,2),n=t[0],r=t[1];s.translate(n,r);var i=e.state,o=i.endX,a=i.endY;e.setState({endX:o-n,endY:a-r}),e.moveAnchorEnd(o-n,a-r)}))),u.emit(hi.ANCHOR_DRAG,{data:a,e:n,nodeModel:o})})),ey(Jh(e),"onDragEnd",(function(t){e.t&&Vh(e.t),e.checkEnd(t),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),e.sourceRuleResults.clear(),e.targetRuleResults.clear();var n=e.props,r=n.graphModel,i=n.nodeModel,o=n.anchorData;r.eventCenter.emit(hi.ANCHOR_DRAGEND,{data:o,e:t,nodeModel:i})})),ey(Jh(e),"checkEnd",(function(t){var n=e.props,r=n.graphModel,i=n.nodeModel,o=n.anchorData,a=o.x,s=o.y,u=o.id,c=(r.edgeType,e.state),l=c.endX,p=c.endY,f=c.draging,d=ja({x:l,y:p},r);if(e.preTargetNode&&e.preTargetNode.state!==li.DEFAULT&&e.preTargetNode.setElementState(li.DEFAULT),f&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(i.id,"_").concat(h.id,"_").concat(y,"_").concat(u),m=e.sourceRuleResults.get(v)||{},g=m.isAllPass,b=m.msg,x=e.targetRuleResults.get(v)||{},w=x.isAllPass,E=x.msg;if(g&&w){h.setElementState(li.DEFAULT);var _=r.edgeGenerator(i.getData(),r.getNodeModelById(d.node.id).getData()),S=r.addEdge(Uh(Uh({},_),{},{sourceNodeId:i.id,sourceAnchorId:u,startPoint:{x:a,y:s},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),O=e.props.anchorData;r.eventCenter.emit(hi.ANCHOR_DROP,{data:O,e:t,nodeModel:i,edgeModel:S})}else{var P=h.getData();r.eventCenter.emit(hi.CONNECTION_NOT_ALLOWED,{data:P,msg:E||b})}}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=new $u({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=o,(n=[{key:"getAnchorShape",value:function(){var e=this.props,t=e.anchorData,n=e.style,r=e.node.getAnchorShape(t);if(r)return r;var i=t.x,o=t.y,a=Uh(Uh({},n),n.hover);return Object(ee.g)("g",null,Object(ee.g)(jl,$h({className:"lf-node-anchor-hover"},a,{x:i,y:o})),Object(ee.g)(jl,$h({className:"lf-node-anchor"},n,{x:i,y:o})))}},{key:"moveAnchorEnd",value:function(e,t){var n=this.props,r=n.graphModel,i=n.nodeModel,o=n.anchorData,a=ja({x:e,y:t},r);if(a){var s=a.node,u=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(li.DEFAULT),o.id===u)return;this.preTargetNode=s;var c="".concat(i.id,"_").concat(s.id,"_").concat(u,"_").concat(o.id);if(!this.targetRuleResults.has(c)){var l=a.anchor,p=i.isAllowConnectedAsSource(s,o,l),f=s.isAllowConnectedAsTarget(i,o,l);this.sourceRuleResults.set(c,$a(p)),this.targetRuleResults.set(c,$a(f))}var d=this.sourceRuleResults.get(c).isAllPass,h=this.targetRuleResults.get(c).isAllPass;d&&h?s.setElementState(li.ALLOW_CONNECT):s.setElementState(li.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==li.DEFAULT&&this.preTargetNode.setElementState(li.DEFAULT)}},{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,i=e.endY;return Ma(t,n,r,i)>10}},{key:"render",value:function(){var e=this,t=this.state,n=t.startX,r=t.startY,i=t.endX,o=t.endY,a=this.props,s=a.anchorData.edgeAddable,u=a.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(t){!1!==s&&e.dragHandler.handleMouseDown(t)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(qc,$h({x1:n,y1:r,x2:i,y2:o},u,{"pointer-events":"none"})))}}])&&Zh(t.prototype,n),r&&Zh(t,r),o}(ee.a);function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach((function(t){iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oy(e){return oy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(e)}function ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uy(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.value,a=e.fontSize,s=e.fill,u=void 0===s?"currentColor":s,c=e.overflowMode,l=void 0===c?"default":c,p=e.textWidth,f=void 0===p?"":p,d=e.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:u};if(Object.entries(e).forEach((function(e){var t=ay(e,2),n=t[0],r=t[1];"object"!==oy(r)&&(h[n]=r)})),o){var y=String(o).split(/[\r\n]/g),v=y.length;if("default"!==l){var m=d.BaseType,g=d.modelType;if(m===di.NODE&&g!==fi.TEXT_NODE||m===di.EDGE&&f)return function(e){var t=e.value,n=e.fontSize,r=e.model,i=e.fontFamily,o=void 0===i?"":i,a=e.lineHeight,s=e.wrapPadding,u=void 0===s?"0, 0":s,c=e.overflowMode,l=e.x,p=e.y,f=r.width,d=r.textHeight,h=e.textWidth||f,y=String(t).split(/[\r\n]/g),v=y.length,m=Va({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:o,lineHeight:a,padding:u},rowsLength:v,className:"lf-get-text-height"}),g=r.height>m?r.height:m;d&&(g=d);var b="ellipsis"===c;return Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:h,height:g,x:l-h/2,y:p-g/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:g,width:h,padding:u}},Object(ee.g)("div",{className:b?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:ry({},e)},y.map((function(e){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},e)}))))))}(e)}if(v>1){var b=y.map((function(e,t){var r=(t-(v-1)/2)*(a+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:i+r},e)}));return Object(ee.g)("text",h,b)}return Object(ee.g)("text",h,o)}}function cy(e){return cy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function ly(){return ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(this,arguments)}function py(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hy(e,t){return hy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hy(e,t)}function yy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gy(e);if(t){var i=gy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vy(this,n)}}function vy(e,t){if(t&&("object"===cy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return my(e)}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(e)}function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(63);var xy=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hy(e,t)}(o,e);var t,n,r,i=yy(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),by(my(t=i.call(this)),"dragHandler",void 0),by(my(t),"sumDeltaX",0),by(my(t),"sumDeltaY",0),by(my(t),"stepDrag",void 0),by(my(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,i=t.props,o=i.model,a=py(i.graphModel.transformModel.fixDeltaXY(n,r),2),s=a[0],u=a[1];o.moveText(s,u)})),by(my(t),"dblClickHandler",(function(){t.props.editable&&t.props.model.setElementState(li.TEXT_EDIT)})),by(my(t),"mouseDownHandle",(function(e){var n=t.props,r=n.draggable,i=n.graphModel.editConfigModel.nodeTextDraggable;(r||i)&&t.stepDrag.handleMouseDown(e)}));var n=e.model,r=e.draggable;return t.stepDrag=new $u({onDraging:t.onDraging,step:1,model:n,isStopPropagation:r}),t}return t=o,(n=[{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.text,i=n.editConfigModel,o=r.value,a=r.x,s=r.y,u=r.editable,c=r.draggable,l={x:a,y:s,className:"",value:o};u?l.className="lf-element-text":c||i.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var p=t.getTextStyle();return Object(ee.g)(uy,ly({},l,p,{model:t}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&dy(t.prototype,n),r&&dy(t,r),o}(ee.a),wy=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Ey(e){return Ey="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(e)}function _y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Py(e,t){return Py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Py(e,t)}function ky(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ty(e);if(t){var i=Ty(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jy(this,n)}}function jy(e,t){if(t&&("object"===Ey(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cy(e)}function Cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ty(e)}function My(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ay=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Py(e,t)}(o,e);var t,n,r,i=ky(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),My(Cy(t=i.call(this)),"t",void 0),My(Cy(t),"moveOffset",void 0),My(Cy(t),"stepDrag",void 0),My(Cy(t),"contextMenuTime",void 0),My(Cy(t),"startTime",void 0),My(Cy(t),"clickTimer",void 0),My(Cy(t),"onDragStart",(function(e){var n=e.event,r=n.clientX,i=n.clientY,o=t.props,a=o.model,s=o.graphModel.getPointByClient({x:r,y:i}).canvasOverlayPosition,u=s.x,c=s.y;t.moveOffset={x:a.x-u,y:a.y-c}})),My(Cy(t),"onDraging",(function(e){var n=e.event,r=t.props,i=r.model,o=r.graphModel,a=o.editConfigModel,s=a.stopMoveGraph,u=a.autoExpand,c=o.transformModel,l=o.width,p=o.height,f=o.gridSize;i.isDragging=!0;var d=n.clientX,h=n.clientY,y=o.getPointByClient({x:d,y:h}).canvasOverlayPosition,v=y.x,m=y.y,g=_y(c.CanvasPointToHtmlPoint([v,m]),2),b=g[0],x=g[1];if(v+=t.moveOffset.x,m+=t.moveOffset.y,v=Fo(v,f),m=Fo(m,f),l&&p){if(!u||s||!(b<0||x<0||b>l||x>p)){var w=_y(c.CanvasPointToHtmlPoint([v-i.width/2,m-i.height/2]),2),E=w[0],_=w[1],S=_y(c.CanvasPointToHtmlPoint([v+i.width/2,m+i.height/2]),2),O=S[0],P=S[1],k=Math.max(f,20),j=[];E<0?j=[k,0]:O>o.width?j=[-k,0]:_<0?j=[0,k]:P>o.height&&(j=[0,-k]),t.t&&Vh(t.t),j.length>0&&!s&&u?t.t=zh((function(){var e=_y(j,2),t=e[0],n=e[1];c.translate(t,n),o.moveNode(i.id,-t/c.SCALE_X,-n/c.SCALE_X)})):o.moveNode2Coordinate(i.id,v,m)}}else o.moveNode2Coordinate(i.id,v,m)})),My(Cy(t),"onDragEnd",(function(){t.t&&Vh(t.t),t.props.model.isDragging=!1})),My(Cy(t),"handleClick",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var n=t.props,r=n.model,i=n.graphModel,o={data:r.getData(),e:e,position:i.getPointByClient({x:e.clientX,y:e.clientY})},a=2===e.button,s=2===e.detail;if(!a){var u=i.editConfigModel;i.selectNodeById(r.id,Uo(e,u)),t.toFront(),s?(u.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),i.setElementStateById(r.id,li.TEXT_EDIT)),i.eventCenter.emit(hi.NODE_DBCLICK,o)):(i.eventCenter.emit(hi.ELEMENT_CLICK,o),i.eventCenter.emit(hi.NODE_CLICK,o))}}})),My(Cy(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.model,i=n.graphModel,o=r.getData(),a=i.getPointByClient({x:e.clientX,y:e.clientY});i.setElementStateById(r.id,li.SHOW_MENU,a.domOverlayPosition),i.selectNodeById(r.id),i.eventCenter.emit(hi.NODE_CONTEXTMENU,{data:o,e:e,position:a}),t.toFront()})),My(Cy(t),"handleMouseDown",(function(e){var n=t.props,r=n.model,i=n.graphModel;t.startTime=(new Date).getTime(),i.editConfigModel.adjustNodePosition&&r.draggable&&t.stepDrag&&t.stepDrag.handleMouseDown(e)})),My(Cy(t),"setHoverON",(function(e){var n=t.props,r=n.model,i=n.graphModel;if(!r.isHovered){var o=r.getData();r.setHovered(!0),i.eventCenter.emit(hi.NODE_MOUSEENTER,{data:o,e:e})}})),My(Cy(t),"setHoverOFF",(function(e){var n=t.props,r=n.model,i=n.graphModel,o=r.getData();r.isHovered&&(r.setHovered(!1),i.eventCenter.emit(hi.NODE_MOUSELEAVE,{data:o,e:e}))})),My(Cy(t),"onMouseOut",(function(e){wy&&t.setHoverOFF(e)}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter,s=e.model;return t.stepDrag=new $u({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:s}),t}return t=o,r=[{key:"getModel",value:function(e){return e}}],(n=[{key:"getAnchorShape",value:function(e){return null}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,i=n.isSelected,o=n.isHitable,a=n.isDragging,s=n.isShowAnchor;if(o&&(i||s)&&!a){var u=n.getAnchorLineStyle();return Nr(n.anchors,(function(t,i){var o=n.getAnchorStyle(t);return Object(ee.g)(ty,{anchorData:t,node:e,style:o,edgeStyle:u,anchorIndex:i,nodeModel:n,graphModel:r,setHoverOFF:e.setHoverOFF})}))}return[]}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===li.TEXT_EDIT)return"";if(t.text){var r=n.editConfigModel,i=!1;return(t.text.draggable||r.nodeTextDraggable)&&(i=!0),Object(ee.g)(xy,{editable:r.nodeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:i})}}},{key:"getStateClassName",value:function(){var e=this.props.model,t=e.state,n=e.isDraging,r=e.isSelected,i="lf-node";switch(t){case li.ALLOW_CONNECT:i+=" lf-node-allow";break;case li.NOT_ALLOW_CONNECT:i+=" lf-node-not-allow";break;default:i+=" lf-node-default"}return n&&(i+=" lf-isDragging"),r&&(i+=" lf-node-selected"),i}},{key:"toFront",value:function(){var e=this.props,t=e.model,n=e.graphModel;n.overlapMode!==vi.INCREASE&&t.autoToFront&&n.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,n=t.model,r=t.graphModel,i=r.editConfigModel,o=i.hideAnchors,a=i.adjustNodePosition,s=r.gridSize,u=r.transformModel.SCALE_X,c=n.isHitable,l=n.draggable,p=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),o?null:this.getAnchors());return c?(a&&l&&this.stepDrag.setStep(s*u),e=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},p)):e=Object(ee.g)("g",{className:this.getStateClassName()},p),e}}])&&Oy(t.prototype,n),r&&Oy(t,r),o}(ee.a);function Ny(e){return Ny="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(e)}function Dy(){return Dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(this,arguments)}function Ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ly(e,t){return Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ly(e,t)}function By(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zy(e);if(t){var i=zy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fy(this,n)}}function Fy(e,t){if(t&&("object"===Ny(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zy(e)}var Vy=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ly(e,t)}(o,e);var t,n,r,i=By(o);function o(){return Ry(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)(pl,Dy({},t,{x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius}))}}])&&Iy(t.prototype,n),r&&Iy(t,r),o}(Ay);function Hy(e){return Hy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(e)}function $y(){return $y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(this,arguments)}function Gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t){return Wy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wy(e,t)}function Xy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qy(e);if(t){var i=qy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zy(this,n)}}function Zy(e,t){if(t&&("object"===Hy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qy(e)}var Yy=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wy(e,t)}(o,e);var t,n,r,i=Xy(o);function o(){return Gy(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.r,i=e.getNodeStyle();return Object(ee.g)(jl,$y({},i,{x:t,y:n,r:r}))}}])&&Uy(t.prototype,n),r&&Uy(t,r),o}(Ay);function Ky(e){return Ky="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(e)}function Jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ev(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach((function(e){var t=Jy(e,2),n=t[0],i=t[1];"object"!==Ky(i)&&(r[n]=i)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map((function(e){return e.join(",")})).join(" "),Object(ee.g)("polygon",r)}function tv(e){return tv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(e)}function nv(){return nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(this,arguments)}function rv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ov(e,t){return ov=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ov(e,t)}function av(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uv(e);if(t){var i=uv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sv(this,n)}}function sv(e,t){if(t&&("object"===tv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uv(e){return uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uv(e)}var cv=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ov(e,t)}(o,e);var t,n,r,i=av(o);function o(){return rv(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.points,a=e.getNodeStyle(),s={transform:"matrix(1 0 0 1 ".concat(t-r/2," ").concat(n-i/2,")")};return Object(ee.g)("g",s,Object(ee.g)(ev,nv({},a,{points:o,x:t,y:n})))}}])&&iv(t.prototype,n),r&&iv(t,r),o}(Ay);function lv(e){return lv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function pv(){return pv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(this,arguments)}function fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hv(e,t){return hv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hv(e,t)}function yv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mv(e);if(t){var i=mv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vv(this,n)}}function vv(e,t){if(t&&("object"===lv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mv(e)}var gv=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hv(e,t)}(o,e);var t,n,r,i=yv(o);function o(){return fv(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(ev,pv({},t,{points:e.points,x:e.x,y:e.y})))}}])&&dv(t.prototype,n),r&&dv(t,r),o}(Ay);function bv(e){return bv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(e)}function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ev(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.rx,a=void 0===o?4:o,s=e.ry,u=void 0===s?4:s,c=e.className,l={cx:n,cy:i,rx:a,ry:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=xv(e,2),n=t[0],r=t[1];"object"!==bv(r)&&(l[n]=r)})),l.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",Object(ee.g)("ellipse",l)}function _v(e){return _v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(e)}function Sv(){return Sv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}function Ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kv(e,t){return kv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kv(e,t)}function jv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tv(e);if(t){var i=Tv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cv(this,n)}}function Cv(e,t){if(t&&("object"===_v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(e)}var Mv=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kv(e,t)}(o,e);var t,n,r,i=jv(o);function o(){return Ov(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)(Ev,Sv({},t,{x:e.x,y:e.y,rx:e.rx,ry:e.ry}))}}])&&Pv(t.prototype,n),r&&Pv(t,r),o}(Ay);function Av(e){return Av="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(e)}function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(n),!0).forEach((function(t){Rv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bv(e,t){return Bv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bv(e,t)}function Fv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vv(e);if(t){var i=Vv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zv(this,n)}}function zv(e,t){if(t&&("object"===Av(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vv(e)}var Hv=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bv(e,t)}(o,e);var t,n,r,i=Fv(o);function o(){return Iv(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getBackgroud",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text;if(n&&n.value&&t.background&&"transparnet"!==t.background.fill){var r=n.x,i=n.y,o=e.width,a=e.height,s=Dv(Dv({},t.background),{},{x:r,y:i-1,width:o,height:a});return Object(ee.g)(pl,s)}}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackgroud())}}])&&Lv(t.prototype,n),r&&Lv(t,r),o}(Ay);function $v(e){return $v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(e)}function Gv(){return Gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function Uv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xv(e,t){return Xv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xv(e,t)}function Zv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kv(e);if(t){var i=Kv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qv(this,n)}}function qv(e,t){if(t&&("object"===$v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yv(e)}function Yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kv(e)}function Jv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qv=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xv(e,t)}(o,e);var t,n,r,i=Zv(o);function o(){var e;Uv(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jv(Yv(e=i.call.apply(i,[this].concat(n))),"ref",void 0),Jv(Yv(e),"currrentProperties",void 0),Jv(Yv(e),"preProperties",void 0),Jv(Yv(e),"setRef",(function(t){e.ref=t})),e}return t=o,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.height,i=e.width,o=e.getNodeStyle();return this.currrentProperties=JSON.stringify(e.properties),Object(ee.g)("foreignObject",Gv({},o,{x:t-i/2,y:n-r/2,width:i,height:r,ref:this.setRef}))}}])&&Wv(t.prototype,n),r&&Wv(t,r),o}(Ay);function em(e){return em="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(e)}function tm(){return tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tm.apply(this,arguments)}function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach((function(t){lm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},om(e,t)}function am(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cm(e);if(t){var i=cm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(e,t){if(t&&("object"===em(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return um(e)}function um(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(e){return cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cm(e)}function lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pm,fm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(o,e);var t,n,r,i=am(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),lm(um(t=i.call(this,e)),"setHoverON",(function(){t.setState({isHoverd:!0})})),lm(um(t),"setHoverOFF",(function(){t.setState({isHoverd:!1})})),t.state={isHoverd:!1},t}return t=o,(n=[{key:"getBackgroud",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text,r=t.background||{};if(this.state.isHoverd&&t.hover&&t.hover.background&&(r=rm(rm({},r),t.hover.background)),n&&n.value&&"transparent"!==r.fill){var i,o=t.fontSize,a=t.overflowMode,s=t.lineHeight,u=t.wrapPadding,c=t.textWidth,l=n.value,p=n.x,f=n.y,d=String(l).split(/[\r\n]/g),h=d.length;if("autoWrap"===a&&c){var y=Va({rows:d,style:{fontSize:"".concat(o,"px"),width:"".concat(c,"px"),lineHeight:s,padding:u},rowsLength:h,className:"lf-get-text-height"});i=rm(rm({},r),{},{x:p-1,y:f-1,width:c,height:y})}else{var v=0;d&&d.forEach((function(e){var t=gu(e);v=t>v?t:v}));var m=Ha({rows:d,fontSize:o,rowsLength:h}),g=m.width,b=m.height;if("string"===typeof r.wrapPadding){var x=r.wrapPadding.split(",").filter((function(e){return e.trim()})).map((function(e){return parseFloat(e.trim())}));x.length>0&&x.length<=4&&(1===x.length?x=[x[0],x[0],x[0],x[0]]:2===x.length?x=[x[0],x[1],x[0],x[1]]:3===x.length&&(x=[x[0],x[1],x[2],x[1]]),g+=x[1]+x[3],b+=x[0]+x[2],p+=(x[1]-x[3])/2,f+=(x[2]-x[0])/2)}i=rm(rm({},r),{},{x:p-1,y:f-1,width:g,height:b})}return Object(ee.g)(pl,i)}}},{key:"getShape",value:function(){var e=this.props.model,t=e.text,n=t.value,r=t.x,i=t.y;if(n){var o=rm({x:r,y:i,className:"lf-element-text",value:n},e.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ee.g)(uy,tm({},o,{model:e})))}}}])&&im(t.prototype,n),r&&im(t,r),o}(xy);function dm(e){return dm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(e)}function hm(){return hm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(this,arguments)}function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach((function(t){Om(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e,t){return xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xm(e,t)}function wm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sm(e);if(t){var i=Sm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(e,t){if(t&&("object"===dm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _m(e)}function _m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sm(e)}function Om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(pm||(pm={}));var Pm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xm(e,t)}(o,e);var t,n,r,i=wm(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Om(_m(e=i.call(this)),"dragHandler",void 0),Om(_m(e),"oldEdge",void 0),Om(_m(e),"preTargetNode",void 0),Om(_m(e),"targetRuleResults",void 0),Om(_m(e),"sourceRuleResults",void 0),Om(_m(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,i=t.edgeModel,o=i.startPoint,a=i.endPoint,s=i.pointsList;e.oldEdge={startPoint:o,endPoint:a,pointsList:s},e.setState({endX:n,endY:r,draging:!0}),i.isHitable=!1})),Om(_m(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,i=e.state,o=i.endX,a=i.endY,s=e.props,u=s.graphModel,c=s.type,l=mm(u.transformModel.moveCanvasPointByHtml([o,a],n,r),2),p=l[0],f=l[1];e.setState({endX:p,endY:f,draging:!0});var d=e.props.edgeModel,h=ja({x:o,y:a},u);if(h&&h.node&&e.isAllowAdjust(h)){var y,v=d.startPoint,m=d.endPoint,g=d.sourceNode,b=d.targetNode;c===pm.SOURCE?y={startPoint:{x:h.anchor.x,y:h.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:h.node,targetNode:b}:c===pm.TARGET&&(y={startPoint:{x:v.x,y:v.y},endPoint:{x:h.anchor.x,y:h.anchor.y},sourceNode:g,targetNode:h.node}),d.updateAfterAdjustStartAndEnd(y)}else c===pm.SOURCE?d.updateStartPoint({x:p,y:f}):c===pm.TARGET&&d.updateEndPoint({x:p,y:f})})),Om(_m(e),"onDragEnd",(function(){var t;e.setState({draging:!1});var n=e.props,r=n.graphModel,i=n.edgeModel,o=n.type;i.isHitable=!0;var a=e.state,s=a.endX,u=a.endY,c=a.draging,l=ja({x:s,y:u},r);if(c){if(l&&l.node&&e.isAllowAdjust(l)){var p,f=i.getData(),d=vm(vm({},f),{},{sourceAnchorId:"",targetAnchorId:"",text:(null===f||void 0===f||null===(p=f.text)||void 0===p?void 0:p.value)||""});o===pm.SOURCE?d=vm(vm({},r.edgeGenerator(r.getNodeModelById(l.node.id).getData(),r.getNodeModelById(i.targetNodeId).getData(),d)),{},{sourceNodeId:l.node.id,sourceAnchorId:l.anchor.id,startPoint:{x:l.anchor.x,y:l.anchor.y},targetNodeId:i.targetNodeId,endPoint:vm({},i.endPoint)}):o===pm.TARGET&&(d=vm(vm({},r.edgeGenerator(r.getNodeModelById(i.sourceNodeId).getData(),r.getNodeModelById(l.node.id).getData(),d)),{},{sourceNodeId:i.sourceNodeId,startPoint:vm({},i.startPoint),targetNodeId:l.node.id,targetAnchorId:l.anchor.id,endPoint:{x:l.anchor.x,y:l.anchor.y}})),r.deleteEdgeById(i.id);var h=r.addEdge(vm({},d));r.eventCenter.emit(hi.EDGE_EXCHANGE_NODE,{data:{newEdge:h.getData(),oldEdge:i.getData()}})}else e.recoveryEdge();null===(t=e.preTargetNode)||void 0===t||t.setElementState(li.DEFAULT)}})),Om(_m(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,i=n.endPoint,o=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(i),t.modelType!==fi.LINE_EDGE&&(t.pointsList=o,t.initPoints())})),Om(_m(e),"getAdjustPointStyle",(function(){return e.props.graphModel.theme.edgeAdjust})),e.state={draging:!1,endX:0,endY:0},e.targetRuleResults=new Map,e.sourceRuleResults=new Map,e.dragHandler=Cu({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=o,(n=[{key:"isAllowAdjust",value:function(e){var t=this.props,n=t.edgeModel,r=(n.id,n.sourceNode),i=n.targetNode,o=n.sourceAnchorId,a=n.targetAnchorId,s=t.type,u=null,c=null,l=null,p=null;if(s===pm.SOURCE?(u=e.node,c=i,l=e.anchor,p=i.getAnchorInfo(a)):(u=r,c=e.node,p=e.anchor,l=r.getAnchorInfo(o)),this.preTargetNode&&this.preTargetNode!==e.node&&this.preTargetNode.setElementState(li.DEFAULT),this.preTargetNode=e.node,p.id===l.id)return!1;var f="".concat(u.id,"_").concat(c.id,"_").concat(l.id,"_").concat(p.id);if(!this.targetRuleResults.has(f)){var d=u.isAllowConnectedAsSource(c,l,p),h=c.isAllowConnectedAsTarget(u,l,p);this.sourceRuleResults.set(f,$a(d)),this.targetRuleResults.set(f,$a(h))}var y=this.sourceRuleResults.get(f).isAllPass,v=this.targetRuleResults.get(f).isAllPass,m=y&&v?li.ALLOW_CONNECT:li.NOT_ALLOW_CONNECT;return s===pm.SOURCE?u.setElementState(m):c.setElementState(m),y&&v}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=this.state.draging,i=this.getAdjustPointStyle();return Object(ee.g)("g",null,Object(ee.g)(jl,hm({className:"lf-edge-adjust-point"},i,{x:t,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}])&&bm(t.prototype,n),r&&bm(t,r),o}(ee.a);function km(e){return km="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(e)}function jm(){return jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jm.apply(this,arguments)}function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){Bm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nm(e,t){return Nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nm(e,t)}function Dm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lm(e);if(t){var i=Lm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rm(this,n)}}function Rm(e,t){if(t&&("object"===km(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Im(e)}function Im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lm(e)}function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nm(e,t)}(o,e);var t,n,r,i=Dm(o);function o(){var e;Mm(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bm(Im(e=i.call.apply(i,[this].concat(n))),"startTime",void 0),Bm(Im(e),"contextMenuTime",void 0),Bm(Im(e),"clickTimer",void 0),Bm(Im(e),"handleHover",(function(t,n){var r=e.props,i=r.model,o=r.graphModel.eventCenter;i.setHovered(t);var a=t?hi.EDGE_MOUSEENTER:hi.EDGE_MOUSELEAVE,s=i.getData();o.emit(a,{data:s,e:n})})),Bm(Im(e),"setHoverON",(function(t){e.props.model.isHovered||e.handleHover(!0,t)})),Bm(Im(e),"setHoverOFF",(function(t){e.handleHover(!1,t)})),Bm(Im(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,i=n.graphModel,o=i.getPointByClient({x:t.clientX,y:t.clientY});i.setElementStateById(r.id,li.SHOW_MENU,o.domOverlayPosition),e.toFront(),i.selectEdgeById(r.id);var a=null===r||void 0===r?void 0:r.getData();i.eventCenter.emit(hi.EDGE_CONTEXTMENU,{data:a,e:t,position:o})})),Bm(Im(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),Bm(Im(e),"handleMouseUp",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)&&2!==t.button){var n=2===t.detail,r=e.props,i=r.model,o=r.graphModel,a=null===i||void 0===i?void 0:i.getData(),s=o.getPointByClient({x:t.clientX,y:t.clientY});if(n){var u=o.editConfigModel,c=o.textEditElement;if(c&&c.id===i.id&&o.setElementStateById(i.id,li.DEFAULT),u.edgeTextEdit&&i.text.editable&&o.setElementStateById(i.id,li.TEXT_EDIT),i.modelType===fi.POLYLINE_EDGE){var l=i,p=o.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,f=p.x,d=p.y,h=Eu({x:f,y:d},l.points);l.dbClickPosition=h}o.eventCenter.emit(hi.EDGE_DBCLICK,{data:a,e:t,position:s})}else o.eventCenter.emit(hi.ELEMENT_CLICK,{data:a,e:t,position:s}),o.eventCenter.emit(hi.EDGE_CLICK,{data:a,e:t,position:s});var y=o.editConfigModel;o.selectEdgeById(i.id,Uo(t,y)),e.toFront()}})),Bm(Im(e),"getIsDraging",(function(){return!1})),e}return t=o,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===li.TEXT_EDIT)return"";var r=!1,i=n.editConfigModel;return(t.text.draggable||i.edgeTextDraggable)&&(r=!0),Object(ee.g)(fm,{editable:i.edgeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected;return{start:t,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getEdgeStyle(),i=t.getEdgeAnimationStyle(),o=n.theme.arrow,a=t.isAnimation?i.stroke:r.stroke;return Tm(Tm({},r),{},{fill:a,stroke:a},o)}},{key:"getArrow",value:function(){var e=this.props.model.id,t=this.getArrowStyle(),n=t.refY,r=void 0===n?0:n,i=t.refX,o=void 0===i?2:i;return Object(ee.g)("g",null,Object(ee.g)("defs",null,Object(ee.g)("marker",{id:"marker-start-".concat(e),refX:o,refY:r,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ee.g)("marker",{id:"marker-end-".concat(e),refX:o,refY:r,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var e=this.getArrowStyle(),t=e.stroke,n=e.strokeWidth,r=e.offset,i=e.verticalLength;return Object(ee.g)("path",{stroke:t,fill:t,strokeWidth:n,d:"M 0 0 L ".concat(r," -").concat(i," L ").concat(r," ").concat(i," Z")})}},{key:"getEndArrow",value:function(){var e=this.getArrowStyle(),t=e.stroke,n=e.strokeWidth,r=e.offset,i=e.verticalLength;return Object(ee.g)("path",{stroke:t,fill:t,strokeWidth:n,transform:"rotate(180)",d:"M 0 0 L ".concat(r," -").concat(i," L ").concat(r," ").concat(i," Z")})}},{key:"getAdjustPoints",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getAdjustStart(),i=t.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(Pm,jm({type:"SOURCE"},r,{edgeModel:t,graphModel:n})),Object(ee.g)(Pm,jm({type:"TARGET"},i,{edgeModel:t,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var e=this.props,t=e.graphModel,n=e.model;t.overlapMode!==vi.INCREASE&&t.toFront(n.id)}},{key:"render",value:function(){var e=this.props,t=e.model,n=t.isSelected,r=t.isHitable,i=e.graphModel,o=this.getIsDraging(),a=i.editConfigModel.adjustEdgeStartAndEnd,s=i.animation,u=n&&s.edge&&1===i.getSelectElements().edges.length;return Object(ee.g)("g",null,Object(ee.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),u&&this.getAnimation(),this.getText(),this.getArrow()),a&&n&&!o?this.getAdjustPoints():"")}}])&&Am(t.prototype,n),r&&Am(t,r),o}(ee.a);function zm(e){return zm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(e)}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $m=function(e){var t={d:""};return Object.entries(e).forEach((function(e){var n=Vm(e,2),r=n[0],i=n[1],o=zm(i);"style"!==r&&"object"===o||(t[r]=i)})),Object(ee.g)("path",t)};function Gm(e){return Gm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(e)}function Um(){return Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zm(e,t){return Zm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zm(e,t)}function qm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Km(e);if(t){var i=Km(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ym(this,n)}}function Ym(e,t){if(t&&("object"===Gm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Km(e)}var Jm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zm(e,t)}(o,e);var t,n,r,i=qm(o);function o(){return Wm(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isAnimation,i=e.arrowConfig,o=e.getEdgeStyle(),a=e.getEdgeAnimationStyle(),s=a.strokeDasharray,u=a.stroke,c=a.strokeDashoffset,l=a.animationName,p=a.animationDuration,f=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(ee.g)(qc,Um({},o,{x1:t.x,y1:t.y,x2:n.x,y2:n.y},i,r?{strokeDasharray:s,stroke:u,style:{strokeDashoffset:c,animationName:l,animationDuration:p,animationIterationCount:f,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,i=t.strokeDasharray,o=e.startPoint,a=e.endPoint,s=e.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(qc,Um({},s,{x1:o.x,y1:o.y,x2:a.x,y2:a.y,className:r,strokeDasharray:i,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var i={start:n,end:r,offset:10,verticalLength:5},o=Fs(Vs(Vs({},i),{},{type:"start"})),a=Fs(Vs(Vs({},i),{},{type:"end"}));t="M".concat(o.leftX," ").concat(o.leftY," \n    L").concat(o.rightX," ").concat(o.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:e.startPoint,end:e.endPoint}),n=t.d,r=t.strokeWidth,i=t.fill,o=t.strokeDasharray,a=t.stroke;return Object(ee.g)($m,{d:n,fill:i,strokeWidth:r,stroke:a,strokeDasharray:o})}}])&&Xm(t.prototype,n),r&&Xm(t,r),o}(Fm);function Qm(e){return Qm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(e)}function eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ng=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach((function(e){var n=eg(e,2),r=n[0],i=n[1];("style"===r||"object"!==Qm(i))&&(t[r]=i)})),Object(ee.g)("polyline",t)};function rg(e){return rg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(e)}function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(n),!0).forEach((function(t){yg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ag(){return ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(this,arguments)}function sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ug(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lg(e,t){return lg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lg(e,t)}function pg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hg(e);if(t){var i=hg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fg(this,n)}}function fg(e,t){if(t&&("object"===rg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dg(e)}function dg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hg(e)}function yg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lg(e,t)}(o,e);var t,n,r,i=pg(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),yg(dg(e=i.call(this)),"drag",void 0),yg(dg(e),"isDraging",void 0),yg(dg(e),"appendInfo",void 0),yg(dg(e),"dragHandler",void 0),yg(dg(e),"onDragStart",(function(){e.props.model.dragAppendStart()})),yg(dg(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,i=e.props,o=i.model,a=i.graphModel;e.isDraging=!0;var s=a.transformModel,u=a.editConfigModel,c=sg(s.fixDeltaXY(n,r),2),l=c[0],p=c[1],f=o,d=u.adjustEdgeMiddle;e.appendInfo=d?f.dragAppendSimple(e.appendInfo,{x:l,y:p}):f.dragAppend(e.appendInfo,{x:l,y:p})})),yg(dg(e),"onDragEnd",(function(){var t=e.props,n=t.model,r=t.graphModel.eventCenter,i=n;i.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0,r.emit(hi.EDGE_ADJUST,{data:i.getData()})})),yg(dg(e),"beforeDragStart",(function(t,n){n.dragAble&&e.dragHandler(t),e.appendInfo=n})),yg(dg(e),"getIsDraging",(function(){return e.isDraging})),e.drag=Cu({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=o,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.points,n=e.isAnimation,r=e.arrowConfig,i=e.getEdgeStyle(),o=e.getEdgeAnimationStyle(),a=o.strokeDasharray,s=o.stroke,u=o.strokeDashoffset,c=o.animationName,l=o.animationDuration,p=o.animationIterationCount,f=o.animationTimingFunction,d=o.animationDirection;return Object(ee.g)(ng,ag({points:t},i,r,n?{strokeDasharray:a,stroke:s,style:{strokeDashoffset:u,animationName:c,animationDuration:l,animationIterationCount:p,animationTimingFunction:f,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,i=t.strokeDasharray,o=e.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(ng,ag({points:e.points},o,{className:r,strokeDasharray:i,stroke:n})))}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},i=yu(t);return i.length>=2&&(r.start=i[i.length-2],r.end=i[i.length-1]),r}},{key:"getAppendAttributes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var i={start:n,end:r,offset:10,verticalLength:5},o=Fs(og(og({},i),{},{type:"start"})),a=Fs(og(og({},i),{},{type:"end"}));t="M".concat(o.leftX," ").concat(o.leftY," \n      L").concat(o.rightX," ").concat(o.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttributes(e),n=t.d,r=t.strokeWidth,i=t.fill,o=t.strokeDasharray,a=t.stroke;return Object(ee.g)($m,{d:n,fill:i,strokeWidth:r,stroke:a,strokeDasharray:o})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,r=t.graphModel,i=n.pointsList,o=n.draggable,a=[],s=i.length,u=function(t){var n="lf-polyline-append",u={start:{x:i[t].x,y:i[t].y},end:{x:i[t+1].x,y:i[t+1].y},startIndex:t,endIndex:t+1,direction:"",dragAble:!0},c=Object(ee.g)("g",{className:n},e.getAppendShape(u)),l=r.editConfigModel,p=l.adjustEdge,f=l.adjustEdgeMiddle;if(p&&o){e.dragHandler=e.drag;var d=u.startIndex,h=u.endIndex,y=f&&(0===d||h===s-1);u.dragAble=!y,u.start.x===u.end.x?(u.dragAble&&(n+="-ew-resize"),u.direction=yi.VERTICAL):u.start.y===u.end.y&&(u.dragAble&&(n+="-ns-resize"),u.direction=yi.HORIZONTAL),c=Object(ee.g)("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,u)}},Object(ee.g)("g",{className:n},e.getAppendShape(u)))}else e.dragHandler=function(){};a.push(c)},c=0;c<s-1;c++)u(c);return Object(ee.g)("g",null,a)}}])&&cg(t.prototype,n),r&&cg(t,r),o}(Fm);function mg(e){return mg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(e)}function gg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return bg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xg(){return xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}function wg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _g(e,t){return _g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_g(e,t)}function Sg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pg(e);if(t){var i=Pg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(e,t){if(t&&("object"===mg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pg(e)}var kg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_g(e,t)}(o,e);var t,n,r,i=Sg(o);function o(){return wg(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.getEdgeStyle(),n=e.path,r=e.isAnimation,i=e.arrowConfig,o=e.getEdgeAnimationStyle(),a=o.strokeDasharray,s=o.stroke,u=o.strokeDashoffset,c=o.animationName,l=o.animationDuration,p=o.animationIterationCount,f=o.animationTimingFunction,d=o.animationDirection;return Object(ee.g)($m,xg({d:n},t,i,r?{strokeDasharray:a,stroke:s,style:{strokeDashoffset:u,animationName:c,animationDuration:l,animationIterationCount:p,animationTimingFunction:f,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,i=t.strokeDasharray,o=e.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)($m,xg({d:e.path},o,{className:r,strokeDasharray:i,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model.path;return Object(ee.g)($m,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,n=e,r=n.path,i=n.isSelected,o=function(e){var t=xu(e);return[t[2],t[3]]}(r),a=gg(o,2);return{start:a[0],end:a[1],hover:t,isSelected:i}}}])&&Eg(t.prototype,n),r&&Eg(t,r),o}(Fm);function jg(e){return jg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ng(e,t){return Ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ng(e,t)}function Dg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ig(e);if(t){var i=Ig(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rg(this,n)}}function Rg(e,t){if(t&&("object"===jg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ig(e)}var Lg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ng(e,t)}(o,e);var t,n,r,i=Dg(o);function o(){return Mg(this,o),i.apply(this,arguments)}return t=o,n=[{key:"getArrowAttributes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,i=t.end,o={start:r,end:i,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Fs(o),s=a.leftX,u=a.leftY,c=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach((function(t){Tg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:"M".concat(s," ").concat(u," L").concat(i.x," ").concat(i.y," L").concat(c," ").concat(l," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttributes(),t=e.d,n=e.strokeWidth,r=e.stroke,i=e.fill;return Object(ee.g)($m,{d:t,fill:i,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Ag(t.prototype,n),r&&Ag(t,r),o}(ee.a),Bg=function(e,t){return An(e,t)},Fg=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},zg=function(){return ve.a.Date.now()},Vg=/\s/,Hg=function(e){for(var t=e.length;t--&&Vg.test(e.charAt(t)););return t},$g=/^\s+/,Gg=function(e){return e?e.slice(0,Hg(e)+1).replace($g,""):e},Ug=/^[-+]0x[0-9a-f]+$/i,Wg=/^0b[01]+$/i,Xg=/^0o[0-7]+$/i,Zg=parseInt,qg=function(e){if("number"==typeof e)return e;if(Bn(e))return NaN;if(ke(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ke(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gg(e);var n=Wg.test(e);return n||Xg.test(e)?Zg(e.slice(2),n?2:8):Ug.test(e)?NaN:+e},Yg=Math.max,Kg=Math.min,Jg=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function h(e){return c=e,s=setTimeout(v,t),l?d(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-c>=o}function v(){var e=zg();if(y(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-u);return p?Kg(n,o-(e-c)):n}(e))}function m(e){return s=void 0,f&&r?d(e):(r=i=void 0,a)}function g(){var e=zg(),n=y(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(p)return clearTimeout(s),s=setTimeout(v,t),d(u)}return void 0===s&&(s=setTimeout(v,t)),a}return t=qg(t)||0,ke(n)&&(l=!!n.leading,o=(p="maxWait"in n)?Yg(qg(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},g.flush=function(){return void 0===s?a:m(zg())},g},Qg=n(166);function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nb,rb,ib,ob=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tb(this,"undos",[]),tb(this,"redos",[]),tb(this,"callbacks",[]),tb(this,"stopWatch",null),tb(this,"curData",null),tb(this,"maxSize",50),tb(this,"waitTime",100),tb(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){Bg(Fg(this.undos),e)||(this.undos.push(e),Bg(this.curData,e)||(this.redos=[]),this.eventCenter.emit(hi.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=wo(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=wo(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(Qg.a)(e,Jg((function(){var n=e.modelToHistoryData();n&&t.add(n)}),this.waitTime))}}])&&eb(t.prototype,n),r&&eb(t,r),e}();function ab(e){return ab="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(e)}function sb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ub(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(n),!0).forEach((function(t){mb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fb(e,t){return fb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fb(e,t)}function db(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vb(e);if(t){var i=vb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hb(this,n)}}function hb(e,t){if(t&&("object"===ab(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yb(e)}function yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vb(e)}function mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gb,bb,xb,wb=ex((ib=rb=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fb(e,t)}(o,e);var t,n,r,i=db(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),mb(yb(e=i.call(this)),"ref",Object(ee.f)()),mb(yb(e),"__prevText",{type:"",text:"",id:""}),mb(yb(e),"keyupHandler",(function(t){var n=e.props.graphModel.textEditElement;"Enter"===t.key&&t.altKey&&n.setElementState(0)})),mb(yb(e),"inputHandler",(function(t){var n=t.target.innerText,r=e.props.graphModel.textEditElement;e.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),mb(yb(e),"keydownHandler",(function(e){e.stopPropagation()})),e.state={style:{left:0,top:0}},e}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.graphModel,r=n.transformModel,i=n.theme,o=n.textEditElement;if(o){var a;if((null===(a=o.text)||void 0===a||!a.value)&&o.BaseType===di.EDGE){var s=o.text,u=o.textPosition,c=u.x,l=u.y;s.x=c,s.y=l,o.setText(s)}var p={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(o.BaseType===di.EDGE){var f=i.edgeText,d=f.overflowMode,h=f.lineHeight,y=f.wrapPadding,v=f.textWidth;v&&"autoWrap"===d&&(t=lb(lb({},p),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(o.BaseType===di.NODE){var m=i.nodeText,g=m.overflowMode,b=m.lineHeight,x=m.wrapPadding,w=m.textWidth,E=o,_=E.width,S=E.modelType;(S!==fi.TEXT_NODE&&"autoWrap"===g||S===fi.TEXT_NODE&&w)&&(t=lb(lb({},p),{},{width:w||_,minWidth:w||_,lineHeight:b,padding:x}))}var O=o.text,P=O.x,k=O.y,j=sb(r.CanvasPointToHtmlPoint([P,k]),2);return{style:lb({left:j[0],top:j[1]},t)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var e=this.props.graphModel,t=e.eventCenter,n=e.editConfigModel,r=n.edgeTextEdit,i=n.nodeTextEdit;(r||i)&&t.on("".concat(hi.GRAPH_TRANSFORM,",").concat(hi.NODE_CLICK,",").concat(hi.BLANK_CLICK," "),(function(){e.textEditElement&&e.textEditElement.setElementState(li.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.updateText(r,n),e.eventCenter.emit(hi.TEXT_UPDATE,lb({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&pb(t.prototype,n),r&&pb(t,r),o}(ee.a),mb(rb,"toolName","textEdit"),nb=ib))||nb,Eb=function(e){return e.modelType===fi.LINE_EDGE?function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,i=(t.y+n.y)/2,o=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-o/2,y:i-a/2,x1:r+o/2,y1:i+a/2}}(e):e.modelType===fi.POLYLINE_EDGE?function(e){var t=e.points,n=yu(t),r=Js(n,8),i=r.x,o=r.y,a=r.width,s=r.height;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}}(e):e.modelType===fi.BEZIER_EDGE?function(e){var t=e.path,n=xu(t),r=Js(n,8),i=r.x,o=r.y,a=r.width,s=r.height;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}}(e):void 0};function _b(e){return _b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(e)}function Sb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Pb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ob(e){return function(e){if(Array.isArray(e))return kb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pb(e,t){if(e){if("string"===typeof e)return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kb(e,t):void 0}}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cb(e,t){return Cb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cb(e,t)}function Tb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nb(e);if(t){var i=Nb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mb(this,n)}}function Mb(e,t){if(t&&("object"===_b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ab(e)}function Ab(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nb(e)}function Db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rb=ex((xb=bb=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cb(e,t)}(o,e);var t,n,r,i=Tb(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Db(Ab(t=i.call(this)),"stepDrag",void 0),Db(Ab(t),"handleMouseDown",(function(e){t.stepDrag.handleMouseDown(e)})),Db(Ab(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,i=t.props.graphModel,o=i.getSelectElements(!0);i.moveNodes(o.nodes.map((function(e){return e.id})),n,r)})),Db(Ab(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.graphModel,i=n.graphModel,o=i.eventCenter,a=i.selectElements,s=r.getPointByClient({x:e.clientX,y:e.clientY}),u={nodes:[],edges:[]};Ob(a.values()).forEach((function(e){e.BaseType===di.NODE&&u.nodes.push(e.getData()),e.BaseType===di.EDGE&&u.edges.push(e.getData())})),o.emit(hi.SELECTION_CONTEXTMENU,{data:u,e:e,position:s})}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new $u({onDraging:t.onDraging,step:r,eventType:"SELECTION",eventCenter:a}),t}return t=o,(n=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.transformModel;if(!(t.size<=1)){var r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===di.NODE&&(t=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{x:t-r/2,y:n-i/2,x1:t+r/2,y1:n+i/2}}(e)),e.BaseType===di.EDGE&&(t=Eb(e)),r=Math.min(r,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x1),a=Math.max(a,t.y1)}));var s=Sb(n.CanvasPointToHtmlPoint([r,i]),2);r=s[0],i=s[1];var u=Sb(n.CanvasPointToHtmlPoint([o,a]),2);o=u[0],a=u[1];var c={left:"".concat(r-10,"px"),top:"".concat(i-10,"px"),width:"".concat(o-r+20,"px"),height:"".concat(a-i+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:c,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&jb(t.prototype,n),r&&jb(t,r),o}(ee.a),Db(bb,"toolName","multipleSelect"),gb=xb))||gb;function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bb=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lb(this,"tools",void 0),Lb(this,"components",void 0),Lb(this,"toolMap",new Map),Lb(this,"instance",void 0),this.instance=t,this.isDisabledTool(wb.toolName)||this.registerTool(wb.toolName,wb),this.isDisabledTool(Rb.toolName)||this.registerTool(Rb.toolName,Rb)}var t,n,r;return t=e,(n=[{key:"isDisabledTool",value:function(e){return-1!==this.instance.options.disabledTools.indexOf(e)}},{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ib(t.prototype,n),r&&Ib(t,r),e}(),Fb=n(167),zb=n.n(Fb);function Vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hb(this,"mousetrap",void 0),Hb(this,"options",void 0),Hb(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new zb.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,n,r;return t=e,(n=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Pt(t))t.forEach((function(t){var n=t.keys,r=t.callback,i=t.action;return e.on(n,r,i)}));else{var n=t.keys,r=t.callback,i=t.action;this.on(n,r,i)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Vb(t.prototype,n),r&&Vb(t,r),e}(),Gb=$b,Ub=null;function Wb(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Xb(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}function Zb(e){return Zb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(e)}function qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qb(Object(n),!0).forEach((function(t){Jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qb=function(){function e(t){var n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jb(this,"container",void 0),Jb(this,"width",void 0),Jb(this,"height",void 0),Jb(this,"graphModel",void 0),Jb(this,"history",void 0),Jb(this,"viewMap",new Map),Jb(this,"tool",void 0),Jb(this,"keyboard",void 0),Jb(this,"dnd",void 0),Jb(this,"options",void 0),Jb(this,"snaplineModel",void 0),Jb(this,"components",[]),Jb(this,"plugins",void 0),Jb(this,"extension",{}),Jb(this,"adapterIn",void 0),Jb(this,"adapterOut",void 0),Jb(this,"getView",(function(e){return i.viewMap.get(e)})),t=vp(t),this.options=t,this.container=t.container,this.plugins=t.plugins,this.graphModel=new ic(Yb({},t)),this.tool=new Bb(this),this.history=new ob(this.graphModel.eventCenter),this.dnd=new yp({lf:this}),this.keyboard=new Gb({lf:this,keyboard:t.keyboard}),t.isSilentMode||!1===t.snapline||(this.snaplineModel=new Bh(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(e){var t=e.data;r.setNodeSnapLine(t)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),function(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!t.textEditElement){var n=e.options.guards,i=t.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(i)?(Ub=null,!1):((Ub=i).nodes.forEach((function(e){return Wb(e,40)})),Ub.edges.forEach((function(e){return Xb(e,40)})),!1)}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!t.textEditElement){if(Ub&&(Ub.nodes||Ub.edges)){e.clearSelectElements();var n=e.addElements(Ub);if(!n)return;n.nodes.forEach((function(t){return e.selectElementById(t.id,!0)})),n.edges.forEach((function(t){return e.selectElementById(t.id,!0)})),Ub.nodes.forEach((function(e){return Wb(e,40)})),Ub.edges.forEach((function(e){return Xb(e,40)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!t.textEditElement)return e.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!t.textEditElement)return e.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!t.textEditElement){var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"===typeof e){var r={BaseEdge:Fm,BaseEdgeModel:rs,BaseNode:Ay,BaseNodeModel:mf,RectNode:Vy,RectNodeModel:rh,CircleNode:Yy,CircleNodeModel:If,PolygonNode:cv,PolygonNodeModel:Vd,TextNode:Hv,TextNodeModel:gh,LineEdge:Jm,LineEdgeModel:xs,DiamondNode:gv,DiamondNodeModel:rd,PolylineEdge:vg,PolylineEdgeModel:Bs,BezierEdge:kg,BezierEdgeModel:rf,EllipseNode:Mv,EllipseNodeModel:wd,HtmlNode:Qv,HtmlNodeModel:Ah,h:ee.g,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var i=t(r),o=i.view,a=i.model,s=o;n&&!s.isObervered&&(s.isObervered=!0,s=Q(s)),this.setView(e,s),this.graphModel.setModel(e,a)}else this.registerElement(e)}},{key:"registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=Q(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"batchRegister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.registerElement(t)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:Vy,model:rh,type:"rect"}),this.registerElement({type:"circle",view:Yy,model:If}),this.registerElement({type:"polygon",view:cv,model:Vd}),this.registerElement({type:"line",view:Jm,model:xs}),this.registerElement({type:"polyline",view:vg,model:Bs}),this.registerElement({type:"bezier",view:kg,model:rf}),this.registerElement({type:"text",view:Hv,model:gh}),this.registerElement({type:"ellipse",view:Mv,model:wd}),this.registerElement({type:"diamond",view:gv,model:rd}),this.registerElement({type:"html",view:Qv,model:Ah})}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t),t||this.graphModel.toFront(e)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformModel,n=e.coordinate,r=e.id;if(!n){var i=this.getNodeModelById(r);i&&(n=i.getData());var o=this.getEdgeModelById(r);o&&(n=o.textPosition)}var a=n,s=a.x,u=a.y;t.focusOn(s,u,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"resize",value:function(e,t){this.graphModel.resize(e,t),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(e){this.graphModel.setDefaultEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.updateText(e,t)}},{key:"deleteElement",value:function(e){var t,n,r,i=this.getModelById(e);return!!i&&null!==(n=null===(r=(Jb(t={},di.NODE,this.deleteNode),Jb(t,di.EDGE,this.deleteEdge),t)[i.BaseType])||void 0===r?void 0:r.call(this,e))&&void 0!==n&&n}},{key:"getModelById",value:function(e){return this.graphModel.getElement(e)}},{key:"getDataById",value:function(e){return this.graphModel.getElement(e).getData()}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"changeEdgeType",value:function(e,t){this.graphModel.changeEdgeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModelById(e);if(!t)return!1;var n=t.getData(),r=this.options.guards,i=!r||!r.beforeDelete||r.beforeDelete(n);return i&&this.graphModel.deleteNode(e),i}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModelById(e).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"changeNodeId",value:function(e,t){return this.graphModel.changeNodeId(e,t)}},{key:"getNodeModelById",value:function(e){return this.graphModel.getNodeModelById(e)}},{key:"getNodeDataById",value:function(e){return this.graphModel.getNodeModelById(e).getData()}},{key:"addEdge",value:function(e){return this.graphModel.addEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(!n)return!1;var r=n.model.getData(),i=!t||!t.beforeDelete||t.beforeDelete(r);return i&&this.graphModel.deleteEdgeById(e),i}},{key:"deleteEdgeByNodeId",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.deleteEdgeBySourceAndTarget(t,n):t?this.graphModel.deleteEdgeBySource(t):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(e,t){return this.graphModel.changeEdgeId(e,t)}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getEdgeModels",value:function(e){var t=this.graphModel.edges,n=e.sourceNodeId,r=e.targetNodeId;if(n&&r){var i=[];return t.forEach((function(e){e.sourceNodeId===n&&e.targetNodeId===r&&i.push(e)})),i}if(n){var o=[];return t.forEach((function(e){e.sourceNodeId===n&&o.push(e)})),o}if(r){var a=[];return t.forEach((function(e){e.targetNodeId===r&&a.push(e)})),a}return[]}},{key:"getEdgeDataById",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"getNodeIncomingEdge",value:function(e){return this.graphModel.getNodeIncomingEdge(e)}},{key:"getNodeOutgoingEdge",value:function(e){return this.graphModel.getNodeOutgoingEdge(e)}},{key:"getNodeIncomingNode",value:function(e){return this.graphModel.getNodeIncomingNode(e)}},{key:"getNodeOutgoingNode",value:function(e){return this.graphModel.getNodeOutgoingNode(e)}},{key:"editText",value:function(e){this.graphModel.editText(e)}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(Xa(t))}},{key:"deleteProperty",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.deleteProperty(t)}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"toFront",value:function(e){this.graphModel.toFront(e)}},{key:"setElementZIndex",value:function(e,t){return this.graphModel.setElementZIndex(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,i={},o={nodes:[],edges:[]},a=0;a<n.length;a++){var s=n[a],u=s.id,c=this.addNode(s);if(!c)return;u&&(i[u]=c.id),o.nodes.push(c)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;i[n]&&(e.sourceNodeId=i[n]),i[r]&&(e.targetNodeId=i[r]);var a=t.graphModel.addEdge(e);o.edges.push(a)})),o}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(e,t,n,r,i).map((function(e){return e.getData()}))}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfigModel.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Xa(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Xa(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(e,t){return this.graphModel.transformModel.zoom(e,t)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformModel.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformModel.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformModel;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformModel.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformModel,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(e,t){void 0===t&&(t=e),this.graphModel.fitView(e,t)}},{key:"openEdgeAnimation",value:function(e){this.graphModel.openEdgeAnimation(e)}},{key:"closeEdgeAnimation",value:function(e){this.graphModel.closeEdgeAnimation(e)}},{key:"on",value:function(e,t){this.graphModel.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.graphModel.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.graphModel.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.graphModel.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=null!==(t=this.plugins)&&void 0!==t?t:e.extensions;i.forEach((function(e){var t=e.pluginName||e.name;-1===r.indexOf(t)&&n.installPlugin(e)}))}},{key:"installPlugin",value:function(t){if("object"===Zb(t)){var n=t.install,r=t.render;return n&&n.call(t,this,e),r&&this.components.push(r.bind(t)),void(this.extension[t.pluginName]=t)}var i=t,o=new i({lf:this,LogicFlow:e});o.render&&this.components.push(o.render.bind(o)),this.extension[i.pluginName]=o}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(Yb(Yb({},e),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(e.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"renderRawData",value:function(e){this.graphModel.graphDataToModel(Xa(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(lp,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(hi.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.renderRawData(e)}}],r=[{key:"use",value:function(e){var t=e.pluginName;t||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(e.name||e.constructor.name,"\u6307\u5b9apluginName!")),t=e.name);var n=this.extensions.get(t);n&&n.destroy&&n.destroy(),this.extensions.set(t,e)}}],n&&Kb(t.prototype,n),r&&Kb(t,r),e}();function ex(e){return Q(e)}Jb(Qb,"extensions",new Map),t.default=Qb}])},e.exports=n()},7718:function(e,t,n){e.exports=n(2935)},7073:function(e){"use strict";function t(e,t){var n=this;t=t||1e3,e.on("propertiesPanel.isEntryVisible",t,(function(e){return n.isEntryVisible(e.entry,e.element)})),e.on("propertiesPanel.isPropertyEditable",t,(function(e){return n.isPropertyEditable(e.entry,e.propertyName,e.element)}))}t.$inject=["eventBus"],e.exports=t,t.prototype.isEntryVisible=function(e,t){return!0},t.prototype.isPropertyEditable=function(e,t,n){return!0}},63:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(5787).H6,o=n(5787).IO,a=n(5787).Kt,s=n(5787).Od,u=n(5787).Sh,c=n(5787).oq,l=n(5787).Lj,p=n(5787).cl,f=n(5787).wB,d=n(6514),h=n(86),y=n(6181),v=n(2742),m=n(6364),g=n(3629),b=n(981),x=n(8573),w=n(6504),E=n(8428).Z,_=n(4422).getBusinessObject,S="bpp-hidden";function O(e){return"checkbox"===e.type||"radio"===e.type}function P(e){return l(e,"contenteditable")}function k(e,t){var n=a("input[name], textarea[name], select[name], [contenteditable]",e);return n&&n.length||(n=f(e,"option")?[e]:n),t||(n=h(n,(function(e){return!c(e,".bpp-hidden")}))),n}function j(e){var t={},n=k(e);return d(n,(function(e){var n=e.value,r=l(e,"name")||l(e,"data-name");O(e)?n=e.checked?!l(e,"value")||e.value:null:P(e)&&(n=e.innerText),null!==n&&(t[r]=n)})),t}function C(e){var t,n=o("[data-list-entry-container]",e);if(n){t=[];var r=n.children||[];d(r,(function(e){t.push(j(e))}))}else t=j(e);return t}function T(e,t){return!(e&&!t)&&v(e).concat(v(t)).every((function(n){return e[n]===t[n]}))}function M(e){return D(N(R(N(R(e,"groups")),"entries")),"id")}function A(e,t,n,r,i,o){this._eventBus=t,this._modeling=n,this._commandStack=i,this._canvas=o,this._propertiesProvider=r,this._init(e)}A.$inject=["config.propertiesPanel","eventBus","modeling","propertiesProvider","commandStack","canvas"],e.exports=A,A.prototype._init=function(e){var t=this._canvas,n=this._eventBus,r=this;n.on("root.added",(function(e){var t=e.element;I(t)||r.update(t)})),n.on("selection.changed",(function(e){var n=e.newSelection[0];I(t.getRootElement())||r.update(n)})),n.on(["propertiesPanel.changed","propertiesPanel.resized"],(function(e){var t=o(".bpp-properties-tab-bar",r._container);if(t){var n=E.get(t);n||(n=E(t,{selectors:{tabsContainer:".bpp-properties-tabs-links",tab:".bpp-properties-tabs-links li",ignore:".bpp-hidden",active:".bpp-active"}})).on("scroll",(function(e,t,n){var i=o("[data-tab-target]",e),a=l(i,"data-tab-target");r.activateTab(a)})),n.update()}})),n.on("elements.changed",(function(e){var t=r._current,n=t&&t.element;n&&-1!==e.elements.indexOf(n)&&r.update(n)})),n.on("elementTemplates.changed",(function(){var e=r._current,t=e&&e.element;t&&r.update(t)})),n.on("diagram.destroy",(function(){r.detach()})),this._container=i('<div class="bpp-properties-panel"></div>'),this._bindListeners(this._container),e&&e.parent&&this.attachTo(e.parent)},A.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"===typeof e&&(e=o(e));var t=this._container;e.appendChild(t),this._emit("attach")},A.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach"),t.removeChild(e))},A.prototype.activateTab=function(e){var t="string"===typeof e?e:e.id,n=this._current.panel,r=a(".bpp-properties-tab",n),i=a(".bpp-properties-tab-link",n);d(r,(function(e){var n=l(e,"data-tab");u(e).toggle("bpp-active",t===n)})),d(i,(function(e){var n=o("[data-tab-target]",e),r=l(n,"data-tab-target");u(e).toggle("bpp-active",t===r)}))},A.prototype.update=function(e){var t=this._current,n=!0;"undefined"===typeof e&&(e=this._canvas.getRootElement());var r=this._propertiesProvider.getTabs(e);if(t&&t.element===e&&(n=this._entriesChanged(t,r)),n){if(t){var i,a=o(".bpp-properties-tab.bpp-active",t.panel);a&&(i=l(a,"data-tab")),s(t.panel)}this._current=this._create(e,r),i?this.activateTab(i):this.activateTab(this._current.tabs[0])}this._current&&this._updateActivation(this._current),this._emit("changed")},A.prototype._entriesChanged=function(e,t){var n=v(e.entries),r=v(M(t));return!m(b(n,r))},A.prototype._emit=function(e){this._eventBus.fire("propertiesPanel."+e,{panel:this,current:this._current})},A.prototype._bindListeners=function(e){var t=this,n=function(e){var n,r,i=e.delegateTarget,o=c(i,"[data-entry]");if(o){n=l(o,"data-entry"),r=t.getEntry(n);var a=C(o);if("change"===e.type){var s=l(i,"data-on-change");if(s)if(!t.executeAction(r,o,s,e))return t.update(t._current.element)}t.applyChanges(r,a,o),t.updateState(r,o)}};p.bind(e,"input, textarea, [contenteditable]","input",x(n,300)),p.bind(e,"input, textarea, select, [contenteditable]","change",n),p.bind(e,"select","keydown",(function(e){46===e.keyCode&&(e.stopPropagation(),e.preventDefault())})),p.bind(e,"[data-action]","click",(function(e){var n=e.delegateTarget,r=c(n,"[data-entry]"),i=l(n,"data-action"),o=l(r,"data-entry"),a=t.getEntry(o);if(t.executeAction(a,r,i,e)){var s=C(r);t.applyChanges(a,s,r)}t.updateState(a,r)})),p.bind(e,"[data-blur]","blur",(function(e,n){var r=e.delegateTarget,i=c(r,"[data-entry]");if(i){var o=l(r,"data-blur"),a=l(i,"data-entry"),s=t.getEntry(a);if(t.executeAction(s,i,o,e)){var u=C(i);t.applyChanges(s,u,i)}t.updateState(s,i)}}),!0),p.bind(e,".bpp-properties-tabs-links [data-tab-target]","click",(function(e){e.preventDefault();var n=e.delegateTarget,r=l(n,"data-tab-target");t.activateTab(r)}))},A.prototype.updateState=function(e,t){this.updateShow(e,t),this.updateDisable(e,t)},A.prototype.updateShow=function(e,t){var n=this._current;if(n){var r=a("[data-show]",t)||[];d(r,(function(r){var i=l(r,"data-show"),o=y(e,i);if(o){var a=c(r,"[data-scope]")||t;o(n.element,t,r,a)||!1?u(r).remove(S):u(r).add(S)}}))}},A.prototype.updateDisable=function(e,t){var n=this._current;if(n){var r=a("[data-disable]",t)||[];d(r,(function(r){var i=l(r,"data-disable"),o=y(e,i);if(o){var a=c(r,"[data-scope]")||t,s=o(n.element,t,r,a)||!1;l(r,"disabled",s?"":null)}}))}},A.prototype.executeAction=function(e,t,n,r){var i=this._current;if(i){var o=y(e,n);if(o){var a=c(r.target,"[data-scope]")||t;return o.apply(e,[i.element,t,r,a])}}},A.prototype.applyChanges=function(e,t,n){var r=this._current.element;if(!function(e,t){return g(e)?e.length===t.length&&e.every((function(e,n){return T(e,t[n])})):T(e,t)}(t,e.oldValues)){var i,o=e.set(r,t,n);g(o)?o.length&&(i={cmd:"properties-panel.multi-command-executor",context:N(o)}):i=o,i?this._commandStack.execute(i.cmd,i.context||{element:r}):this.update(r)}},A.prototype.applyValidationErrors=function(e,t){var n=!0,r=k(t,!0);return d(r,(function(t){var r=l(t,"name")||l(t,"data-name"),a=e&&e[r],s=o(".bpp-error-message",t.parentNode);a?(n=!1,s||(s=i("<div></div>"),u(s).add("bpp-error-message"),t.parentNode.insertBefore(s,t.nextSibling)),s.textContent=a,u(t).add("invalid")):(u(t).remove("invalid"),s&&t.parentNode.removeChild(s))})),n},A.prototype.validate=function(e,t,n){var r=this._current,i=!0;if(n=n||o('[data-entry="'+e.id+'"]',r.panel),t instanceof Array)for(var a=o("[data-list-entry-container]",n).children||[],s=0;s<t.length;s++){var u=t[s];if(e.validateListItem){var c=e.validateListItem(r.element,u,n,s),l=a[s];i=this.applyValidationErrors(c,l)&&i}}else e.validate&&(this.validationErrors=e.validate(r.element,t,n),i=this.applyValidationErrors(this.validationErrors,n)&&i);return i},A.prototype.getEntry=function(e){return this._current&&this._current.entries[e]};var N=n(3613),D=n(6075),R=n(2034);function I(e){return"__implicitroot"===e.id}A.prototype._create=function(e,t){if(!e)return null;var n=this._container,r=this._createPanel(e,t);n.appendChild(r);var i=M(t),o=function(e){return D(N(R(e,"groups")),"id")}(t);return{tabs:t,groups:o,entries:i,element:e,panel:r}},A.prototype._bindTemplate=function(e,t,n,r,i){var o=this._eventBus;var s=function(e){var t="input[name], textarea[name], [data-value], [contenteditable]",n=a(t,e);return n&&n.length||!f(e,t)||(n=[e]),n}(r);d(s,(function(a){var s,u,c;"value"in a||"true"===P(a)?(s=l(a,"name")||l(a,"data-name"),u=n[s],c=function(t,n){return o.fire("propertiesPanel.isPropertyEditable",{entry:t,propertyName:n,element:e})}(t,s),c&&t.editable&&(c=t.editable(e,r,a,s,u,i)),l(a,"readonly",c?null:""),l(a,"disabled",c?null:""),t.setControlValue?t.setControlValue(e,r,a,s,u,i):O(a)?function(e,t){var n=e.value;e.checked=t===n||!l(e,"value")&&t}(a,u):function(e){return"select-one"===e.type}(a)?function(e,t){void 0!==t&&(e.value=t)}(a,u):function(e,t){var n,r=P(e),i=r?e.innerText:e.value;void 0===t&&(t="");if(i===t)return;document.activeElement===e&&(n=w(function(e){return P(e)?function(e){var t=window.getSelection(),n=t.focusNode,r=t.focusOffset,i=t.anchorOffset;if(!n)throw new Error("not selected");if(!e.contains(n))throw new Error("not selected");return{start:Math.min(r,i),end:Math.max(r,i)}}(e):{start:e.selectionStart,end:e.selectionEnd}}(e),i,t));r?e.innerText=t:e.value=t;n&&function(e,t){P(e)?function(e,t){var n,r,i;n=e.firstChild||e,(r=document.createRange()).setStart(n,t.start),r.setEnd(n,t.end),(i=window.getSelection()).removeAllRanges(),i.addRange(r)}(e,t):(e.selectionStart=t.start,e.selectionEnd=t.end)}(e,n)}(a,u)):(s=l(a,"data-value"),u=n[s],t.setControlValue?t.setControlValue(e,r,a,s,u,i):function(e,t){e.textContent=t}(a,u))}))},A.prototype._updateActivation=function(e){var t=this,n=this._eventBus,r=e.element;function a(e,t){u(e).toggle(S,!t)}function s(e,t,n){var r=o(t,e);r&&(r.textContent=n)}var c=e.panel;d(e.tabs,(function(p){var f=o("[data-tab="+p.id+"]",c),h=o("[data-tab-target="+p.id+"]",c).parentNode,y=!1;d(p.groups,(function(e){var u=!1,c=o("[data-group="+e.id+"]",f);d(e.entries,(function(e){var s=o('[data-entry="'+e.id+'"]',c),p=function(e){return n.fire("propertiesPanel.isEntryVisible",{entry:e,element:r})}(e);u=u||p,a(s,p);var f="get"in e?e.get(r,s):{};if(f instanceof Array){for(var d=o("[data-list-entry-container]",s),h=d.children||[],y=0;y<f.length;y++){var v=f[y],m=h[y];m||(m=i(e.createListEntryTemplate(v,y,d)),d.appendChild(m)),l(m,"data-index",y),t._bindTemplate(r,e,v,m,y)}for(var g=h.length-f.length,b=0;b<g;b++)d.removeChild(d.lastChild)}else t._bindTemplate(r,e,f,s);t.updateState(e,s),t.validate(e,f,s),e.oldValues=C(s)})),"function"===typeof e.label&&s(c,".group-label",e.label(r,c)),u=u&&function(e,t,n){return"function"!==typeof e.enabled||e.enabled(t,n)}(e,r,c),y=y||u,a(c,u)})),y=y&&function(e,t){return"function"!==typeof e.enabled||e.enabled(t)}(p,r),a(f,y),a(h,y),function(n,r){var i=u(n).has("bpp-active");!r&&i&&t.activateTab(e.tabs[0])}(f,y)})),s(c,"[data-label-id]",_(r).id||"")},A.prototype._createPanel=function(e,t){var n=this,o=i('<div class="bpp-properties"></div>'),a=i('<div class="bpp-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),s=i('<div class="bpp-properties-tab-bar"></div>'),c=i('<ul class="bpp-properties-tabs-links"></ul>'),l=i('<div class="bpp-properties-tabs-container"></div>');return o.appendChild(a),d(t,(function(e,t){if(!e.id)throw new Error("tab must have an id");var o=i('<div class="bpp-properties-tab" data-tab="'+r(e.id)+'"></div>'),a=i('<li class="bpp-properties-tab-link"><a href data-tab-target="'+r(e.id)+'">'+r(e.label)+"</a></li>"),s=e.groups;d(s,(function(e){if(!e.id)throw new Error("group must have an id");var t=i('<div class="bpp-properties-group" data-group="'+r(e.id)+'"><span class="group-toggle"></span><span class="group-label">'+r(e.label)+"</span></div>");t.querySelector(".group-toggle").addEventListener("click",(function(e){u(t).toggle("group-closed"),e.preventDefault(),e.stopPropagation()})),t.addEventListener("click",(function(e){!e.defaultPrevented&&u(t).has("group-closed")&&u(t).remove("group-closed")})),d(e.entries,(function(e){if(!e.id)throw new Error("entry must have an id");var o=e.html;"string"===typeof o&&(o=i(o)),o.get&&o.constructor.prototype.jquery&&(o=o.get(0));var a=i('<div class="bpp-properties-entry" data-entry="'+r(e.id)+'"></div>');d(e.cssClasses||[],(function(e){u(a).add(e)})),a.appendChild(o),t.appendChild(a),n.updateState(e,a)})),o.appendChild(t)})),c.appendChild(a),l.appendChild(o)})),s.appendChild(c),o.appendChild(s),o.appendChild(l),o}},291:function(e,t,n){"use strict";var r=n(5787).IO,i=n(5787).ZH,o=n(4422).is,a=n(6514),s=n(5787).H6,u=n(4212).Z,c=/\s/,l=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,p=/^[a-z_][\w-.]*$/i,f=/\$\{([^}]*)\}/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(e){if(e.selectedIndex>=0)return e.options[e.selectedIndex].value}function y(e){for(var t=e;t.$parent;)t=t.$parent;return t}function v(e,t){var n=[];return a(e||[],(function(e){o(e,t)&&n.push(e)})),n}function m(e,t){return v(y(e).rootElements,t)}function g(e){return e.push({label:"",value:"",name:""})}function b(e,t){var n=[],r=m(e,t);return a(r,(function(e){n.push({label:(e.name||"")+" (id="+e.id+")",value:e.id,name:e.name})})),n}function x(e,t){return w(e=function(e){return e.replace(f,"$1")}(e))?t("Id must not contain spaces."):p.test(e)?void 0:l.test(e)?t("Id must not contain prefix."):t("Id must be a valid QName.")}function w(e){return c.test(e)}function E(e){return(e=""+e)&&e.replace(/[&<>"']/g,(function(e){return d[e]}))}e.exports.selectedOption=h,e.exports.selectedType=function(e,t){return h(r(e,t))},e.exports.getRoot=y,e.exports.filterElementsByType=v,e.exports.findRootElementsByType=m,e.exports.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e.exports.addEmptyParameter=g,e.exports.refreshOptionsModel=b,e.exports.updateOptionsDropDown=function(e,t,n,o){var u=b(t,n);g(u);var c=r(e,o);return i(c),a(u,(function(e){var t=s('<option value="'+E(e.value)+'">'+E(e.label)+"</option>");c.appendChild(t)})),u},e.exports.isIdValid=function(e,t,n){var r=e.$model.ids.assigned(t);return!t||r&&r!==e?n("Element must have an unique id."):x(t,n)},e.exports.validateId=x,e.exports.containsSpace=w,e.exports.nextId=function(e){return new u([32,32,1]).nextPrefixed(e)},e.exports.triggerClickEvent=function(e){var t,n="click";if(document.createEvent){try{t=new MouseEvent(n,{view:window,bubbles:!0,cancelable:!0})}catch(r){(t=document.createEvent("MouseEvent")).initEvent(n,!0,!0)}return e.dispatchEvent(t)}return t=document.createEventObject(),e.fireEvent("onclick",t)},e.exports.escapeHTML=E},4087:function(e,t,n){"use strict";var r=n(8050);function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function o(e,t){if(!e)throw new Error(t+" required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t=o(e.referencingObject,"referencingObject"),n=o(e.referenceProperty,"referenceProperty"),i=o(e.newObject,"newObject"),a=o(e.newObjectContainer,"newObjectContainer"),s=o(e.newObjectParent,"newObjectParent"),u=[e.element],c=r.createElement(i.type,i.properties,s,this._bpmnFactory);return e.referencedObject=c,a.push(c),e.previousReference=t[n],t[n]=c,e.changed=u,u},i.prototype.revert=function(e){var t=e.referencingObject,n=e.referenceProperty,r=e.previousReference,i=e.referencedObject,o=e.newObjectContainer;return t.set(n,r),o.splice(o.indexOf(i),1),e.changed}},5967:function(e,t,n){"use strict";var r=n(6514),i=n(8050);function o(e,t){this._elementRegistry=e,this._bpmnFactory=t}function a(e,t){if(!e)throw new Error(t+" required");return e}o.$inject=["elementRegistry","bpmnFactory"],e.exports=o,o.prototype.execute=function(e){var t=a(e.currentObject,"currentObject"),n=a(e.propertyName,"propertyName"),o=function(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))throw new Error(t+" needs to be a list");return e}(e.newObjects,"newObjects"),s=[e.element],u=[],c=this;return r(o,(function(e){var n=i.createElement(e.type,e.properties,t,c._bpmnFactory);u.push(n)})),e.childObject=u,e.previousChilds=t[n],t[n]=u,e.changed=s,s},o.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousChilds;return t.set(n,r),e.changed}},3134:function(e,t,n){"use strict";var r=n(6514);function i(e){this._commandStack=e}i.$inject=["commandStack"],e.exports=i,i.prototype.preExecute=function(e){var t=this._commandStack;r(e,(function(e){t.execute(e.cmd,e.context)}))}},378:function(e,t,n){"use strict";var r=n(5653),i=n(4422).is,o=n(2742),a=n(6514);function s(e){this._elementRegistry=e}function u(e,t){a(t,(function(t,n){e.set(n,t)}))}s.$inject=["elementRegistry"],e.exports=s,s.prototype.execute=function(e){var t=e.element,n=e.businessObject,s=function(e){for(var t=e;t.$parent;)t=t.$parent;return t}(n).rootElements,c=e.referenceType,l=e.referenceProperty,p=[t];if(!t)throw new Error("element required");if(!n)throw new Error("businessObject required");var f=e.properties,d=e.oldProperties||function(e,t){return r(t,(function(t,n){return t[n]=e.get(n),t}),{})}(n,o(f));return"undefined"!==typeof c&&"undefined"!==typeof l&&a(s,(function(e){i(e,c)&&e.id===f[l]&&(f[l]=e)})),u(n,f),e.oldProperties=d,e.changed=p,p},s.prototype.revert=function(e){var t=e.oldProperties;return u(e.businessObject,t),e.changed}},1574:function(e,t,n){"use strict";var r=n(6514);function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function o(e,t){if(!e)throw new Error(t+"required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t,n=o(e.currentObject,"currentObject"),i=o(e.propertyName,"propertyName"),a=e.updatedObjectList,s=e.objectsToRemove||[],u=e.objectsToAdd||[],c=[e.element];e.referencePropertyName&&(t=e.referencePropertyName);var l=n[i];if(e.previousList=n[i],a)n[i]=a;else{var p=[];if(r(l,(function(e){-1==s.indexOf(e)&&p.push(e)})),(p=p.concat(u)).length>0||!t)n[i]=p;else if(t){n.$parent.set(t,void 0)}}return e.changed=c,c},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousList,i=t.$parent;return e.referencePropertyName&&i.set(e.referencePropertyName,t),t.set(n,r),e.changed}},1474:function(e,t,n){"use strict";var r=n(6514),i={"properties-panel.update-businessobject":n(378),"properties-panel.create-and-reference":n(4087),"properties-panel.create-businessobject-list":n(5967),"properties-panel.update-businessobject-list":n(1574),"properties-panel.multi-command-executor":n(3134)};function o(e,t){e.on("diagram.init",(function(){r(i,(function(e,n){t.registerHandler(n,e)}))}))}o.$inject=["eventBus","commandStack"],e.exports={__init__:[o]}},1800:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(9685),o=n(291).escapeHTML,a=n(4435);e.exports=function(e,t){var n=t,s=n.id,u=e.label||s,c=!!e.disabled&&"function"===typeof e.disabled,l=!!e.hidden&&"function"===typeof e.hidden,p=e.description;return n.html='<input id="camunda-'+o(s)+'" type="checkbox" name="'+o(e.modelProperty)+'" '+(c?'data-disable="isDisabled"':"")+(l?'data-show="isHidden"':"")+' /><label for="camunda-'+o(s)+'" '+(c?'data-disable="isDisabled"':"")+(l?'data-show="isHidden"':"")+">"+o(u)+"</label>",p&&(n.html+=a(p)),n.get=function(t){var n=r(t),i={};return i[e.modelProperty]=n.get(e.modelProperty),i},n.set=function(t,n){var r={};return r[e.modelProperty]=!!n[e.modelProperty],i.updateProperties(t,r)},"function"===typeof e.set&&(n.set=e.set),"function"===typeof e.get&&(n.get=e.get),c&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),l&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-checkbox"],n}},2430:function(e,t,n){"use strict";var r=n(5687),i=n(1996),o=n(5787).IO,a=n(291).escapeHTML,s=n(3941),u=n(4435);e.exports=function(e){var t=e.selectOptions,n=e.modelProperty,c=e.customValue||"custom",l=e.customName||"custom "+n,p=e.description,f=r({},e);f.showCustomInput=function(t,n){var r=o('[data-entry="'+e.id+'"] select',n.parentNode);return!!r&&r.value===c},f.get=function(r,o){var a=e.get(r,o),s={};return function(e){return"undefined"!==typeof e[n]&&!i(t,(function(t){return e[n]===t.value}))}(a)?(s[n]=c,s["custom-"+n]=a[n],s):(s[n]=a[n]||"",s)},f.set=function(t,r,i){var o={};return r[n]===c?o[n]=r["custom-"+n]||"":e.emptyParameter&&""===r[n]?o[n]=void 0:o[n]=r[n],e.set(t,o,i)},f.selectOptions.push({name:l,value:c});var d=r({},s(f,f));return d.html+='<div class="bpp-field-wrapper bpp-combo-input" data-show="showCustomInput"><input id="camunda-'+a(e.id)+'-input" type="text" name="custom-'+a(n)+'"  /></div>',p&&(d.html+=u(p)),d}},1494:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(1401),o=n(1800),a=n(3941),s=n(2430),u=n(6779),c=n(1536),l=n(2840),p=n(1318),f=n(2773),d=n(9685);function h(e){if(!e)throw new Error(e+" must be set.");return e}var y=function(e){return{id:e.id,description:e.description||"",get:e.get||function(t){var n=r(t),i={},o=h(e.modelProperty);return i[o]=n.get(o),i},set:e.set||function(t,n){var r={},i=h(e.modelProperty);return""!==n[i]?r[i]=n[i]:r[i]=void 0,d.updateProperties(t,r)},validate:e.validate||function(){return{}},html:""}};function v(){}v.textField=function(e){return i(e,y(e))},v.validationAwareTextField=function(e){return c(e,y(e))},v.checkbox=function(e){return o(e,y(e))},v.textBox=function(e){return u(e,y(e))},v.selectBox=function(e){return a(e,y(e))},v.comboBox=function(e){return s(e)},v.table=function(e){return l(e)},v.label=function(e){return p(e)},v.link=function(e){return f(e)},e.exports=v},4435:function(e,t,n){"use strict";var r=n(291).escapeHTML;function i(e){for(var t,n=0,i=[],o=/<br\s*\/?>/gi;t=o.exec(e);)t.index>n&&i.push(r(e.substring(n,t.index))),i.push("<br />"),n=t.index+t[0].length;return n<e.length&&i.push(r(e.substring(n))),i.join("")}e.exports=function(e){for(var t,n,r,o=[],a=/(?:\[([^\]]+)\]\((https?:\/\/[^)]+)\))|(?:<a href="(https?:\/\/[^"]+)">(.+?(?=<\/))<\/a>)/gi,s=0;t=a.exec(e);)t.index>s&&o.push(i(e.substring(s,t.index))),n=t[2]&&encodeURI(t[2])||t[3],r=t[1]||t[4],o.push('<a href="'+n+'" target="_blank">'+i(r)+"</a>"),s=t.index+t[0].length;return s<e.length&&o.push(i(e.substring(s))),'<div class="bpp-field-description">'+o.join("")+"</div>"}},1318:function(e){"use strict";e.exports=function(e){return{id:e.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(e.divider?" divider":"")+'"></label>',get:function(t,n){return"function"===typeof e.get?e.get(t,n):{label:e.labelText}},showLabel:function(t,n){return"function"!==typeof e.showLabel||e.showLabel(t,n)}}}},2773:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(4435),o=n(9510);e.exports=function(e){var t=e.id,n=e.label||t,a=e.showLink,s=e.handleClick,u=e.description;if(a&&"function"!==typeof a)throw new Error("options.showLink must be a function");if("function"!==typeof s)throw new Error("options.handleClick must be a function");var c={id:t};return c.html='<a data-action="handleClick" '+(a?'data-show="showLink" ':"")+'class="bpp-entry-link'+(e.cssClasses?" "+r(e.cssClasses):"")+'">'+r(n)+"</a>",u&&(c.html+=i(u)),c.handleClick=o(s,c),"function"===typeof a&&(c.showLink=function(){return a.apply(c,arguments)}),c}},3941:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(5787).H6,o=n(6514),a=n(4435);e.exports=function(e,t){var n=t,s=e.label||n.id,u=e.selectOptions||[{name:"",value:""}],c=e.modelProperty,l=e.emptyParameter,p=!!e.disabled&&"function"===typeof e.disabled,f=!!e.hidden&&"function"===typeof e.hidden,d=e.description;return l&&(u=u.concat([{name:"",value:""}])),n.html='<label for="camunda-'+r(n.id)+'"'+(p?'data-disable="isDisabled" ':"")+(f?'data-show="isHidden" ':"")+">"+r(s)+'</label><select id="camunda-'+r(n.id)+'-select" name="'+r(c)+'"'+(p?'data-disable="isDisabled" ':"")+(f?'data-show="isHidden" ':"")+" data-value>",function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))}(u)&&o(u,(function(e){n.html+='<option value="'+r(e.value)+'">'+(e.name?r(e.name):"")+"</option>"})),n.html+="</select>",d&&"function"!==typeof e.showCustomInput&&(n.html+=a(d)),n.setControlValue=function(e,t,n,r,a){if("function"===typeof u){var s=u(e,n);if(s){for(;n.firstChild;)n.removeChild(n.firstChild);o(s,(function(e){var t=i(function(e){return'<option value="'+e.value+'">'+e.name+"</option>"}(e));n.appendChild(t)}))}}void 0!==a&&(n.value=a)},p&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),f&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-dropdown"],n}},2840:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(9685),o=n(5787).IO,a=n(5787).Lj,s=n(5787).oq,u=n(86),c=n(6514),l=n(2742),p=n(5787).H6,f=n(4435),d=n(6504),h='<div class="bpp-field-wrapper bpp-table-row">';function y(e,t){var n=h;return n+=function(e,t){var n=e.length,i="";return c(e,(function(e){i+='<input class="bpp-table-row-columns-'+n+" "+(t?"bpp-table-row-removable":"")+'" id="camunda-table-row-cell-input-value" type="text" name="'+r(e)+'" />'})),i}(e,t),n+=t?'<button class="clear" data-action="deleteElement"><span>X</span></button>':"",n+="</div>"}function v(e){var t=h;return t+=function(e){var t=e.length,n="";return c(e,(function(e){n+='<label class="bpp-table-row-columns-'+t+'">'+r(e)+"</label>"})),n}(e),t+="</div>"}function m(e,t,n,r,i){return u(n,(function(n,o){return!function(e,t,n,r,i,o){if(n&&!r)return!1;return l(n).concat(l(r)).every((function(a){var s=n[a]||void 0,u=r[a]||void 0;return!i(e,t,a,o)||s===u}))}(e,t,n,r[o],i,o)}))}function g(e){return s(e,"[data-entry]",!0)}function b(e){return o("div[data-list-entry-container]",e)}e.exports=function(e){var t=e.id,n=e.modelProperties,o=e.labels,u=e.description,l=v(o),h=e.getElements,x=e.removeElement,w="function"===typeof x,E=e.addElement,_="function"===typeof E,S=e.addLabel||"Add Value",O=e.updateElement,P="function"===typeof O,k=e.editable||function(){return!0},j=e.setControlValue,C=e.show,T="function"===typeof C,M=function(e,t){return function(e,t){return(e||[]).map((function(e){var n={};return c(t,(function(t){n[t]=e[t]||""})),n}))}(h(e,t),n)},A={id:t,html:(_?'<div class="bpp-table-add-row" '+(T?'data-show="show"':"")+"><label>"+r(S)+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':"")+'<div class="bpp-table" data-show="showTable"><div class="bpp-field-wrapper bpp-table-row">'+l+"</div><div data-list-entry-container></div></div>"+(u?f(u):""),get:function(e,t){var r=M(e,t,this.__invalidValues),i=this.__invalidValues;return delete this.__invalidValues,c(i,(function(e,t){var i=r[t];c(n,(function(t){i[t]=e[t]}))})),r},set:function(t,n,r){var o=this.__action||{};if(delete this.__action,"delete-element"===o.id)return x(t,r,o.idx);if("add-element"===o.id)return E(t,r);if(P){var a=[],s=n;"function"!==typeof e.validate&&(s=m(t,r,n,M(t,r),k));var u=this;return c(s,(function(o){var s,c=n.indexOf(o);if("function"===typeof e.validate&&(s=e.validate(t,o,r,c)),s)u.__invalidValues=u.__invalidValues||{},u.__invalidValues[c]=o,a.push(i.updateProperties(t,{}));else{var l=O(t,o,r,c);l&&a.push(l)}})),a}},createListEntryTemplate:function(e,t,r){return y(n,w)},addElement:function(e,t,r,i){var o=p(y(n,w));return b(t).appendChild(o),this.__action={id:"add-element"},!0},deleteElement:function(e,t,n,r){var i=b(t),o=n.delegateTarget.parentNode,s=parseInt(a(o,"data-index"),10);return i.removeChild(o),this.__action={id:"delete-element",idx:s},!0},editable:function(e,t,n,r,i,o){var a=s(t,"[data-entry]");return k(e,a,r,o)},show:function(e,t,n,r){return t=g(t),C(e,t,n,r)},showTable:function(e,t,n,r){t=g(t);var i=M(e,t);return i&&i.length&&(!T||C(e,t,n,r))},validateListItem:function(t,n,r,i){if("function"===typeof e.validate)return e.validate(t,n,r,i)}};return j&&(A.setControlValue=function(e,t,n,r,i,o){var s,u,c=g(t),l=a(n,"readonly"),p=n.value;(void 0===i&&(i=""),l&&p===i)||(document.activeElement===n&&(s=d({start:(u=n).selectionStart,end:u.selectionEnd},p,i)),j(e,c,n,r,i,o),s&&function(e,t){e.selectionStart=t.start,e.selectionEnd=t.end}(n,s))}),A}},6779:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(4435);e.exports=function(e,t){var n=t,o=e.label||n.id,a=!!e.show&&"function"===typeof e.show,s=e.description;return n.html='<label for="camunda-'+r(n.id)+'" '+(a?'data-show="isShown"':"")+">"+o+'</label><div class="bpp-field-wrapper" '+(a?'data-show="isShown"':"")+'><div contenteditable="true" id="camunda-'+r(n.id)+'" name="'+r(e.modelProperty)+'" /></div>',s&&(n.html+=i(s)),a&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],n}},1401:function(e,t,n){"use strict";var r=n(291).escapeHTML,i=n(5787).IO,o=n(4435);e.exports=function(e,t){var n=t,a=e.label||n.id,s=e.dataValueLabel,u=e.buttonLabel||"X",c="undefined"!=typeof e.buttonAction?e.buttonAction.name:"clear",l="undefined"!=typeof e.buttonAction?e.buttonAction.method:function(t,n){return i('input[name="'+e.modelProperty+'"]',n).value="",!0},p="undefined"!=typeof e.buttonShow?e.buttonShow.name:"canClear",f="undefined"!=typeof e.buttonShow?e.buttonShow.method:function(t,n){return""!==i('input[name="'+e.modelProperty+'"]',n).value},d=!!e.disabled&&"function"===typeof e.disabled,h=!!e.hidden&&"function"===typeof e.hidden,y=e.description;return n.html='<label for="camunda-'+r(n.id)+'" '+(d?'data-disable="isDisabled" ':"")+(h?'data-show="isHidden" ':"")+(s?'data-value="'+r(s)+'"':"")+">"+r(a)+'</label><div class="bpp-field-wrapper" '+(d?'data-disable="isDisabled"':"")+(h?'data-show="isHidden"':"")+'><input id="camunda-'+r(n.id)+'" type="text" name="'+r(e.modelProperty)+'" '+(d?'data-disable="isDisabled"':"")+(h?'data-show="isHidden"':"")+' /><button class="'+r(c)+'" data-action="'+r(c)+'" data-show="'+r(p)+'" '+(d?'data-disable="isDisabled"':"")+(h?' data-show="isHidden"':"")+"><span>"+r(u)+"</span></button></div>",y&&(n.html+=o(y)),n[c]=l,n[p]=f,d&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),h&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-textfield"],n}},1536:function(e,t,n){"use strict";var r=n(1401);e.exports=function(e,t){var n=e.modelProperty;t.get=function(t,r){var i=this.__lastInvalidValue;delete this.__lastInvalidValue;var o={};return o[n]=void 0!==i?i:e.getProperty(t,r),o},t.set=function(t,r,o){var a=i.apply(this,[t,r,o]),s=r[n];if(a&&a[n])return this.__lastInvalidValue=s,e.setProperty(t,{},o);var u={};return u[n]=s,e.setProperty(t,u,o)};var i=t.validate=function(t,r,i){var o=r[n]||this.__lastInvalidValue,a={};return a[n]=o,e.validate(t,a,i)};return r(e,t)}},8345:function(e,t,n){"use strict";var r=n(2034),i=n(5720);e.exports.isAsyncBefore=function(e){return!(!e.get("camunda:asyncBefore")&&!e.get("camunda:async"))},e.exports.isAsyncAfter=function(e){return!!e.get("camunda:asyncAfter")},e.exports.isExclusive=function(e){return!!e.get("camunda:exclusive")},e.exports.getFailedJobRetryTimeCycle=function(e){return(i.getExtensionElements(e,"camunda:FailedJobRetryTimeCycle")||[])[0]},e.exports.removeFailedJobRetryTimeCycle=function(e,t){var n=i.getExtensionElements(e,"camunda:FailedJobRetryTimeCycle");return r(n,(function(n){return i.removeEntry(e,t,n)}))}},5703:function(e,t,n){"use strict";var r=n(3462).IH,i=n(4422).getBusinessObject,o={};e.exports=o,o.createCategoryValue=function(e,t){var n=t.create("bpmn:CategoryValue"),o=t.create("bpmn:Category",{categoryValue:[n]});return r(e.get("rootElements"),o),i(o).$parent=e,i(n).$parent=o,n}},9685:function(e){"use strict";var t={};e.exports=t,t.updateProperties=function(e,t){return{cmd:"element.updateProperties",context:{element:e,properties:t}}},t.updateBusinessObject=function(e,t,n){return{cmd:"properties-panel.update-businessobject",context:{element:e,businessObject:t,properties:n}}},t.addElementsTolist=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,objectsToAdd:r}}},t.removeElementsFromList=function(e,t,n,r,i){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToRemove:i}}},t.addAndRemoveElementsFromList=function(e,t,n,r,i,o){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToAdd:i,objectsToRemove:o}}},t.setList=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,updatedObjectList:r}}}},8050:function(e){"use strict";var t={};e.exports=t,t.createElement=function(e,t,n,r){var i=r.create(e,t);return i.$parent=n,i}},9899:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(6514),a={};e.exports=a,a.getEventDefinition=function(e,t){var n=r(e),a=null;return n.eventDefinitions&&o(n.eventDefinitions,(function(e){i(e,t)&&(a=e)})),a},a.getTimerEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:TimerEventDefinition")},a.getMessageEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:MessageEventDefinition")},a.getSignalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:SignalEventDefinition")},a.getErrorEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ErrorEventDefinition")},a.getEscalationEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:EscalationEventDefinition")},a.getCompensateEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:CompensateEventDefinition")},a.getLinkEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:LinkEventDefinition")},a.getConditionalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ConditionalEventDefinition")}},5720:function(e,t,n){"use strict";var r=n(9685),i=n(8050),o=n(4422).is,a={};a.getExtensionElements=function(e,t){var n=function(e){return e.get("extensionElements")}(e);if("undefined"!==typeof n){var r=n.get("values");if("undefined"!==typeof r){var i=r.filter((function(e){return o(e,t)}));if(i.length)return i}}},a.addEntry=function(e,t,n,o){var a=e.get("extensionElements");return a?r.addElementsTolist(t,a,"values",[n]):{extensionElements:a=i.createElement("bpmn:ExtensionElements",{values:[n]},e,o)}},a.removeEntry=function(e,t,n){var i=e.get("extensionElements");return i?r.removeElementsFromList(t,i,"values","extensionElements",[n]):{}},e.exports=a},6804:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(5720).getExtensionElements,o={};e.exports=o,o.getFormData=function(e){var t=r(e),n=i(t,"camunda:FormData");if("undefined"!==typeof n)return n[0]},o.getFormFields=function(e){var t=this.getFormData(e);return"undefined"===typeof t?[]:t.fields||[]},o.getFormField=function(e,t){return this.getFormFields(e)[t]},o.getConstraints=function(e){return e&&e.validation&&e.validation.constraints?e.validation.constraints:[]},o.getEnumValues=function(e){return e&&e.values?e.values:[]}},7047:function(e,t,n){"use strict";var r=n(4422),i=r.is,o=r.getBusinessObject,a=n(9899),s=n(5720),u={};e.exports=u,u.isServiceTaskLike=function(e){return i(e,"camunda:ServiceTaskLike")},u.isDmnCapable=function(e){return i(e,"camunda:DmnCapable")},u.isExternalCapable=function(e){return i(e,"camunda:ExternalCapable")},u.isTaskListener=function(e){return i(e,"camunda:TaskListener")},u.isExecutionListener=function(e){return i(e,"camunda:ExecutionListener")},u.isListener=function(e){return this.isTaskListener(e)||this.isExecutionListener(e)},u.isSequenceFlow=function(e){return i(e,"bpmn:SequenceFlow")},u.getServiceTaskLikeBusinessObject=function(e){if(i(e,"bpmn:IntermediateThrowEvent")||i(e,"bpmn:EndEvent")){var t=a.getMessageEventDefinition(e);t&&(e=t)}return this.isServiceTaskLike(e)&&o(e)},u.getImplementationType=function(e){var t=this.getServiceTaskLikeBusinessObject(e);if(!t){if(!this.isListener(e))return;t=e}if(this.isDmnCapable(t)&&"undefined"!==typeof t.get("camunda:decisionRef"))return"dmn";if(this.isServiceTaskLike(t)&&"undefined"!==typeof s.getExtensionElements(t,"camunda:Connector"))return"connector";if(this.isExternalCapable(t)&&"external"===t.get("camunda:type"))return"external";if("undefined"!==typeof t.get("camunda:class"))return"class";if("undefined"!==typeof t.get("camunda:expression"))return"expression";if("undefined"!==typeof t.get("camunda:delegateExpression"))return"delegateExpression";if(this.isListener(t)&&"undefined"!==typeof t.get("script"))return"script"}},1039:function(e,t,n){"use strict";var r=n(4422),i=r.is,o=r.getBusinessObject,a=n(5720),s=n(7047),u={};function c(e,t,n){var r=a.getExtensionElements(e,t)||[];return n?(r[0]||{})[n]||[]:r}function l(e,t,n){var r=u.getInputOutput(e,n);return r&&r.get(t)||[]}e.exports=u,u.getInputOutput=function(e,t){if(!t)return(c(o(e),"camunda:InputOutput")||[])[0];var n=this.getConnector(e);return n&&n.get("inputOutput")},u.getConnector=function(e){var t=s.getServiceTaskLikeBusinessObject(e);return t&&(c(t,"camunda:Connector")||[])[0]},u.getInputParameters=function(e,t){return l.apply(this,[e,"inputParameters",t])},u.getOutputParameters=function(e,t){return l.apply(this,[e,"outputParameters",t])},u.getInputParameter=function(e,t,n){return this.getInputParameters(e,t)[n]},u.getOutputParameter=function(e,t,n){return this.getOutputParameters(e,t)[n]},u.isInputOutputSupported=function(e,t){if(t)return!0;var n=o(e);return i(n,"bpmn:FlowNode")&&!(i(n,"bpmn:StartEvent")||i(n,"bpmn:Gateway")||i(n,"bpmn:BoundaryEvent")||i(n,"bpmn:SubProcess")&&n.get("triggeredByEvent"))},u.areOutputParametersSupported=function(e,t){var n=o(e);return t||!i(n,"bpmn:EndEvent")&&!n.loopCharacteristics}},839:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(9685),a={};e.exports=a,a.modifyProcessBusinessObject=function(e,t,n){if(!r(e,"bpmn:Participant"))return{};var a=i(e).get("processRef"),s={};return s[t]=n[t],o.updateBusinessObject(e,a,s)},a.getProcessBusinessObject=function(e,t){if(!r(e,"bpmn:Participant"))return{};var n=i(e).get("processRef"),o={};return o[t]=n.get(t),o}},2935:function(e,t,n){e.exports={__depends__:[n(1474),n(5234).Z],__init__:["propertiesPanel"],propertiesPanel:["type",n(63)]}},4300:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(4422),a=o.is,s=o.getBusinessObject;e.exports=function(e,t,n,o){var u,c=function(e){return function(t){var n=e&&e.get("documentation");return{documentation:n&&n.length>0?n[0].text:""}}},l=function(e){return function(t,r){var o=[];return"undefined"!==typeof r.documentation&&""!==r.documentation&&o.push(n.create("bpmn:Documentation",{text:r.documentation})),i.setList(t,e,"documentation",o)}},p=r.textBox({id:"documentation",label:o("Element Documentation"),modelProperty:"documentation"});if(p.set=l(s(t)),p.get=c(s(t)),e.entries.push(p),a(t,"bpmn:Participant")&&(u=s(t).processRef)){var f=r.textBox({id:"process-documentation",label:o("Process Documentation"),modelProperty:"documentation"});f.set=l(u),f.get=c(u),e.entries.push(f)}}},9113:function(e,t,n){"use strict";var r=n(4422).is,i=n(6008).J,o=n(4422).getBusinessObject,a=n(9899),s=n(6514),u=n(5353),c=n(2181),l=n(7432),p=n(9314),f=n(3117),d=n(5021),h=n(2669);e.exports=function(e,t,n,y,v){s(["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"],(function(i){if(r(t,i)){var o=a.getMessageEventDefinition(t),s=a.getSignalEventDefinition(t);o&&u(e,t,n,o,v),s&&c(e,t,n,s,v)}})),r(t,"bpmn:ReceiveTask")&&u(e,t,n,o(t),v);s(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"],(function(i){if(r(t,i)){var o=a.getErrorEventDefinition(t);o&&l(e,t,n,o,v)}}));s(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent"],(function(i){if(r(t,i)){var o=r(t,"bpmn:StartEvent")||r(t,"bpmn:BoundaryEvent"),s=a.getEscalationEventDefinition(t);s&&p(e,t,n,s,o,v)}}));s(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"],(function(i){if(r(t,i)){var o=a.getTimerEventDefinition(t);o&&f(e,t,n,o,v)}}));s(["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],(function(i){if(r(t,i)){var o=a.getCompensateEventDefinition(t);o&&d(e,t,n,o,y,v)}}));if(i(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])){var m=a.getConditionalEventDefinition(t);m&&h(e,t,n,m,y,v)}}},4307:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(1494),a=n(839);e.exports=function(e,t,n){var s=i(t);if(s&&(r(t,"bpmn:Process")||r(t,"bpmn:Participant")&&s.get("processRef"))){var u=o.checkbox({id:"process-is-executable",label:n("Executable"),modelProperty:"isExecutable"});r(t,"bpmn:Participant")&&(u.get=function(e){return a.getProcessBusinessObject(e,"isExecutable")},u.set=function(e,t){return a.modifyProcessBusinessObject(e,"isExecutable",t)}),e.entries.push(u)}}},9610:function(e,t,n){"use strict";var r=n(1494),i=n(4422).getBusinessObject,o=n(291),a=n(9685);e.exports=function(e,t,n,s){var u=s&&s.description;e.entries.push(r.validationAwareTextField({id:"id",label:n("Id"),description:u&&n(u),modelProperty:"id",getProperty:function(e){return i(e).id},setProperty:function(e,t){return e=e.labelTarget||e,a.updateProperties(e,t)},validate:function(e,t){var r=t.id,a=i(e),s=o.isIdValid(a,r,n);return s?{id:s}:{}}}))}},7379:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(1494),a=n(9685),s=n(6514);e.exports=function(e,t,n){s(["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"],(function(u){if(r(t,u)){var c=function(e){var t=i(e),n=null;return t.eventDefinitions&&s(t.eventDefinitions,(function(e){r(e,"bpmn:LinkEventDefinition")&&(n=e)})),n}(t);if(c){var l=o.textField({id:"link-event",label:n("Link Name"),modelProperty:"link-name"});l.get=function(){return{"link-name":c.get("name")}},l.set=function(e,t){var n={name:t["link-name"]};return a.updateBusinessObject(e,c,n)},e.entries.push(l)}}}))}},3951:function(e,t,n){"use strict";var r=n(5003),i=n(5703).createCategoryValue,o=n(4422).is,a=n(4422).getBusinessObject;e.exports=function(e,t,n,s,u){var c;o(t,"bpmn:Collaboration")||(o(t,"bpmn:TextAnnotation")?c={modelProperty:"text",label:u("Text")}:o(t,"bpmn:Group")&&(c={modelProperty:"categoryValue",label:u("Category Value"),get:function(e){return{categoryValue:(a(e).categoryValueRef||{}).value}},set:function(e,t){var r=a(e);return r.categoryValueRef||function(e){var t=s.getRootElement(),r=a(t).$parent,o=i(r,n);e.categoryValueRef=o}(r),{cmd:"element.updateLabel",context:{element:e,newLabel:t.categoryValue}}}}),e.entries=e.entries.concat(r(t,c,u)))}},4620:function(e,t,n){"use strict";var r=n(4422).is,i=n(1494),o=n(839),a=n(4422).getBusinessObject,s=n(5003),u=n(291);e.exports=function(e,t,n,c){var l=a(t),p=c&&c.processIdDescription;if((r(t,"bpmn:Process")||r(t,"bpmn:Participant")&&l.get("processRef"))&&r(t,"bpmn:Participant")){var f=i.validationAwareTextField({id:"process-id",label:n("Process Id"),description:p&&n(p),modelProperty:"processId"});f.get=function(e){return{processId:o.getProcessBusinessObject(e,"id").id}},f.set=function(e,t){return o.modifyProcessBusinessObject(e,"id",{id:t.processId})},f.validate=function(e,t){var r=t.processId,i=a(e),o=u.isIdValid(i.processRef,r,n);return o?{processId:o}:{}},e.entries.push(f);var d=s(t,{id:"process-name",label:n("Process Name")})[0];d.get=function(e){return o.getProcessBusinessObject(e,"name")},d.set=function(e,t){return o.modifyProcessBusinessObject(e,"name",t)},e.entries.push(d)}}},5021:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(9899),a=n(291),s=n(4422).getBusinessObject,u=n(4422).is,c=n(6514),l=n(1996),p=n(86);function f(e,t){return a.filterElementsByType(e.flowElements,t)}function d(e,t){return u(e,"bpmn:SubProcess")&&!e.triggeredByEvent||u(e,"bpmn:CallActivity")||function(e,t){var n=e.id;return!!l(t,(function(e){var t=o.getCompensateEventDefinition(e),r=e.attachedToRef;return t&&r&&r.id===n}))}(e,t)}function h(e){var t=function(e){return f(e,"bpmn:BoundaryEvent")}(e);return p(function(e){return f(e,"bpmn:Activity")}(e),(function(e){return d(e,t)}))}function y(e){var t=[{value:""}],n=function(e){var t=s(e).$parent,n=h(t);return u(t,"bpmn:SubProcess")&&t.triggeredByEvent&&(t=t.$parent)&&(n=n.concat(h(t))),n}(e);return c(n,(function(e){var n=e.id,r=(e.name?e.name+" ":"")+"(id="+n+")";t.push({value:n,name:r})})),t}e.exports=function(e,t,n,o,a,u){e.entries.push(r.checkbox({id:"wait-for-completion",label:u("Wait for Completion"),modelProperty:"waitForCompletion",get:function(e,t){return{waitForCompletion:o.waitForCompletion}},set:function(e,t){return t.waitForCompletion=t.waitForCompletion||!1,i.updateBusinessObject(e,o,t)}})),e.entries.push(r.selectBox({id:"activity-ref",label:u("Activity Ref"),selectOptions:y(t),modelProperty:"activityRef",get:function(e,t){var n=o.activityRef;return{activityRef:(n=n&&n.id)||""}},set:function(e,t){var n=t.activityRef||void 0;return n=n&&s(a.get(n)),i.updateBusinessObject(e,o,{activityRef:n})}}))}},2669:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(4422).is,a=n(1789).J5;e.exports=function(e,t,n,s,u,c){var l=function(e){return function(t){var n=s.get("camunda:"+e),r={};return r[e]=n,r}},p=function(e){return function(t,n){var r={};return r["camunda:"+e]=n[e]||void 0,i.updateBusinessObject(t,s,r)}};e.entries.push(r.textField({id:"variableName",label:c("Variable Name"),modelProperty:"variableName",get:l("variableName"),set:p("variableName")})),o(t,"bpmn:StartEvent")&&!a(t.parent)||e.entries.push(r.textField({id:"variableEvent",label:c("Variable Event"),description:c("Specify more than one variable change event as a comma separated list."),modelProperty:"variableEvent",get:l("variableEvent"),set:p("variableEvent")}))}},5026:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=o.id||"element-property",s=o.label,u=o.referenceProperty,c=o.modelProperty||"name",l=o.shouldValidate||!1,p=r.textField({id:a,label:s,modelProperty:c,get:function(e,n){var r=t.get(u),i={};return i[c]=r&&r.get(c),i},set:function(e,n,r){var o=t.get(u),a={};return a[c]=n[c]||void 0,i.updateBusinessObject(e,o,a)},hidden:function(e,n){return!t.get(u)}});return l&&(p.validate=function(e,n,r){if(t.get(u)&&!n[c]){var i={};return i[c]="Must provide a value",i}}),[p]}},7432:function(e,t,n){"use strict";var r=n(2305),i=n(5026);e.exports=function(e,t,n,o,a){e.entries=e.entries.concat(r(t,o,n,{label:a("Error"),elementName:"error",elementType:"bpmn:Error",referenceProperty:"errorRef",newElementIdPrefix:"Error_"})),e.entries=e.entries.concat(i(t,o,n,{id:"error-element-name",label:a("Error Name"),referenceProperty:"errorRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(i(t,o,n,{id:"error-element-code",label:a("Error Code"),referenceProperty:"errorRef",modelProperty:"errorCode"}))}},9314:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(2305),a=n(5026);e.exports=function(e,t,n,s,u,c){e.entries=e.entries.concat(o(t,s,n,{label:c("Escalation"),elementName:"escalation",elementType:"bpmn:Escalation",referenceProperty:"escalationRef",newElementIdPrefix:"Escalation_"})),e.entries=e.entries.concat(a(t,s,n,{id:"escalation-element-name",label:c("Escalation Name"),referenceProperty:"escalationRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(a(t,s,n,{id:"escalation-element-code",label:c("Escalation Code"),referenceProperty:"escalationRef",modelProperty:"escalationCode"})),u&&e.entries.push(r.textField({id:"escalationCodeVariable",label:c("Escalation Code Variable"),modelProperty:"escalationCodeVariable",get:function(e){return{escalationCodeVariable:s.get("camunda:escalationCodeVariable")}},set:function(e,t){return i.updateBusinessObject(e,s,{"camunda:escalationCodeVariable":t.escalationCodeVariable||void 0})}}))}},2305:function(e,t,n){"use strict";var r=n(9685),i=n(5787).IO,o=n(5787).H6,a=n(5787).Lj,s=n(6514),u=n(1996),c=n(8050),l=n(291),p=l.escapeHTML,f="select[name=selectedElement]";e.exports=function(e,t,n,d){var h=d.elementName||"",y=d.elementType,v=d.referenceProperty,m=d.newElementIdPrefix||"elem_",g=d.label||"",b=d.description||"",x=[];return x.push({id:"event-definitions-"+h,description:b,html:'<div class="bpp-row bpp-select"><label for="camunda-'+p(h)+'">'+p(g)+'</label><div class="bpp-field-wrapper"><select id="camunda-'+p(h)+'" name="selectedElement" data-value></select><button class="add" id="addElement" data-action="addElement"><span>+</span></button></div></div>',get:function(e,n){l.updateOptionsDropDown(f,t,y,n);var r=t.get(v);return{selectedElement:r&&r.id||""}},set:function(e,i){var o=i.selectedElement,a={};if(!o||"undefined"===typeof o)return a[v]=void 0,r.updateBusinessObject(e,t,a);var s=[],p=function(e,t,n){var r=l.findRootElementsByType(e,t);return u(r,(function(e){return e.id===n}))}(t,y,o);if(!p){var f=l.getRoot(t);p=c.createElement(y,{name:o},f,n),s.push(r.addAndRemoveElementsFromList(e,f,"rootElements",null,[p]))}return a[v]=p,s.push(r.updateBusinessObject(e,t,a)),s},addElement:function(e,t){var n=l.nextId(m),r=o('<option value="'+p(n)+'"> (id='+p(n)+")</option>"),u=i(f,t.parentElement);return u.insertBefore(r,u.firstChild),s(u,(function(e){e.value===n?a(e,"selected","selected"):a(e,"selected",null)})),!0}}),x}},5353:function(e,t,n){"use strict";var r=n(2305),i=n(5026);e.exports=function(e,t,n,o,a){e.entries=e.entries.concat(r(t,o,n,{label:a("Message"),elementName:"message",elementType:"bpmn:Message",referenceProperty:"messageRef",newElementIdPrefix:"Message_"})),e.entries=e.entries.concat(i(t,o,n,{id:"message-element-name",label:a("Message Name"),referenceProperty:"messageRef",modelProperty:"name",shouldValidate:!0}))}},5003:function(e,t,n){"use strict";var r=n(1494);e.exports=function(e,t,n){var i=(t=t||{}).id||"name",o=t.label||n("Name"),a=t.modelProperty||"name";return[r.textBox({id:i,label:o,modelProperty:a,get:t.get,set:t.set})]}},2181:function(e,t,n){"use strict";var r=n(2305),i=n(5026);e.exports=function(e,t,n,o,a){e.entries=e.entries.concat(r(t,o,n,{label:a("Signal"),elementName:"signal",elementType:"bpmn:Signal",referenceProperty:"signalRef",newElementIdPrefix:"Signal_"})),e.entries=e.entries.concat(i(t,o,n,{id:"signal-element-name",label:a("Signal Name"),referenceProperty:"signalRef",modelProperty:"name",shouldValidate:!0}))}},3117:function(e,t,n){"use strict";var r=n(8050),i=n(9685),o=n(1494);function a(e){if(e)return"undefined"!==typeof e.get("timeDate")?"timeDate":"undefined"!==typeof e.get("timeCycle")?"timeCycle":"undefined"!==typeof e.get("timeDuration")?"timeDuration":void 0}function s(e,t,n){return"function"===typeof e?e(t,n):e}e.exports=function(e,t,n,u,c,l){var p=[{value:"timeDate",name:c("Date")},{value:"timeDuration",name:c("Duration")},{value:"timeCycle",name:c("Cycle")}],f=l&&l.idPrefix,d=l&&l.createTimerEventDefinition;e.entries.push(o.selectBox({id:f+"timer-event-definition-type",label:c("Timer Definition Type"),selectOptions:p,emptyParameter:!0,modelProperty:"timerDefinitionType",get:function(e,t){return{timerDefinitionType:a(s(u,e,t))||""}},set:function(e,t,o){var c={timeDuration:void 0,timeDate:void 0,timeCycle:void 0},l=s(u,e,o),p=t.timerDefinitionType;if(l||"function"!==typeof d||(l=d(e,o)),t.timerDefinitionType){var f,h=a(l);if(h)f=l.get(h).get("body");c[p]=function(e,t,n){return t=t||void 0,r.createElement("bpmn:FormalExpression",{body:t},e,n)}(l,f,n)}return i.updateBusinessObject(e,l,c)},hidden:function(e,t){return void 0===s(u,e,t)}})),e.entries.push(o.textField({id:f+"timer-event-definition",label:c("Timer Definition"),modelProperty:"timerDefinition",get:function(e,t){var n=s(u,e,t),r=a(n),i=r&&n.get(r);return{timerDefinition:i&&i.get("body")}},set:function(e,t,n){var r=s(u,e,n),o=a(r),c=o&&r.get(o);if(c)return i.updateBusinessObject(e,c,{body:t.timerDefinition||void 0})},validate:function(e,t){var n=s(u,e,t),r=a(n),i=r&&n.get(r);if(i&&!i.get("body"))return{timerDefinition:c("Must provide a value")}},hidden:function(e,t){return!a(s(u,e,t))}}))}},7908:function(e,t,n){"use strict";var r=n(2534),i=n(7073),o=n(8345),a=n(7047),s=n(4422).is,u=n(4620),c=n(9113),l=n(7379),p=n(4300),f=n(9610),d=n(3951),h=n(4307),y=n(9644),v=n(2830),m=n(1566),g=n(6158),b=n(215),x=n(1946),w=n(4110),E=n(2247),_=n(8365),S=n(7418),O=n(402),P=n(586),k=n(4381),j=n(8187),C=n(3592),T=n(6089),M=n(9127),A=n(3285),N=n(5332),D=n(9600),R=n(7018),I=n(9746),L=n(4166),B=n(681),F=n(1571),z=n(5545),V=n(2973),H=n(9641),$=n(3890),G=n(4422).getBusinessObject,U=n(9899),W=n(7047),X=function(e){var t=G(e);if(s(e,"bpmn:Process")||s(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=a.getServiceTaskLikeBusinessObject(e),r="external"===a.getImplementationType(n);return!!a.isExternalCapable(n)&&r},Z=function(e){var t=G(e);if(s(e,"bpmn:Process")||s(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=G(e);return!(!o.isAsyncBefore(n)&&!o.isAsyncAfter(n))||!!s(e,"bpmn:Event")&&!!U.getTimerEventDefinition(e)},q=function(e,t){return s(e,"camunda:InputParameter")?t("Input Parameter"):s(e,"camunda:OutputParameter")?t("Output Parameter"):""},Y="This maps to the process definition key.";function K(e,t,n,r,i,o){e=e.labelTarget||e;var a,_,O={id:"general",label:o("General"),entries:[]};s(e,"bpmn:Process")&&(a={description:Y}),s(e,"bpmn:UserTask")&&(a={description:"This maps to the task definition key."}),s(e,"bpmn:Participant")&&(_={processIdDescription:Y}),f(O,e,o,a),d(O,e,n,t,o),u(O,e,o,_),P(O,e,o),h(O,e,o),T(O,e,i,o);var k=M(e,i,n,o),j={id:"details",label:o("Details"),entries:[]};y(j,e,n,o),v(j,e,o),w(j,e,n,o),l(j,e,o),g(j,e,n,o),c(j,e,n,r,o),E(j,e,n,o),x(j,e,n,o),S(j,e,o);var C={id:"multiInstance",label:o("Multi Instance"),entries:[]};b(C,e,n,o);var A={id:"async",label:o("Asynchronous Continuations"),entries:[]};m(A,e,n,o);var N={id:"jobConfiguration",label:o("Job Configuration"),entries:[],enabled:Z};B(N,e,n,o);var D={id:"externalTaskConfiguration",label:o("External Task Configuration"),entries:[],enabled:X};H(D,e,n,o);var R={id:"candidateStarterConfiguration",label:o("Candidate Starter Configuration"),entries:[]};z(R,e,n,o);var I={id:"historyConfiguration",label:o("History Configuration"),entries:[]};F(I,e,n,o);var L={id:"tasklist",label:o("Tasklist Configuration"),entries:[]};V(L,e,n,o);var $={id:"documentation",label:o("Documentation"),entries:[]};p($,e,n,o);var G=[];return G.push(O),k.forEach((function(e){G.push(e)})),G.push(j),G.push(D),G.push(C),G.push(A),G.push(N),G.push(R),G.push(I),G.push(L),G.push($),G}function J(e,t,n,r){var i={id:"variables",label:r("Variables"),entries:[]};return O(i,e,t,r),[i]}function Q(e,t,n,r){var i={id:"forms",label:r("Forms"),entries:[]};return _(i,e,t,r),[i]}function ee(e,t,n,r){var i={id:"listeners",label:r("Listeners"),entries:[]},o=k(i,e,t,r),a={id:"listener-details",entries:[],enabled:function(e,t){return o.getSelectedListener(e,t)},label:function(e,t){return function(e,t){return s(e,"camunda:ExecutionListener")?t("Execution Listener"):s(e,"camunda:TaskListener")?t("Task Listener"):""}(o.getSelectedListener(e,t),r)}};j(a,e,t,o,r);var u={id:"listener-fields",label:r("Field Injection"),entries:[],enabled:function(e,t){return o.getSelectedListener(e,t)}};return C(u,e,t,o,r),[i,a,u]}function te(e,t,n,r){var i={id:"input-output",label:r("Parameters"),entries:[]},o=A(i,e,t,r),a={id:"input-output-parameter",entries:[],enabled:function(e,t){return o.getSelectedParameter(e,t)},label:function(e,t){var n=o.getSelectedParameter(e,t);return q(n,r)}};return N(a,e,t,o,r),[i,a]}function ne(e,t,n,r){var i={id:"connector-details",label:r("Details"),entries:[]};D(i,e,t,r);var o={id:"connector-input-output",label:r("Input/Output"),entries:[]},a=R(o,e,t,r),s={id:"connector-input-output-parameter",entries:[],enabled:function(e,t){return a.getSelectedParameter(e,t)},label:function(e,t){var n=a.getSelectedParameter(e,t);return q(n,r)}};return I(s,e,t,a,r),[i,o,s]}function re(e,t,n,r){var i={id:"field-injections-properties",label:r("Field Injections"),entries:[]};return $(i,e,t,r),[i]}function ie(e,t,n,r){var i={id:"extensionElements-properties",label:r("Properties"),entries:[]};return L(i,e,t,r),[i]}function oe(e,t,n,r,o,a){i.call(this,e),this.getTabs=function(e){var i={id:"general",label:a("General"),groups:K(e,t,n,r,o,a)},u={id:"variables",label:a("Variables"),groups:J(e,n,0,a)},c={id:"forms",label:a("Forms"),groups:Q(e,n,0,a)},l={id:"listeners",label:a("Listeners"),groups:ee(e,n,0,a),enabled:function(e){return!U.getLinkEventDefinition(e)||!s(e,"bpmn:IntermediateThrowEvent")&&U.getLinkEventDefinition(e)}},p={id:"input-output",label:a("Input/Output"),groups:te(e,n,0,a)},f={id:"connector",label:a("Connector"),groups:ne(e,n,0,a),enabled:function(e){var t=W.getServiceTaskLikeBusinessObject(e);return t&&"connector"===W.getImplementationType(t)}};return[i,u,f,c,l,p,{id:"field-injections",label:a("Field Injections"),groups:re(e,n,0,a)},{id:"extensionElements",label:a("Extensions"),groups:ie(e,n,0,a)}]}}oe.$inject=["eventBus","canvas","bpmnFactory","elementRegistry","elementTemplates","translate"],r(oe,i),e.exports=oe},6118:function(e,t,n){"use strict";var r=n(5687);function i(e,t){var n={};return e.target?(n.target=e.target,e.expression?n.sourceExpression=t:n.source=t):e.variables?(n.variables="all","local"===e.variables&&(n.local=!0)):(n.target=t,["source","sourceExpression"].forEach((function(t){e[t]&&(n[t]=e[t])}))),n}e.exports.gm=function(e,t,n){var r,i,o=e.scriptFormat;return o?i=n.create("camunda:Script",{scriptFormat:o,value:t}):r=t,n.create("camunda:InputParameter",{name:e.name,value:r,definition:i})},e.exports.qH=function(e,t,n){var r,i,o=e.scriptFormat;return o?i=n.create("camunda:Script",{scriptFormat:o,value:e.source}):r=e.source,n.create("camunda:OutputParameter",{name:t,value:r,definition:i})},e.exports.zU=function(e,t,n){return n.create("camunda:Property",{name:e.name,value:t||""})},e.exports.ko=function(e,t,n){var r=i(e,t);return n.create("camunda:In",r)},e.exports.DC=function(e,t,n){return n.create("camunda:In",{businessKey:t})},e.exports.Kn=function(e,t,n){var r=i(e,t);return n.create("camunda:Out",r)},e.exports.m1=function(e,t,n){var r,i,o=e.scriptFormat;return o?i=n.create("camunda:Script",{scriptFormat:o,value:t}):r=t,n.create("camunda:ExecutionListener",{event:e.event,value:r,script:i})},e.exports._P=function(e,t,n){var i=r({},{string:void 0,expression:void 0,name:void 0});return e.expression?i.expression=t:i.string=t,i.name=e.name,n.create("camunda:Field",i)}},3637:function(e,t,n){"use strict";var r=n(2534),i=n(1656).t4,o=n(7073);function a(e,t){o.call(this,e,1100),this.isEntryVisible=function(e,n){var r=i(n,t);if(r&&!function(e,t){var n=e.id;if("elementTemplate-chooser"===n||c(e))return!0;var r=t.entriesVisible||u;if("boolean"===typeof r)return r;var i=r._all||!1,o=r[n];return!0===i&&!1!==o||!1===i&&!0===o}(e,r))return!1},this.isPropertyEditable=function(e,n,r){var o=i(r,t);if(o&&!function(e,t){var n;if(c(e))return n=function(e,t){var n,r=t.id.replace("custom-"+e.id+"-","");if(-1!==r.indexOf("-")){var i=r.split("-");if(2==i.length){var o=i[0].replace(/_/g,":");if(n=parseInt(i[1],10),o&&!isNaN(n))return e.scopes[o].properties[n]}}else if(n=parseInt(r,10),!isNaN(n))return e.properties[n];throw new Error("cannot extract property index for entry <"+t.id+">")}(t,e),n&&!1!==n.editable;return!0}(e,o))return!1}}a.$inject=["eventBus","elementTemplates"],r(a,o),e.exports=a;var s=/^custom-/,u={_all:!1,id:!0,name:!0};function c(e){return s.test(e.id)}},693:function(e,t,n){"use strict";var r=n(2063);e.exports=function(){this._templates={},this.set=function(e){var t=this._templates={};return e.forEach((function(e){t[e.id]=e})),this},this.get=function(e){return this._templates[e]},this.getAll=function(){return r(this._templates)}}},495:function(e,t,n){"use strict";var r=n(4711);function i(e,t,n){this._loadTemplates=e,this._eventBus=t,this._elementTemplates=n;var r=this;t.on("diagram.init",(function(){r.reload()}))}e.exports=i,i.$inject=["config.elementTemplates","eventBus","elementTemplates"],i.prototype.reload=function(){var e=this,t=this._loadTemplates;if("undefined"!==typeof t)return"function"===typeof t?t((function(t,n){if(t)return e.templateErrors([t]);e.setTemplates(n)})):t.length?this.setTemplates(t):void 0},i.prototype.setTemplates=function(e){var t=this._elementTemplates,n=(new r).addAll(e),i=n.getErrors(),o=n.getValidTemplates();t.set(o),i.length&&this.templateErrors(i),this.templatesChanged()},i.prototype.templatesChanged=function(){this._eventBus.fire("elementTemplates.changed")},i.prototype.templateErrors=function(e){this._eventBus.fire("elementTemplates.errors",{errors:e})}},1656:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(6008).J,a=n(1996),s="camunda:modelerTemplate";function u(e){var t=r(e);if(t)return t.get(s)}function c(e){var t=r(e);return i(t,"bpmn:ExtensionElements")?t:t.extensionElements}function l(e,t){if("camunda:in"===t.type&&t.target)return e.target===t.target;if("camunda:out"===t.type){if(t.source)return e.source===t.source;if(t.sourceExpression)return e.sourceExpression===t.sourceExpression}return t.variables?"all"===e.variables&&("local"!==t.variables||e.local):void 0}e.exports.aW=s,e.exports.E6=u,e.exports.t4=function(e,t){var n=u(e);return n&&t.get(n)},e.exports.NJ=function(e,t){return t.getAll().filter((function(t){return o(e,t.appliesTo)&&t.isDefault}))[0]},e.exports.xc=function(e,t){var n,o=r(e);return(n=i(o,"bpmn:ExtensionElements")?o:o.extensionElements)?a(n.get("values"),(function(e){return i(e,t)})):null},e.exports.yl=function(e,t){var n=c(e);return n?n.get("values").filter((function(e){return o(e,t)})):[]},e.exports.GG=function(e,t){var n,r=c(e);if(r)return"camunda:in"===t.type?n=function(e){return i(e,"camunda:In")&&l(e,t)}:"camunda:out"===t.type?n=function(e){return i(e,"camunda:Out")&&l(e,t)}:"camunda:in:businessKey"===t.type&&(n=function(e){return i(e,"camunda:In")&&"businessKey"in e}),a(r.get("values"),n)},e.exports.o=function(e,t){return a(e.get("values"),(function(e){return e.name===t.name}))},e.exports.L6=function(e,t){var n=e.get("inputParameters");return a(n,(function(e){return e.name===t.name}))},e.exports.WQ=function(e,t){var n=e.get("outputParameters");return a(n,(function(e){var n=e.value;if(!t.scriptFormat)return n===t.source;var r=e.definition;return!(!r||t.scriptFormat!==r.scriptFormat)&&r.value===t.source}))}},4711:function(e,t,n){"use strict";var r=n(3629),i=n(8092),o="Dropdown",a=["String","Text","Boolean","Hidden",o],s="property",u="camunda:property",c="camunda:inputParameter",l="camunda:outputParameter",p="camunda:in",f="camunda:out",d="camunda:executionListener",h="camunda:field",y=[s,u,c,l,p,f,"camunda:in:businessKey",d,h];function v(e){return"name"in e&&"value"in e}e.exports=function(){this._templatesById={},this._validTemplates=[],this._errors=[],this.addAll=function(e){return r(e)?e.forEach(this.add,this):this._logError("templates must be []"),this},this.add=function(e){return this._validateTemplate(e)||(this._templatesById[e.id]=e,this._validTemplates.push(e)),this},this._validateTemplate=function(e){var t,n=e.id,i=e.appliesTo,o=e.properties,a=e.scopes;return n?n in this._templatesById?this._logError("template id <"+n+"> already used"):(r(i)||(t=this._logError("missing appliesTo=[]",e)),r(o)?this._validateProperties(o)||(t=new Error("invalid properties")):t=this._logError("missing properties=[]",e),a&&(t=this._validateScopes(e,a)),t):this._logError("missing template id")},this._validateScopes=function(e,t){var n,o,a;if(!i(t)||r(t))return this._logError("invalid scopes, should be scopes={}",e);for(a in t)o=t[a],i(o)&&!r(o)||(n=this._logError("invalid scope, should be scope={}",e)),r(o.properties)?this._validateProperties(o.properties)||(n=new Error("invalid properties in scope <"+a+">")):n=this._logError("missing properties=[] in scope <"+a+">",e);return n},this._validateProperties=function(e){var t=e.filter(this._validateProperty,this);return e.length===t.length},this._validateProperty=function(e){var t,n=e.type,i=e.binding,m=i.type;return-1===a.indexOf(n)&&(t=this._logError("invalid property type <"+n+">; must be any of { "+a.join(", ")+" }")),n===o&&m!==d&&(r(e.choices)?e.choices.every(v)||(t=this._logError("{ name, value } must be specified for Dropdown choices")):t=this._logError("must provide choices=[] with Dropdown type")),i?(-1===y.indexOf(m)&&(t=this._logError("invalid property.binding type <"+m+">; must be any of { "+y.join(", ")+" }")),m!==s&&m!==u&&m!==c&&m!==h||i.name||(t=this._logError("property.binding <"+m+"> requires name")),m===l&&(i.source||(t=this._logError("property.binding <"+m+"> requires source"))),m===p&&(i.variables||i.target||(t=this._logError("property.binding <"+m+"> requires variables or target"))),m===f&&(i.variables||i.source||i.sourceExpression||(t=this._logError("property.binding <"+m+"> requires variables, sourceExpression or source"))),m===d&&"Hidden"!==n&&(t=this._logError("invalid property type <"+n+"> for "+"camunda:executionListener; must be <Hidden>")),!t):this._logError("property missing binding")},this._logError=function(e,t){return"string"===typeof e&&(t&&(e="template(id: "+t.id+") "+e),e=new Error(e)),this._errors.push(e),e},this.getErrors=function(){return this._errors},this.getValidTemplates=function(){return this._validTemplates}}},1579:function(e,t,n){"use strict";var r=n(1656).xc,i=n(1656).yl,o=n(6118).zU,a=n(6118).gm,s=n(6118).qH,u=n(6118).ko,c=n(6118).Kn,l=n(6118).DC,p=n(6118).m1,f=n(6118)._P,d=n(6514),h=["camunda:class","camunda:delegateExpression","camunda:expression"];function y(e,t,n){function y(t){var r=t.businessObject.extensionElements;return r||(r=n.create("bpmn:ExtensionElements",{values:[]}),e.updateProperties(t,{extensionElements:r})),r}function v(e,i,o){var u,c=function(e,t){var n=[],r=[];if(e.properties.forEach((function(e){var i=e.binding,o=i.type;"camunda:inputParameter"===o&&n.push(a(i,e.value,t)),"camunda:outputParameter"===o&&r.push(s(i,e.value,t))})),r.length||n.length)return t.create("camunda:InputOutput",{inputParameters:n,outputParameters:r})}(i,n);c&&(o?t.execute("properties-panel.update-businessobject",{element:e,businessObject:o,properties:{inputOutput:c}}):(o=y(e),u=r(e,"camunda:InputOutput"),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:o,propertyName:"values",objectsToAdd:[c],objectsToRemove:u?[u]:[]})))}function m(e,r,o){var a,s=function(e,t){var n=[];if(e.properties.forEach((function(e){var r=e.binding;"camunda:field"===r.type&&n.push(f(r,e.value,t))})),n.length)return n}(r,n);s&&(o?t.execute("properties-panel.update-businessobject",{element:e,businessObject:o,properties:{field:s}}):(o=y(e),a=i(e,["camunda:Field"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:o,propertyName:"values",objectsToAdd:s,objectsToRemove:a||[]})))}function g(e,i,a){var s,u=function(e,t){var n=[];if(e.properties.forEach((function(e){var r=e.binding;"camunda:property"===r.type&&n.push(o(r,e.value,t))})),n.length)return t.create("camunda:Properties",{values:n})}(i,n);u&&(a?t.execute("properties-panel.update-businessobject",{element:e,businessObject:a,properties:{properties:u}}):(a=y(e),s=r(e,"camunda:Properties"),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:a,propertyName:"values",objectsToAdd:[u],objectsToRemove:s?[s]:[]})))}function b(r,i,o){var a=function(e,t){var n={};return e.properties.forEach((function(e){var r,i=e.binding,o=i.name;"property"===i.type&&(r="conditionExpression"===o?t.create("bpmn:FormalExpression",{body:e.value,language:i.scriptFormat}):e.value,n[o]=r,-1!==h.indexOf(o)&&h.forEach((function(e){e!==o&&(n[e]=void 0)})))})),n}(i,n);Object.keys(a).length&&(o?t.execute("properties-panel.update-businessobject",{element:r,businessObject:o,properties:a}):e.updateProperties(r,a))}function x(e,r,o){var a,s=function(e,t){var n=[];return e.properties.forEach((function(e){var r=e.binding,i=r.type;"camunda:in"===i?n.push(u(r,e.value,t)):"camunda:out"===i?n.push(c(r,e.value,t)):"camunda:in:businessKey"===i&&n.push(l(r,e.value,t))})),n}(r,n);s&&(o?t.execute("properties-panel.update-businessobject",{element:e,businessObject:o,properties:{inout:s}}):(o=y(e),a=i(o,["camunda:In","camunda:Out"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:o,propertyName:"values",objectsToAdd:s,objectsToRemove:a})))}function w(e,r,o){var a,s=function(e,t){var n=[];return e.properties.forEach((function(e){var r=e.binding;"camunda:executionListener"===r.type&&n.push(p(r,e.value,t))})),n}(r,n);s.length&&(o?t.execute("properties-panel.update-businessobject",{element:e,businessObject:o,properties:{executionListener:s}}):(o=y(e),a=i(o,["camunda:ExecutionListener"]),t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:o,propertyName:"values",objectsToAdd:s,objectsToRemove:a})))}this.preExecute=function(i){var o=i.element,a=i.newTemplate;!function(t,n){e.updateProperties(t,{"camunda:modelerTemplate":n&&n.id})}(o,a),a&&(v(o,a),m(o,a),g(o,a),b(o,a),x(o,a),w(o,a),d(a.scopes,(function(e,i){!function(e,i,o){var a=n.create(i);v(e,o,a),m(e,o,a),g(e,o,a),b(e,o,a),x(e,o,a),w(e,o,a);var s=y(e),u=r(s,i);t.execute("properties-panel.update-businessobject-list",{element:e,currentObject:s,propertyName:"values",objectsToAdd:[a],objectsToRemove:u?[u]:[]})}(o,i,e)})))}}y.$inject=["modeling","commandStack","bpmnFactory"],e.exports=y},4822:function(e,t,n){"use strict";var r=n(1579),i=n(1656).t4,o=n(1656).NJ;function a(e,t,n,i){e.registerHandler("propertiesPanel.camunda.changeTemplate",r),n.on(["commandStack.shape.create.postExecuted"],(function(n){s(n.context.shape,t,e)})),n.on(["commandStack.connection.create.postExecuted"],(function(n){s(n.context.connection,t,e)}))}function s(e,t,n){if(!i(e,t)&&o(e,t)){var r={element:e,newTemplate:o(e,t)};n.execute("propertiesPanel.camunda.changeTemplate",r)}}a.$inject=["commandStack","elementTemplates","eventBus","elementRegistry"],e.exports={__init__:[a]}},5510:function(e,t,n){e.exports={__depends__:[n(4822),n(5234).Z],__init__:["customElementsPropertiesActivator","elementTemplatesLoader"],customElementsPropertiesActivator:["type",n(3637)],elementTemplates:["type",n(693)],elementTemplatesLoader:["type",n(495)]}},6089:function(e,t,n){"use strict";var r=n(1494),i=n(4422).is,o=n(1656).t4,a=n(1656).E6,s=n(1996),u=n(1656).aW;function c(e){return e.isDefault}e.exports=function(e,t,n,l){var p=function(e,t,n){var r=a(e),o={name:"",value:""},u=t.getAll().reduce((function(t,r){return function(e,t){return t.reduce((function(t,n){return t||i(e,n)}),!1)}(e,r.appliesTo)?t.concat({name:n(r.name),value:r.id,isDefault:r.isDefault}):t}),[o]),l=s(u,(function(e){return c(e)})),p=s(u,(function(e){return e.value===r}));r&&!p&&(p=function(e,t){return{name:t("[unknown template: {templateId}]",{templateId:e}),value:e}}(r,n),u.push(p));if(!l)return u;var f=[];r||f.push({name:"",value:""});p&&p!==l&&f.push(p);return f.push(l),f}(t,n,l);(1!==p.length||p[0].isDefault)&&e.entries.push(r.selectBox({id:"elementTemplate-chooser",label:l("Element Template"),modelProperty:"camunda:modelerTemplate",selectOptions:p,set:function(e,t){return function(e,t,n){var r=o(e,n),i=n.get(t);if(r===i)return;return{cmd:"propertiesPanel.camunda.changeTemplate",context:{element:e,oldTemplate:r,newTemplate:i}}}(e,t[u],n)},disabled:function(){var e=o(t,n);return e&&c(e)}}))}},9127:function(e,t,n){"use strict";var r=n(5687),i=n(1494),o=n(4422).getBusinessObject,a=n(1656).t4,s=n(9685),u=n(8050),c=n(1656).xc,l=n(1656).yl,p=n(1656).L6,f=n(1656).WQ,d=n(1656).o,h=n(1656).GG,y=n(6118).zU,v=n(6118).gm,m=n(6118).qH,g=n(6118).ko,b=n(6118).Kn,x=n(6118).DC,w=n(6118)._P,E="camunda:property",_="camunda:inputParameter",S="camunda:outputParameter",O="camunda:in",P="camunda:out",k="camunda:in:businessKey",j="camunda:field",C=["Boolean","Integer","String"],T=[E,_,S,O,P,k,j],M=[_,S],A=[O,P,k];function N(e,t,n){return function(r,i){var o=i[e];return I(r,t,o,n)}}function D(e,t,n){return function(r,i){var o=function(e,t,n){var r=t.constraints||{};if(r.notEmpty&&(i=e,!i||/^\s*$/.test(i)))return n("Must not be empty");var i;if(r.maxLength&&e.length>r.maxLength)return n("Must have max length {length}",{length:r.maxLength});if(r.minLength&&e.length<r.minLength)return n("Must have min length {length}",{length:r.minLength});var o,a=r.pattern;if(a&&("string"!==typeof a&&(o=a.message,a=a.value),!function(e,t){return new RegExp(t).test(e)}(e,a)))return o||n("Must match pattern {pattern}",{pattern:a})}(i[e],t,n);if(o)return B(e,o)}}function R(e,t){var n,r,i,a,s,u,y=o(e),v=t.binding,m=t.scope,g=v.type,b=v.name,x=t.value||"";if(m&&!(y=c(y,m.name)))return x;if("property"===g){var w=y.get(b);return"conditionExpression"===b?w?w.body:x:"undefined"!==typeof w?w:x}if(g===E)return(n=m?y.get("properties"):c(y,"camunda:Properties"))&&(r=d(n,v))?r.value:x;if(-1!==M.indexOf(g)&&!(i=m?y.get("inputOutput"):c(y,"camunda:InputOutput")))return x;if(g===_){if(a=p(i,v)){if(!v.scriptFormat)return a.value||"";if(a.definition)return a.definition.value}return x}if(v.type===S)return(a=f(i,v))?a.name:x;if(-1!=A.indexOf(g)){if(s=h(y,v)){if(g===k)return s.businessKey;if(g===P)return s.target;if(g===O)return s[v.expression?"sourceExpression":"source"]}return x}if("camunda:executionListener"===g)return(m?y.get("executionListener"):c(y,"camunda:ExecutionListener")).script.value;if(j===g)return l(y,["camunda:Field"]).forEach((function(e){e.name===v.name&&(u=e)})),u?u.string||u.expression:"";throw function(e){var t=e.binding;return new Error("unknown binding: <"+t.type+">")}(t)}function I(e,t,n,r){var i,a,k,N,D,R,I,L,F,z,V=o(e),H=t.binding,$=t.scope,G=H.type,U=H.name,W=[];if(-1!==T.indexOf(G)&&((a=V.get("extensionElements"))||(a=u.createElement("bpmn:ExtensionElements",null,e,r),W.push(s.updateBusinessObject(e,V,B("extensionElements",a))))),$&&((V=c(V,$.name))||(V=u.createElement($.name,null,e,r),W.push(s.addElementsTolist(V,a,"values",[V])))),"property"===G){if("conditionExpression"===U)i=u.createElement("bpmn:FormalExpression",{body:n,language:H.scriptFormat},V,r);else{var X=V.$descriptor.propertiesByName[U].type;if(-1===C.indexOf(X))throw new Error("cannot set moddle type <"+X+">");"Boolean"===X?i=!!n:"Integer"===X?(i=parseInt(n,10),isNaN(i)&&(i=void 0)):i=n}void 0!==i&&W.push(s.updateBusinessObject(e,V,B(U,i)))}if(G===E&&((k=$?V.get("properties"):c(a,"camunda:Properties"))||(k=u.createElement("camunda:Properties",null,V,r),$?W.push(s.updateBusinessObject(e,V,{properties:k})):W.push(s.addElementsTolist(e,a,"values",[k]))),N=d(k,H),D=y(H,n,r),W.push(s.addAndRemoveElementsFromList(e,k,"values",null,[D],N?[N]:[]))),-1!==M.indexOf(G)&&((R=$?V.get("inputOutput"):c(a,"camunda:InputOutput"))||(R=u.createElement("camunda:InputOutput",null,V,r),$?W.push(s.updateBusinessObject(e,V,{inputOutput:R})):W.push(s.addElementsTolist(e,a,"values",R)))),G===_&&(I=p(R,H),L=v(H,n,r),W.push(s.addAndRemoveElementsFromList(e,R,"inputParameters",null,[L],I?[I]:[]))),G===S&&(I=f(R,H),L=m(H,n,r),W.push(s.addAndRemoveElementsFromList(e,R,"outputParameters",null,[L],I?[I]:[]))),-1!==A.indexOf(G)&&(F=h(V,H),z=G===O?g(H,n,r):G===P?b(H,n,r):x(H,n,r),W.push(s.addAndRemoveElementsFromList(e,a,"values",null,[z],F?[F]:[]))),G===j){var Z=l(V,["camunda:Field"]),q=[];Z.length>0?Z.forEach((function(e){e.name===H.name?q.push(w(H,n,r)):q.push(e)})):q.push(w(H,n,r)),W.push(s.addAndRemoveElementsFromList(e,a,"values",null,q,Z||[]))}if(W.length)return W;console.warn("no update",e,t,n)}function L(e,t){return t?r({},e,{scope:{name:t}}):e}function B(e,t){var n={};return n[e]=t,n}e.exports=function(e,t,n,r){var o=a(e,t);if(!o)return[];var s,u,c=function(e,t,o){var a,s,u,c=t.type,l={id:e,description:t.description,label:t.label?r(t.label):t.label,modelProperty:e,get:(a=e,s=t,function(e){var t=R(e,s);return B(a,t)}),set:N(e,t,n),validate:D(e,t,r)};return"Boolean"===c&&(u=i.checkbox(l)),"String"===c&&(u=i.textField(l)),"Text"===c&&(u=i.textBox(l)),"Dropdown"===c&&(l.selectOptions=t.choices,u=i.selectBox(l)),u},l=[],p={id:"customField",label:r("Custom Fields"),entries:[]};if(o.properties.forEach((function(e,t){s="custom-"+o.id+"-"+t,(u=c(s,e))&&p.entries.push(u)})),p.entries.length>0&&l.push(p),o.scopes)for(var f in o.scopes){var d=o.scopes[f],h=f.replace(/:/g,"_"),y={id:"customField-"+h,label:r("Custom Fields for scope: ")+f,entries:[]};d.properties.forEach((function(e,t){var n="custom-"+o.id+"-"+h+"-"+t,r=L(e,f);(u=c(n,r))&&y.entries.push(u)})),y.entries.length>0&&l.push(y)}return l},e.exports.getPropertyValue=R,e.exports.setPropertyValue=I},7839:function(e,t,n){e.exports={__depends__:[n(5510),n(5234).Z],__init__:["propertiesProvider"],propertiesProvider:["type",n(7908)]}},1566:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(3305);e.exports=function(e,t,n,a){i(t,"camunda:AsyncCapable")&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:r},a)))}},6158:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(1494),a=n(8695),s=n(9685),u=n(3613),c=n(5687);function l(e){var t=r(e),n=t.get("calledElement"),i=t.get("camunda:caseRef"),o="";return"undefined"!==typeof n?o="bpmn":"undefined"!==typeof i&&(o="cmmn"),o}var p={calledElement:void 0,"camunda:calledElementBinding":"latest","camunda:calledElementVersion":void 0,"camunda:calledElementTenantId":void 0,"camunda:variableMappingClass":void 0,"camunda:variableMappingDelegateExpression":void 0,"camunda:caseRef":void 0,"camunda:caseBinding":"latest","camunda:caseVersion":void 0,"camunda:caseTenantId":void 0};e.exports=function(e,t,n,r){i(t,"camunda:CallActivity")&&(e.entries.push(o.selectBox({id:"callActivity",label:r("CallActivity Type"),selectOptions:[{name:"BPMN",value:"bpmn"},{name:"CMMN",value:"cmmn"}],emptyParameter:!0,modelProperty:"callActivityType",get:function(e,t){return{callActivityType:l(e)}},set:function(e,t,n){var r=t.callActivityType,i=c({},p);return"bpmn"===r?i.calledElement="":"cmmn"===r&&(i["camunda:caseRef"]=""),s.updateProperties(e,i)}})),e.entries.push(a(t,n,{getCallableType:l},r)),e.entries=u(e.entries))}},5545:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(5365);e.exports=function(e,t,n,a){var s=i(t);(r(t,"camunda:Process")||r(t,"bpmn:Participant")&&s.get("processRef"))&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},a)))}},1946:function(e,t,n){"use strict";var r=n(4422).is,i=n(6008).J,o=n(4422).getBusinessObject,a=n(291).escapeHTML,s=n(5787).IO,u=n(9685),c=n(8050),l=n(9899),p=n(2496);e.exports=function(e,t,n,d){var h=o(t);if(h){var y=l.getConditionalEventDefinition(t);if(r(t,"bpmn:SequenceFlow")&&function(e){return i(e,f)}(t.source)||y){var v=p("language","body",!0,d);e.entries.push({id:"condition",label:d("Condition"),html:'<div class="bpp-row"><label for="cam-condition-type">'+a(d("Condition Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-condition-type" name="conditionType" data-value><option value="expression">'+a(d("Expression"))+'</option><option value="script">'+a(d("Script"))+'</option><option value="" selected></option></select></div></div><div class="bpp-row"><label for="cam-condition" data-show="isExpression">'+a(d("Expression"))+'</label><div class="bpp-field-wrapper" data-show="isExpression"><input id="cam-condition" type="text" name="condition" /><button class="clear" data-action="clear" data-show="canClear"><span>X</span></button></div><div data-show="isScript">'+v.template+"</div></div>",get:function(e,t){var n=l.getConditionalEventDefinition(e),r=n?n.condition:h.conditionExpression,i={},o="";r&&("undefined"!==typeof r.language?(o="script",i=v.get(e,r)):(o="expression",i.condition=r.get("body")));return i.conditionType=o,i},set:function(e,t,r){var i,o=t.conditionType,a=[],s={body:void 0};if("script"===o)s=v.set(e,t,r);else{var l=t.condition;s.body=l}if(o){i=c.createElement("bpmn:FormalExpression",s,y||h,n);var p=e.source;p&&p.businessObject.default===h&&a.push(u.updateProperties(p,{default:void 0}))}var f=y?{condition:i}:{conditionExpression:i};return a.push(u.updateBusinessObject(e,y||h,f)),a},validate:function(e,t){var n={};return t.condition||"expression"!==t.conditionType?"script"===t.conditionType&&(n=v.validate(e,t)):n.condition=d("Must provide a value"),n},isExpression:function(e,t){var n=s("select[name=conditionType]",t);if(n.selectedIndex>=0)return"expression"===n.options[n.selectedIndex].value},isScript:function(e,t){var n=s("select[name=conditionType]",t);if(n.selectedIndex>=0)return"script"===n.options[n.selectedIndex].value},clear:function(e,t){return s("input[name=condition]",t).value="",!0},canClear:function(e,t){return""!==s("input[name=condition]",t).value},script:v,cssClasses:["bpp-textfield"]})}}};var f=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ComplexGateway"]},9600:function(e,t,n){"use strict";var r=n(7047),i=n(1039),o=n(1494),a=n(9685);function s(e){return r.getServiceTaskLikeBusinessObject(e)}function u(e){return i.getConnector(e)}function c(e){return"connector"===function(e){return r.getImplementationType(e)}(e)}e.exports=function(e,t,n,r){e.entries.push(o.textField({id:"connectorId",label:r("Connector Id"),modelProperty:"connectorId",get:function(e,t){var n=s(e),r=n&&u(n);return{connectorId:r&&r.get("connectorId")}},set:function(e,t,n){var r=u(s(e));return a.updateBusinessObject(e,r,{connectorId:t.connectorId||void 0})},validate:function(e,t,n){return c(e)&&!t.connectorId?{connectorId:r("Must provide a value")}:{}},hidden:function(e,t){return!c(e)}}))}},9746:function(e,t,n){"use strict";var r=n(5687),i=n(1090);e.exports=function(e,t,n,o,a){o=r({idPrefix:"connector-",insideConnector:!0},o),e.entries=e.entries.concat(i(t,n,o,a))}},7018:function(e,t,n){"use strict";var r=n(2603);e.exports=function(e,t,n,i){var o=r(t,n,{idPrefix:"connector-",insideConnector:!0},i);return e.entries=e.entries.concat(o.entries),{getSelectedParameter:o.getSelectedParameter}}},2247:function(e,t,n){"use strict";var r=n(4422).is,i=n(9899),o=n(3205),a=n(6514);e.exports=function(e,t,n,s){a(["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"],(function(a){if(r(t,a)){var u=i.getErrorEventDefinition(t);if(u){var c=r(t,"bpmn:StartEvent")||r(t,"bpmn:BoundaryEvent");o(e,t,n,u,c,c,s)}}}))}},9641:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(7047),a=n(8148);e.exports=function(e,t,n,s){var u=function(e){var t=o.getServiceTaskLikeBusinessObject(e);return t||(t=i(e)),t}(t);u&&(r(u,"camunda:TaskPriorized")||r(u,"bpmn:Participant")&&u.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){return r(u,"bpmn:Participant")?u.get("processRef"):u}},s)))}},3890:function(e,t,n){"use strict";var r=n(7047),i=n(4887);e.exports=function(e,t,n,o){var a=r.getServiceTaskLikeBusinessObject(t);if(a){var s=i(t,n,o,{businessObject:a});s&&s.length>0&&(e.entries=e.entries.concat(s))}}},8365:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(5720).getExtensionElements,o=n(5720).removeEntry,a=n(7871),s=n(4814),u=n(1494),c=n(8050),l=n(9685),p=n(6804),f=n(291),d=n(4422).is,h=n(1996),y=n(6514);function v(e,t){var n=e.id,r=e.label,i=e.modelProperty,o=e.validate;return u.textField({id:n,label:r,modelProperty:i,get:function(e,n){var r=t(e,n)||{},o={};return o[i]=r[i],o},set:function(n,r,o){var a=[];if("function"===typeof e.set){var s=e.set(n,r,o);s&&a.push(s)}var u=t(n,o),c={};return c[i]=r[i]||void 0,a.push(l.updateBusinessObject(n,u,c)),a},hidden:function(e,n){return!t(e,n)},validate:o})}e.exports=function(e,t,n,m){if(function(e){return d(e,"bpmn:StartEvent")&&!d(e.parent,"bpmn:SubProcess")||d(e,"bpmn:UserTask")}(t)){e.entries.push(u.textField({id:"form-key",label:m("Form Key"),modelProperty:"formKey",get:function(e,t){return{formKey:r(e).get("camunda:formKey")}},set:function(e,t,n){var i=r(e),o=t.formKey||void 0;return l.updateBusinessObject(e,i,{"camunda:formKey":o})}}));var g=a(t,n,{id:"form-fields",label:m("Form Fields"),modelProperty:"id",prefix:"FormField",createExtensionElement:function(e,t,i){var o=r(e),a=[];t||(t=c.createElement("bpmn:ExtensionElements",{values:[]},o,n),a.push(l.updateProperties(e,{extensionElements:t})));var s=p.getFormData(e);s||(s=c.createElement("camunda:FormData",{fields:[]},t,n),a.push(l.addAndRemoveElementsFromList(e,t,"values","extensionElements",[s],[])));var u=c.createElement("camunda:FormField",{id:i},s,n);return"undefined"!==typeof s.fields?a.push(l.addElementsTolist(e,s,"fields",[u])):a.push(l.updateBusinessObject(e,s,{fields:[u]})),a},removeExtensionElement:function(e,t,n,a){var s=i(r(e),"camunda:FormData")[0],u=s.fields[a],c=[];return s.fields.length<2?c.push(o(r(e),e,s)):(c.push(l.removeElementsFromList(e,s,"fields",null,[u])),u.id===s.get("businessKey")&&c.push(l.updateBusinessObject(e,s,{businessKey:void 0}))),c},getExtensionElements:function(e){return p.getFormFields(e)},hideExtensionElements:function(e,t){return!1}});e.entries.push(g);var b=u.selectBox({id:"form-business-key",label:m("Business Key"),modelProperty:"businessKey",selectOptions:function(e,t){var n=[{name:"",value:""}],r=p.getFormFields(e);return y(r,(function(e){"boolean"!==e.type&&n.push({name:e.id,value:e.id})})),n},get:function(e,t){var n={businessKey:""},o=r(e),a=i(o,"camunda:FormData");a&&(n={businessKey:a[0].get("businessKey")});return n},set:function(e,t,n){var o=i(r(e),"camunda:FormData")[0];return l.updateBusinessObject(e,o,{businessKey:t.businessKey||void 0})},hidden:function(e,t){return!(d(e,"bpmn:StartEvent")&&p.getFormFields(e).length>0)}});e.entries.push(b),e.entries.push(u.label({id:"form-field-header",labelText:m("Form Field"),showLabel:function(e,t){return!!x(e,t)}})),e.entries.push(u.validationAwareTextField({id:"form-field-id",label:m("ID"),modelProperty:"id",getProperty:function(e,t){return(x(e,t)||{}).id},setProperty:function(e,t,n){var r=x(e,n);return l.updateBusinessObject(e,r,t)},hidden:function(e,t){return!x(e,t)},validate:function(e,t,n){var r=x(e,n);if(r){var i=t.id;if(!i||""===i.trim())return{id:"Form field id must not be empty"};var o=p.getFormFields(e);if(h(o,(function(e){return e!==r&&e.id===i})))return{id:"Form field id already used in form data."}}}})),e.entries.push(u.comboBox({id:"form-field-type",label:m("Type"),selectOptions:[{name:"string",value:"string"},{name:"long",value:"long"},{name:"boolean",value:"boolean"},{name:"date",value:"date"},{name:"enum",value:"enum"}],modelProperty:"type",emptyParameter:!0,get:function(e,t){var n=x(e,t);return n?{type:n.type}:{}},set:function(e,t,n){var o=x(e,n),a=i(r(e),"camunda:FormData")[0],s=[];return"enum"===o.type&&"enum"!==t.type&&s.push(l.updateBusinessObject(e,o,{values:void 0})),"boolean"===t.type&&o.get("id")===a.get("businessKey")&&s.push(l.updateBusinessObject(e,a,{businessKey:void 0})),s.push(l.updateBusinessObject(e,o,t)),s},hidden:function(e,t){return!x(e,t)}})),e.entries.push(v({id:"form-field-label",label:m("Label"),modelProperty:"label"},x)),e.entries.push(v({id:"form-field-defaultValue",label:m("Default Value"),modelProperty:"defaultValue"},x)),e.entries.push(u.label({id:"form-field-enum-values-header",labelText:m("Values"),divider:!0,showLabel:function(e,t){var n=x(e,t);return n&&"enum"===n.type}})),e.entries.push(u.table({id:"form-field-enum-values",labels:[m("Id"),m("Name")],modelProperties:["id","name"],show:function(e,t){var n=x(e,t);return n&&"enum"===n.type},getElements:function(e,t){var n=x(e,t);return p.getEnumValues(n)},addElement:function(e,t){var i=x(e,t),o=f.nextId("Value_"),a=c.createElement("camunda:Value",{id:o,name:void 0},r(e),n);return l.addElementsTolist(e,i,"values",[a])},removeElement:function(e,t,n){var r=x(e,t),i=r.values[n];return l.removeElementsFromList(e,r,"values",null,[i])},updateElement:function(e,t,n,r){var i=x(e,n).values[r];return t.name=t.name||void 0,l.updateBusinessObject(e,i,t)},validate:function(e,t,n,r){var i=x(e,n).values[r];if(i){var o=f.isIdValid(i,t.id,m);if(o)return{id:o}}}})),e.entries.push(u.label({id:"form-field-validation-header",labelText:m("Validation"),divider:!0,showLabel:function(e,t){return!!x(e,t)}})),e.entries.push(u.table({id:"constraints-list",modelProperties:["name","config"],labels:[m("Name"),m("Config")],addLabel:m("Add Constraint"),getElements:function(e,t){var n=x(e,t);return p.getConstraints(n)},addElement:function(e,t){var i=[],o=x(e,t),a=o.validation;a||(a=c.createElement("camunda:Validation",{},r(e),n),i.push(l.updateBusinessObject(e,o,{validation:a})));var s=c.createElement("camunda:Constraint",{name:void 0,config:void 0},a,n);return i.push(l.addElementsTolist(e,a,"constraints",[s])),i},updateElement:function(e,t,n,r){var i=x(e,n),o=p.getConstraints(i)[r];return t.name=t.name||void 0,t.config=t.config||void 0,l.updateBusinessObject(e,o,t)},removeElement:function(e,t,n){var r=[],i=x(e,t),o=p.getConstraints(i),a=o[n];return r.push(l.removeElementsFromList(e,i.validation,"constraints",null,[a])),1===o.length&&r.push(l.updateBusinessObject(e,i,{validation:void 0})),r},show:function(e,t){return!!x(e,t)}})),e.entries.push(u.label({id:"form-field-properties-header",labelText:m("Properties"),divider:!0,showLabel:function(e,t){return!!x(e,t)}})),e.entries.push(s(t,n,{id:"form-field-properties",modelProperties:["id","value"],labels:[m("Id"),m("Value")],getParent:function(e,t){return x(e,t)},show:function(e,t){return!!x(e,t)}},m))}function x(e,t){var n=g.getSelected(e,t.parentNode);if(-1!==n.idx)return p.getFormField(e,n.idx)}}},1571:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(3604);e.exports=function(e,t,n,a){var s=i(t);(r(t,"camunda:Process")||r(t,"bpmn:Participant")&&s.get("processRef"))&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},a)))}},5332:function(e,t,n){"use strict";var r=n(1090),i=n(5687);e.exports=function(e,t,n,o,a){e.entries=e.entries.concat(r(t,n,i({},o),a))}},3285:function(e,t,n){"use strict";var r=n(2603);e.exports=function(e,t,n,i){var o=r(t,n,{},i);return e.entries=e.entries.concat(o.entries),{getSelectedParameter:o.getSelectedParameter}}},681:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(7823),a=n(4291);e.exports=function(e,t,n,s){var u=i(t);(r(t,"camunda:JobPriorized")||r(t,"bpmn:Participant")&&u.get("processRef"))&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s))),r(t,"camunda:AsyncCapable")&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:i},s)))}},8187:function(e,t,n){"use strict";var r=n(4422).is,i=n(870).sE,o=n(1494),a=n(9685),s=n(7047),u=n(2496),c=n(3117);function l(e){return"timeout"===(e&&e.event)}e.exports=function(e,t,n,p,f){var d={class:f("Java Class"),expression:f("Expression"),delegateExpression:f("Delegate Expression"),script:f("Script")},h=(p=p||{}).getSelectedListener,y="class",v="expression",m="delegateExpression",g="script",b=s.isSequenceFlow(t)?[{name:f("take"),value:"take"}]:[{name:f("start"),value:"start"},{name:f("end"),value:"end"}],x=[{name:f("create"),value:"create"},{name:f("assignment"),value:"assignment"},{name:f("complete"),value:"complete"},{name:f("delete"),value:"delete"},{name:f("update"),value:"update"},{name:f("timeout"),value:"timeout"}],w=function(e,t){return h(e,t)};e.entries.push(o.selectBox({id:"listener-event-type",label:f("Event Type"),modelProperty:"eventType",emptyParameter:!1,get:function(e,t){var n=h(e,t);return{eventType:n&&n.get("event")}},set:function(e,t,n){var r=t.eventType,i=h(e,n),o=i&&i.eventDefinitions;return o&&"timeout"!==r&&(o=[]),a.updateBusinessObject(e,i,{event:r,eventDefinitions:o})},selectOptions:function(e,t){var n,r=h(e,t);return s.isTaskListener(r)?n=x:s.isExecutionListener(r)&&(n=b),n},hidden:function(e,t){return!w(e,t)}})),e.entries.push(o.textField({id:"listener-id",label:f("Listener Id"),modelProperty:"listenerId",get:function(e,t){var n={},r=h(e,t);return n.listenerId=r&&r.get("id")||void 0,n},set:function(e,t,n){var r={},i=h(e,n);return r.id=t.listenerId||"",a.updateBusinessObject(e,i,r)},hidden:function(e,t){var n=h(e,t);return!s.isTaskListener(n)},validate:function(e,t,n){var r=t.listenerId,i=h(e,n),o={};return!r&&l(i)&&(o.listenerId=f("Must provide a value for timeout task listener")),o}})),e.entries.push(o.selectBox({id:"listener-type",label:f("Listener Type"),selectOptions:[{value:y,name:f("Java Class")},{value:v,name:f("Expression")},{value:m,name:f("Delegate Expression")},{value:g,name:f("Script")}],modelProperty:"listenerType",emptyParameter:!1,get:function(e,t){var n=h(e,t);return{listenerType:s.getImplementationType(n)}},set:function(e,t,r){var i=h(e,r),o=t.listenerType||void 0,s={};return s.class=o===y?"":void 0,s.expression=o===v?"":void 0,s.delegateExpression=o===m?"":void 0,s.script=o===g?n.create("camunda:Script"):void 0,a.updateBusinessObject(e,i,s)},hidden:function(e,t){return!w(e,t)}})),e.entries.push(o.textField({id:"listener-value",dataValueLabel:"listenerValueLabel",modelProperty:"listenerValue",get:function(e,t){var n={},r=h(e,t),i=s.getImplementationType(r);return n.listenerValueLabel=d[i]||"",n.listenerValue=r&&r.get(i)||void 0,n},set:function(e,t,n){var r={},i=h(e,n);return r[s.getImplementationType(i)]=t.listenerValue||"",a.updateBusinessObject(e,i,r)},hidden:function(e,t){var n=h(e,t);return!n||n.script},validate:function(e,t){var n={};return t.listenerValue||(n.listenerValue=f("Must provide a value")),n}}));var E=u("scriptFormat","value",!0,f);e.entries.push({id:"listener-script-value",html:'<div data-show="isScript">'+E.template+"</div>",get:function(e,t){var n=h(e,t);return n&&n.script?E.get(e,n.script):{}},set:function(e,t,n){var r=h(e,n),i=E.set(e,t,r);return a.updateBusinessObject(e,r.script,i)},validate:function(e,t,n){var r=h(e,n);return r&&r.script?E.validate(e,t):{}},isScript:function(e,t){var n=h(e,t);return n&&n.script},script:E});var _={idPrefix:"listener-",createTimerEventDefinition:function(e,t){var r=h(e,t);if(r&&l(r)){var i=r.get("eventDefinitions")||[],o=n.create("bpmn:TimerEventDefinition");return i.push(o),r.eventDefinitions=i,o}}};c(e,t,n,(function(e,t){var n=h(e,t);if(n&&l(n)){var o=function(e){var t=e.eventDefinitions||[];return i(t,(function(e){return r(e,"bpmn:TimerEventDefinition")}))}(n);return o||!1}}),f,_)}},3592:function(e,t,n){"use strict";var r=n(5687),i=n(4887);e.exports=function(e,t,n,o,a){o=r({idPrefix:"listener-",insideListener:!0},o);var s=i(t,n,a,o);s&&s.length>0&&(e.entries=e.entries.concat(s))}},4381:function(e,t,n){"use strict";var r=n(4714);e.exports=function(e,t,n,i){var o=r(t,n,{},i);return e.entries=e.entries.concat(o.entries),{getSelectedListener:o.getSelectedListener}}},215:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(5957),a=n(4291),s=n(3305);function u(e){return r(e).loopCharacteristics}e.exports=function(e,t,n,r){(function(e){var t=u(e);return!!t&&i(t,"camunda:Collectable")})(t)&&(e.entries=e.entries.concat(o(t,n,r)),e.entries=e.entries.concat(s(t,n,{getBusinessObject:u,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)),e.entries=e.entries.concat(a(t,n,{getBusinessObject:u,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)))}},4166:function(e,t,n){"use strict";var r=n(4814),i=n(8050),o=n(9685);e.exports=function(e,t,n,a){var s=r(t,n,{id:"properties",modelProperties:["name","value"],labels:[a("Name"),a("Value")],getParent:function(e,t,n){return n.extensionElements},createParent:function(e,t){var r=i.createElement("bpmn:ExtensionElements",{values:[]},t,n);return{cmd:o.updateBusinessObject(e,t,{extensionElements:r}),parent:r}}},a);s&&e.entries.push(s)}},4110:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(1494),a=n(9685),s=n(2496);e.exports=function(e,t,n,u){var c;if(i(t,"bpmn:ScriptTask")&&(c=r(t)),c){var l=s("scriptFormat","script",!1,u);e.entries.push({id:"script-implementation",label:u("Script"),html:l.template,get:function(e){return l.get(e,c)},set:function(e,t,n){var r=l.set(e,t,n);return a.updateProperties(e,r)},validate:function(e,t){return l.validate(e,t)},script:l,cssClasses:["bpp-textfield"]}),e.entries.push(o.textField({id:"scriptResultVariable",label:u("Result Variable"),modelProperty:"scriptResultVariable",get:function(e,t){return{scriptResultVariable:c.get("camunda:resultVariable")}},set:function(e,t,n){return a.updateProperties(e,{"camunda:resultVariable":t.scriptResultVariable.length?t.scriptResultVariable:void 0})}}))}}},9644:function(e,t,n){"use strict";var r=n(7047),i=n(1039),o=n(291),a=o.escapeHTML,s=o.triggerClickEvent,u=n(640),c=n(2510),l=n(4638),p=n(8695),f=n(4285),d=n(1494),h=n(5787).IO,y=n(5787).oq,v=n(5787).Sh;function m(e){return r.getImplementationType(e)}function g(e){return r.getServiceTaskLikeBusinessObject(e)}e.exports=function(e,t,n,o){if(function(e){return r.isServiceTaskLike(e)}(g(t))){var b=function(e){return r.isDmnCapable(e)}(t),x=function(e){return r.isExternalCapable(e)}(g(t));e.entries=e.entries.concat(u(t,n,{getBusinessObject:g,getImplementationType:m,hasDmnSupport:b,hasExternalSupport:x,hasServiceTaskLikeSupport:!0},o)),e.entries=e.entries.concat(c(t,n,{getBusinessObject:g,getImplementationType:m},o)),e.entries=e.entries.concat(f(t,n,{getBusinessObject:g,getImplementationType:m,hideResultVariable:function(e,t){return"expression"!==m(e)}},o)),x&&(e.entries=e.entries.concat(l(t,n,{getBusinessObject:g,getImplementationType:m},o))),b&&(e.entries=e.entries.concat(p(t,n,{getCallableType:m},o)));e.entries.push(d.link({id:"configureConnectorLink",label:o("Configure Connector"),handleClick:function(e,t,n){var r=function(e,t){var n=y(e,".bpp-properties-panel");return h('a[data-tab-target="'+t+'"]',n)}(t,"connector");return r&&s(r),!1},showLink:function(e,t){var n=h("a",t);return n.textContent="",v(n).remove("bpp-error-message"),!!function(e){return"connector"===m(e)}(e)&&(i.getConnector(e).get("connectorId")?n.textContent=o("Configure Connector"):(n.innerHTML='<span class="bpp-icon-warning"></span> '+a(o("Must configure Connector")),v(n).add("bpp-error-message")),!0)}}))}}},7418:function(e,t,n){"use strict";var r=n(1494),i=n(4422).is,o=n(4422).getBusinessObject;e.exports=function(e,t,n){o(t)&&i(t,"camunda:Initiator")&&!i(t.parent,"bpmn:SubProcess")&&e.entries.push(r.textField({id:"initiator",label:n("Initiator"),modelProperty:"initiator"}))}},2973:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(1838);e.exports=function(e,t,n,a){var s=i(t);(r(t,"camunda:Process")||r(t,"bpmn:Participant")&&s.get("processRef"))&&(e.entries=e.entries.concat(o(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},a)))}},2830:function(e,t,n){"use strict";var r=n(4422).is,i=n(1494);e.exports=function(e,t,n){r(t,"camunda:Assignable")&&(e.entries.push(i.textField({id:"assignee",label:n("Assignee"),modelProperty:"assignee"})),e.entries.push(i.textField({id:"candidateUsers",label:n("Candidate Users"),modelProperty:"candidateUsers"})),e.entries.push(i.textField({id:"candidateGroups",label:n("Candidate Groups"),modelProperty:"candidateGroups"})),e.entries.push(i.textField({id:"dueDate",description:n("The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Due Date"),modelProperty:"dueDate"})),e.entries.push(i.textField({id:"followUpDate",description:n("The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Follow Up Date"),modelProperty:"followUpDate"})),e.entries.push(i.textField({id:"priority",label:n("Priority"),modelProperty:"priority"})))}},402:function(e,t,n){"use strict";var r=n(4422).is,i=n(6008).J,o=n(4422).getBusinessObject,a=n(86),s=n(5720),u=n(9685),c=n(8050),l=n(9899),p=n(7871),f=n(1494);function d(e,t){var n=function(e,t){var n=o(e),r=l.getSignalEventDefinition(n);return s.getExtensionElements(r||n,t)||[]}(e,t);return a(n,(function(e){return!e.businessKey}))}function h(e){var t="source";return"all"===e.variables?t="variables":"undefined"!==typeof e.source?t="source":"undefined"!==typeof e.sourceExpression&&(t="sourceExpression"),t}var y="camunda:In",v="camunda:Out",m=/\s/;e.exports=function(e,t,n,a){var g=[{name:a("Source"),value:"source"},{name:a("Source Expression"),value:"sourceExpression"},{name:a("All"),value:"variables"}],b=l.getSignalEventDefinition(t);if((r(t,"camunda:CallActivity")||b)&&(!b||i(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"]))){var x=function(e,t){return!!w(e,t)},w=function(e,t){var n=t.parentNode,r=O.getSelected(e,n),i=d(e,y)[r.idx];return!i&&P&&(r=P.getSelected(e,n),i=d(e,v)[r.idx]),i},E=function(e){return function(t,n,r,i,o,a){var s=d(t,e)[a],u=(s.target||"<undefined>")+" := ",c=h(s);"variables"===c?u="all":u+="source"===c?s.source||"<empty>":"sourceExpression"===c&&s.sourceExpression||"<empty>",r.text=u}},_=function(e){return function(t,r,i){var o=c.createElement(e,{source:""},r,n);return u.addElementsTolist(t,r,"values",[o])}},S=function(e){return function(t,n,r,i){var a=d(t,e)[i];if(a)return s.removeEntry(b||o(t),t,a)}},O=p(t,n,{id:"variableMapping-in",label:a("In Mapping"),modelProperty:"source",prefix:"In",idGeneration:!1,resizable:!0,businessObject:b||o(t),createExtensionElement:_(y),removeExtensionElement:S(y),getExtensionElements:function(e){return d(e,y)},onSelectionChange:function(e,t,n,r){P&&P.deselect(e,t.parentNode)},setOptionLabelValue:E(y)});if(e.entries.push(O),!b){var P=p(t,n,{id:"variableMapping-out",label:a("Out Mapping"),modelProperty:"source",prefix:"Out",idGeneration:!1,resizable:!0,createExtensionElement:_(v),removeExtensionElement:S(v),getExtensionElements:function(e){return d(e,v)},onSelectionChange:function(e,t,n,r){O.deselect(e,t.parentNode)},setOptionLabelValue:E(v)});e.entries.push(P)}e.entries.push(f.label({id:"variableMapping-typeLabel",get:function(e,t){var n=w(e,t),i="";return r(n,y)?i=a("In Mapping"):r(n,v)&&(i=a("Out Mapping")),{label:i}},showLabel:function(e,t){return x(e,t)}})),e.entries.push(f.selectBox({id:"variableMapping-inOutType",label:a("Type"),selectOptions:g,modelProperty:"inOutType",get:function(e,t){return{inOutType:h(w(e,t)||{})}},set:function(e,t,n){var r=t.inOutType,i={source:void 0,sourceExpression:void 0,variables:void 0};"source"===r?i.source="":"sourceExpression"===r?i.sourceExpression="":"variables"===r&&(i.variables="all",i.target=void 0);var o=w(e,n);return u.updateBusinessObject(e,o,i)},hidden:function(e,t){return!x(e,t)}})),e.entries.push(f.textField({id:"variableMapping-source",dataValueLabel:"sourceLabel",modelProperty:"source",get:function(e,t){var n=w(e,t)||{},r="",i=h(n);return"source"===i?r=a("Source"):"sourceExpression"===i&&(r=a("Source Expression")),{source:n[i],sourceLabel:r}},set:function(e,t,n){t.source=t.source||void 0;var r=w(e,n),i={};return i[h(r)]=t.source||"",u.updateBusinessObject(e,r,i)},validate:function(e,t,n){var r=w(e,n),i={};if(r){t.source||(i.source=i.source=t.sourceLabel?a("Mapping must have a {value}",{value:t.sourceLabel.toLowerCase()}):a("Mapping must have a value"));var o=h(r);m.test(t.source)&&"sourceExpression"!==o&&(i.source=a("{label} must not contain whitespace",{label:t.sourceLabel}))}return i},hidden:function(e,t){var n=w(e,t);return!n||n&&n.variables}})),e.entries.push(f.textField({id:"variableMapping-target",label:a("Target"),modelProperty:"target",get:function(e,t){return{target:(w(e,t)||{}).target}},set:function(e,t,n){t.target=t.target||void 0;var r=w(e,n);return u.updateBusinessObject(e,r,t)},validate:function(e,t,n){var r=w(e,n),i={};if(r){var o=h(r);t.target||"variables"===o||(i.target=a("Mapping must have a target")),t.target&&m.test(t.target)&&"variables"!==o&&(i.target=a("Target must not contain whitespace"))}return i},hidden:function(e,t){var n=w(e,t);return!n||n&&n.variables}})),e.entries.push(f.checkbox({id:"variableMapping-local",label:a("Local"),modelProperty:"local",get:function(e,t){return{local:(w(e,t)||{}).local}},set:function(e,t,n){t.local=t.local||!1;var r=w(e,n);return u.updateBusinessObject(e,r,t)},hidden:function(e,t){return!x(e,t)}}))}}},586:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(4422).is,a=n(4422).getBusinessObject;e.exports=function(e,t,n){var s=a(t);if(s&&(o(t,"bpmn:Process")||o(t,"bpmn:Participant")&&s.get("processRef"))){var u=r.textField({id:"versionTag",label:n("Version Tag"),modelProperty:"versionTag"});o(t,"bpmn:Participant")&&(u.get=function(e){return{versionTag:s.get("processRef").get("camunda:versionTag")}},u.set=function(e,t){var n=s.get("processRef");return i.updateBusinessObject(e,n,{"camunda:versionTag":t.versionTag||void 0})}),e.entries.push(u)}}},3305:function(e,t,n){"use strict";var r=n(5687),i=n(1494),o=n(8345),a=n(9899),s=n(9685);function u(e){return o.isAsyncBefore(e)}function c(e){return o.isAsyncAfter(e)}function l(e){return o.isExclusive(e)}function p(e,t){return o.removeFailedJobRetryTimeCycle(e,t)}function f(e){return!a.getTimerEventDefinition(e)}e.exports=function(e,t,n,o){var a=n.getBusinessObject,d=n.idPrefix||"",h=n.labelPrefix||"",y=i.checkbox({id:d+"asyncBefore",label:h+o("Asynchronous Before"),modelProperty:"asyncBefore",get:function(e,t){return{asyncBefore:u(a(e))}},set:function(e,t){var n=a(e),i=!!t.asyncBefore,o={"camunda:asyncBefore":i,"camunda:async":!1},u=[];return c(n)||i||(o=r({"camunda:exclusive":!0},o),f(e)&&u.push(p(n,e))),u.push(s.updateBusinessObject(e,n,o)),u}}),v=i.checkbox({id:d+"asyncAfter",label:h+o("Asynchronous After"),modelProperty:"asyncAfter",get:function(e,t){return{asyncAfter:c(a(e))}},set:function(e,t){var n=a(e),i=!!t.asyncAfter,o={"camunda:asyncAfter":i},c=[];return u(n)||i||(o=r({"camunda:exclusive":!0},o),f(e)&&c.push(p(n,e))),c.push(s.updateBusinessObject(e,n,o)),c}}),m=i.checkbox({id:d+"exclusive",label:h+o("Exclusive"),modelProperty:"exclusive",get:function(e,t){return{exclusive:l(a(e))}},set:function(e,t){var n=a(e);return s.updateBusinessObject(e,n,{"camunda:exclusive":!!t.exclusive})},hidden:function(e){var t=a(e);return t&&!c(t)&&!u(t)}});return[y,v,m]}},8695:function(e,t,n){"use strict";var r=n(9685),i=n(1494),o=n(8050),a=n(5720),s=n(4285),u=n(4422).getBusinessObject,c=n(4422).is,l=n(6514),p={bpmn:{element:"calledElement",binding:"camunda:calledElementBinding",version:"camunda:calledElementVersion",versionTag:"camunda:calledElementVersionTag",tenantId:"camunda:calledElementTenantId"},cmmn:{element:"camunda:caseRef",binding:"camunda:caseBinding",version:"camunda:caseVersion",tenantId:"camunda:caseTenantId"},dmn:{element:"camunda:decisionRef",binding:"camunda:decisionRefBinding",version:"camunda:decisionRefVersion",versionTag:"camunda:decisionRefVersionTag",tenantId:"camunda:decisionRefTenantId"}},f=[{name:"singleEntry (TypedValue)",value:"singleEntry"},{name:"singleResult (Map<String, Object>)",value:"singleResult"},{name:"collectEntries (List<Object>)",value:"collectEntries"},{name:"resultList (List<Map<String, Object>>)",value:"resultList"}],d=[{name:"variableMappingClass",value:"variableMappingClass"},{name:"variableMappingDelegateExpression",value:"variableMappingDelegateExpression"}];function h(e){var t=[],n=u(e),r=a.getExtensionElements(n,"camunda:In");return r&&l(r,(function(e){void 0!==e.businessKey&&t.push(e)})),t}function y(e,t,n){var i=[],a=h(e);if(a.length)i.push(r.updateBusinessObject(e,a[0],{businessKey:t}));else{var s=u(e),c=s.extensionElements;c||(c=o.createElement("bpmn:ExtensionElements",{values:[]},s,n),i.push(r.updateProperties(e,{extensionElements:c})));var l=o.createElement("camunda:In",{businessKey:t},c,n);i.push(r.addAndRemoveElementsFromList(e,c,"values","extensionElements",[l],[]))}return i}function v(e){return-1!==["bpmn","cmmn","dmn"].indexOf(e)}e.exports=function(e,t,n,o){var m=[{name:o("latest"),value:"latest"},{name:o("deployment"),value:"deployment"},{name:o("version"),value:"version"},{name:o("versionTag"),value:"versionTag"}],g=n.getCallableType,b=[];function x(e,t){var n=g(e);return(p[n]||{})[t]}function w(e){var t=g(e),n=u(e),r=(p[t]||{}).binding;return n.get(r)}function E(e){var t=u(e),n=t.get("camunda:variableMappingClass"),r=t.get("camunda:variableMappingDelegateExpression"),i="";return"undefined"!==typeof n?i="variableMappingClass":"undefined"!==typeof r&&(i="variableMappingDelegateExpression"),i}return b.push(i.textField({id:"callable-element-ref",dataValueLabel:"callableElementLabel",modelProperty:"callableElementRef",get:function(e,t){var n,r=x(e,"element");r&&(n=u(e).get(r));var i="",a=g(e);return"bpmn"===a?i=o("Called Element"):"cmmn"===a?i=o("Case Ref"):"dmn"===a&&(i=o("Decision Ref")),{callableElementRef:n,callableElementLabel:i}},set:function(e,t,n){var i=t.callableElementRef,o={};return o[x(e,"element")]=i||"",r.updateProperties(e,o)},validate:function(e,t,n){var r=t.callableElementRef;return v(g(e))&&!r?{callableElementRef:o("Must provide a value")}:{}},hidden:function(e,t){return!v(g(e))}})),b.push(i.selectBox({id:"callable-binding",label:o("Binding"),selectOptions:function(e){return"cmmn"===g(e)?m.filter((function(e){return"versionTag"!==e.value})):m},modelProperty:"callableBinding",get:function(e,t){var n,r=x(e,"binding");r&&(n=u(e).get(r)||"latest");return{callableBinding:n}},set:function(e,t,n){var i=t.callableBinding,o=x(e,"binding"),a=x(e,"version"),s=x(e,"versionTag"),u={};return u[o]=i,u[a]=void 0,u[s]=void 0,r.updateProperties(e,u)},hidden:function(e,t){return!v(g(e))}})),b.push(i.textField({id:"callable-version",label:o("Version"),modelProperty:"callableVersion",get:function(e,t){var n,r=x(e,"version");r&&(n=u(e).get(r));return{callableVersion:n}},set:function(e,t,n){var i=t.callableVersion,o={};return o[x(e,"version")]=i||void 0,r.updateProperties(e,o)},validate:function(e,t,n){var r=t.callableVersion;return v(g(e))&&"version"===w(e)&&(r?{}:{callableVersion:o("Must provide a value")})},hidden:function(e,t){return!v(g(e))||"version"!==w(e)}})),b.push(i.textField({id:"callable-version-tag",label:o("Version Tag"),modelProperty:"versionTag",get:function(e,t){var n,r=x(e,"versionTag");r&&(n=u(e).get(r));return{versionTag:n}},set:function(e,t,n){var i=t.versionTag,o={};return o[x(e,"versionTag")]=i||void 0,r.updateProperties(e,o)},validate:function(e,t,n){var r=t.versionTag;return v(g(e))&&"versionTag"===w(e)&&(r?{}:{versionTag:o("Must provide a value")})},hidden:function(e,t){return!v(g(e))||"versionTag"!==w(e)}})),b.push(i.textField({id:"tenant-id",label:o("Tenant Id"),modelProperty:"tenantId",get:function(e,t){var n,r=x(e,"tenantId");r&&(n=u(e).get(r));return{tenantId:n}},set:function(e,t,n){var i=t.tenantId,o={};return o[x(e,"tenantId")]=i||void 0,r.updateProperties(e,o)},hidden:function(e,t){return!v(g(e))}})),c(u(e),"bpmn:CallActivity")&&b.push(i.checkbox({id:"callable-business-key",label:o("Business Key"),modelProperty:"callableBusinessKey",get:function(e,t){var n=h(e);return{callableBusinessKey:!!(n&&n.length>0)}},set:function(e,n,r){return n.callableBusinessKey?y(e,"#{execution.processBusinessKey}",t):function(e){var t=h(e),n=[];return l(t,(function(t){n.push(a.removeEntry(u(e),e,t))})),n}(e)}})),b.push(i.textField({id:"business-key-expression",label:o("Business Key Expression"),modelProperty:"businessKey",get:function(e,t){var n=h(e);return{businessKey:n.length?n[0].get("camunda:businessKey"):void 0}},set:function(e,n,r){return y(e,n.businessKey,t)},validate:function(e,t,n){return""===t.businessKey?{businessKey:o("Must provide a value")}:{}},hidden:function(e,t){return!h(e).length}})),b=b.concat(s(e,t,{id:"dmn-resultVariable",getBusinessObject:u,getImplementationType:g,hideResultVariable:function(e,t){return"dmn"!==g(e)}},o)),b.push(i.selectBox({id:"dmn-map-decision-result",label:o("Map Decision Result"),selectOptions:f,modelProperty:"mapDecisionResult",get:function(e,t){return{mapDecisionResult:u(e).get("camunda:mapDecisionResult")||"resultList"}},set:function(e,t,n){return r.updateProperties(e,{"camunda:mapDecisionResult":t.mapDecisionResult||"resultList"})},hidden:function(e,t){var n=u(e).get("camunda:resultVariable");return!("dmn"===g(e)&&"undefined"!==typeof n)}})),b.push(i.selectBox({id:"delegateVariableMappingType",label:o("Delegate Variable Mapping"),selectOptions:d,emptyParameter:!0,modelProperty:"delegateVariableMappingType",get:function(e,t){return{delegateVariableMappingType:E(e)}},set:function(e,t,n){var i=t.delegateVariableMappingType,o={"camunda:variableMappingClass":void 0,"camunda:variableMappingDelegateExpression":void 0};return"variableMappingClass"===i?o["camunda:variableMappingClass"]="":"variableMappingDelegateExpression"===i&&(o["camunda:variableMappingDelegateExpression"]=""),r.updateProperties(e,o)},hidden:function(e,t){return"bpmn"!==g(e)}})),b.push(i.textField({id:"delegateVariableMapping",dataValueLabel:"delegateVariableMappingLabel",modelProperty:"delegateVariableMapping",get:function(e,t){var n=u(e),r="",i=void 0,a=E(e);return"variableMappingClass"===a?(r=o("Class"),i=n.get("camunda:variableMappingClass")):"variableMappingDelegateExpression"===a&&(r=o("Delegate Expression"),i=n.get("camunda:variableMappingDelegateExpression")),{delegateVariableMapping:i,delegateVariableMappingLabel:r}},set:function(e,t,n){var i=t.delegateVariableMapping,o={};return o["camunda:"+E(e)]=i||void 0,r.updateProperties(e,o)},validate:function(e,t,n){var r=t.delegateVariableMapping;return"bpmn"===g(e)&&(r?{}:{delegateVariableMapping:o("Must provide a value")})},hidden:function(e,t){return!("bpmn"===g(e)&&""!==E(e))}})),b}},5365:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getBusinessObject,s=r.textField({id:"candidateStarterGroups",label:o("Candidate Starter Groups"),modelProperty:"candidateStarterGroups",description:o("Specify more than one group as a comma separated list."),get:function(e,t){var n=a(e).get("camunda:candidateStarterGroups");return{candidateStarterGroups:n||""}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:candidateStarterGroups":t.candidateStarterGroups||void 0})}}),u=r.textField({id:"candidateStarterUsers",label:o("Candidate Starter Users"),modelProperty:"candidateStarterUsers",description:o("Specify more than one user as a comma separated list."),get:function(e,t){var n=a(e).get("camunda:candidateStarterUsers");return{candidateStarterUsers:n||""}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:candidateStarterUsers":t.candidateStarterUsers||void 0})}});return[s,u]}},2510:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=["class","expression","delegateExpression"],a={class:"camunda:class",expression:"camunda:expression",delegateExpression:"camunda:delegateExpression"};function s(e){return-1!==o.indexOf(e)}function u(e){return a[e]}e.exports=function(e,t,n,o){var a=n.getImplementationType,c=n.getBusinessObject;var l=r.textField({id:"delegate",label:o("Value"),dataValueLabel:"delegationLabel",modelProperty:"delegate",get:function(e,t){var n=c(e),r=a(e),i=u(r),s=function(e){switch(e){case"class":return o("Java Class");case"expression":return o("Expression");case"delegateExpression":return o("Delegate Expression");default:return""}}(r);return{delegate:n.get(i),delegationLabel:s}},set:function(e,t,n){var r=c(e),o={};return o[u(a(e))]=t.delegate||"",i.updateBusinessObject(e,r,o)},validate:function(e,t,n){return s(a(e))&&!t.delegate?{delegate:o("Must provide a value")}:{}},hidden:function(e,t){return!s(a(e))}});return[l]}},3205:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(5026);e.exports=function(e,t,n,a,s,u,c){var l=function(e){return function(t){var n=a.get("camunda:"+e),r={};return r[e]=n,r}},p=function(e){return function(t,n){var r={};return r["camunda:"+e]=n[e]||void 0,i.updateBusinessObject(t,a,r)}};e.entries=e.entries.concat(o(t,a,n,{id:"error-element-message",label:c("Error Message"),referenceProperty:"errorRef",modelProperty:"errorMessage"})),s&&e.entries.push(r.textField({id:"errorCodeVariable",label:c("Error Code Variable"),modelProperty:"errorCodeVariable",get:l("errorCodeVariable"),set:p("errorCodeVariable")})),u&&e.entries.push(r.textField({id:"errorMessageVariable",label:c("Error Message Variable"),modelProperty:"errorMessageVariable",get:l("errorMessageVariable"),set:p("errorMessageVariable")}))}},7871:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(5787).IO,o=n(5787).oq,a=n(5787).H6,s=n(6514),u=n(8050),c=n(9685),l=n(291),p=l.escapeHTML;function f(e,t){var n=o(e,"div.bpp-properties-tab");return i("select[name=selectedExtensionElement]"+(t?"[id=cam-extensionElements-"+t+"]":""),n)}function d(e,t){var n=f(e,t);return{value:(n||{}).value,idx:(n||{}).selectedIndex}}var h="create-extension-element",y="remove-extension-element";e.exports=function(e,t,n,i){var o=n.id,v=n.prefix||"elem",m=n.label||o,g=!1!==n.idGeneration||n.idGeneration,b=n.businessObject||r(e),x=n.modelProperty||"id",w=n.getExtensionElements,E=n.createExtensionElement,_="function"===typeof E,S=n.removeExtensionElement,O="function"===typeof S,P=n.onSelectionChange,k=n.hideExtensionElements,j="function"===typeof k,C=n.setOptionLabelValue,T=n.size||5,M=n.resizable,A=n.reference||void 0,N=function(e,t,n,r){if("function"===typeof P)return P(e,t,n,r)},D=function(e){return'<option value="'+p(e)+'" data-value data-name="extensionElementValue">'+p(e)+"</option>"},R=function(e,t){M&&(e.size=t>T?t:T)};return{id:o,html:'<div class="bpp-row bpp-element-list" '+(j?'data-show="hideElements"':"")+'><label for="cam-extensionElements-'+p(o)+'">'+p(m)+'</label><div class="bpp-field-wrapper"><select id="cam-extensionElements-'+p(o)+'"name="selectedExtensionElement" size="'+p(T)+'" data-list-entry-container data-on-change="selectElement"></select>'+(_?'<button class="add" id="cam-extensionElements-create-'+p(o)+'" data-action="createElement"><span>+</span></button>':"")+(O?'<button class="clear" id="cam-extensionElements-remove-'+p(o)+'" data-action="removeElement" data-disable="disableRemove"><span>-</span></button>':"")+"</div></div>",get:function(e,t){var n=w(e,t),r=[];s(n,(function(e){r.push({extensionElementValue:e.get(x)})}));var i=f(t.parentNode,o);return R(i,r.length),r},set:function(e,n,i){var o=this.__action;delete this.__action,b=b||r(e);var a=A&&b.get(A)?b.get(A):b,s=a.get("extensionElements");if(o.id===h){var l=[];return s||(s=u.createElement("bpmn:ExtensionElements",{values:[]},a,t),l.push(c.updateBusinessObject(e,a,{extensionElements:s}))),l.push(E(e,s,o.value,i)),l}if(o.id===y)return S(e,s,o.value,o.idx,i)},createListEntryTemplate:function(e,t,n){return R(n,n.options.length+1),D(e.extensionElementValue)},deselect:function(e,t){f(t,o).selectedIndex=-1},getSelected:function(e,t){return d(t,o)},setControlValue:function(e,t,n,r,i,o){t.value=i,C?C(e,t,n,r,i,o):t.text=i},createElement:function(e,t){var n;g&&(n=function(e){return e+="_",l.nextId(e)}(v));var r=f(t,o),i=a(D(n));return r.appendChild(i),r.lastChild.selected="selected",N(e,t),R(r,r.options.length),this.__action={id:h,value:n},!0},removeElement:function(e,t){var n=d(t,o),r=f(t,o);return r.removeChild(r.options[n.idx]),R(r,r.options.length),this.__action={id:y,value:n.value,idx:n.idx},!0},hideElements:function(e,t,n,r){return!k(e,t,n,r)},disableRemove:function(e,t,n,r){return(d(t,o)||{}).idx<0},selectElement:N}}},4638:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getImplementationType,s=n.getBusinessObject;function u(e){return"external"===a(e)}var c=r.textField({id:"externalTopic",label:o("Topic"),modelProperty:"externalTopic",get:function(e,t){return{externalTopic:s(e).get("camunda:topic")}},set:function(e,t,n){var r=s(e);return i.updateBusinessObject(e,r,{"camunda:topic":t.externalTopic})},validate:function(e,t,n){return u(e)&&!t.externalTopic?{externalTopic:o("Must provide a value")}:{}},hidden:function(e,t){return!u(e)}});return[c]}},8148:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getBusinessObject,s=r.textField({id:"externalTaskPriority",label:o("Task Priority"),modelProperty:"taskPriority",get:function(e,t){return{taskPriority:a(e).get("camunda:taskPriority")}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:taskPriority":t.taskPriority||void 0})}});return[s]}},4887:function(e,t,n){"use strict";var r=n(5720),i=n(8050),o=n(9685),a=n(291),s=n(1494),u=n(7871),c=n(4422).getBusinessObject,l=n(5687),p={stringValue:void 0,string:void 0,expression:void 0},f="camunda:Field";e.exports=function(e,t,n,d){var h=!!(d=d||{}).insideListener,y=d.idPrefix||"",v=d.getSelectedListener,m=d.businessObject||c(e),g=[],b=function(e,t){return x(e,t)};function x(e,t){var n=_.getSelected(e,t.parentNode);if(-1!==n.idx)return w(e,t)[n.idx]}function w(e,t){return h?function(e,t){var n=v(e,t);return n&&n.fields||[]}(e,t):m&&r.getExtensionElements(m,f)||[]}function E(e){var t="string",n=e&&e.expression;return"undefined"!==typeof(e&&(e.string||e.stringValue))?t="string":"undefined"!==typeof n&&(t="expression"),t}var _=u(e,t,{id:y+"fields",label:n("Fields"),modelProperty:"fieldName",idGeneration:"false",businessObject:m,createExtensionElement:function(e,n,r,a){var s,u={name:"",string:""};if(h){var c=v(e,a);return s=i.createElement(f,u,c,t),o.addElementsTolist(e,c,"fields",[s])}return s=i.createElement(f,u,n,t),o.addElementsTolist(e,n,"values",[s])},removeExtensionElement:function(e,t,n,i,a){var s=w(e,a)[i];if(s){if(!h)return r.removeEntry(m,e,s);var u=v(e,a);return o.removeElementsFromList(e,u,"fields",null,[s])}},getExtensionElements:function(e,t){return w(e,t)},setOptionLabelValue:function(e,t,n,r,i,o){var a=w(e,t)[o],s=o+" : "+(a.name?a.name:"<empty>");n.text=s}});g.push(_),g.push(s.validationAwareTextField({id:y+"field-name",label:n("Name"),modelProperty:"fieldName",getProperty:function(e,t){return(x(e,t)||{}).name},setProperty:function(e,t,n){var r=x(e,n);return o.updateBusinessObject(e,r,{name:t.fieldName})},validate:function(e,t,r){var i={};if(x(e,r)){var o=t.fieldName;o?a.containsSpace(o)&&(i.fieldName=n("Name must not contain spaces")):i.fieldName=n("Parameter must have a name")}return i},hidden:function(e,t){return!b(e,t)}}));var S=[{name:n("String"),value:"string"},{name:n("Expression"),value:"expression"}];return g.push(s.selectBox({id:y+"field-type",label:n("Type"),selectOptions:S,modelProperty:"fieldType",get:function(e,t){return{fieldType:E(x(e,t))}},set:function(e,t,n){var r=l({},p),i=t.fieldType;return"string"===i?r.string="":"expression"===i&&(r.expression=""),o.updateBusinessObject(e,x(e,n),r)},hidden:function(e,t){return!b(e,t)}})),g.push(s.textBox({id:y+"field-value",label:n("Value"),modelProperty:"fieldValue",get:function(e,t){var n,r=x(e,t),i=E(r);return"string"===i?n=r&&(r.string||r.stringValue):"expression"===i&&(n=r&&r.expression),{fieldValue:n}},set:function(e,t,n){var r=x(e,n),i=E(r),a=l({},p),s=t.fieldValue||void 0;return"string"===i?a.string=s:"expression"===i&&(a.expression=s),o.updateBusinessObject(e,r,a)},validate:function(e,t,r){var i={};return x(e,r)&&(t.fieldValue||(i.fieldValue=n("Must provide a value"))),i},show:function(e,t){return b(e,t)}})),g}},3604:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getBusinessObject,s=r.textField({id:"historyTimeToLive",label:o("History Time To Live"),modelProperty:"historyTimeToLive",get:function(e,t){var n=a(e).get("camunda:historyTimeToLive");return{historyTimeToLive:n||""}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:historyTimeToLive":t.historyTimeToLive||void 0})}});return[s]}},640:function(e,t,n){"use strict";var r=n(1494),i=n(9685),o=n(5720),a=n(8050),s=n(5687),u=n(2034),c=["class","expression","delegateExpression"],l={"camunda:class":void 0,"camunda:expression":void 0,"camunda:delegateExpression":void 0,"camunda:resultVariable":void 0},p={"camunda:decisionRef":void 0,"camunda:decisionRefBinding":"latest","camunda:decisionRefVersion":void 0,"camunda:mapDecisionResult":"resultList","camunda:decisionRefTenantId":void 0},f={"camunda:type":void 0,"camunda:topic":void 0};e.exports=function(e,t,n,d){var h=[{value:"class",name:d("Java Class")},{value:"expression",name:d("Expression")},{value:"delegateExpression",name:d("Delegate Expression")}],y=[{value:"dmn",name:d("DMN")}],v=[{value:"external",name:d("External")}],m=[{value:"connector",name:d("Connector")}],g=[{value:"script",name:d("Script")}],b=n.getImplementationType,x=n.getBusinessObject,w=n.hasDmnSupport,E=n.hasExternalSupport,_=n.hasServiceTaskLikeSupport,S=n.hasScriptSupport,O=[],P=h.concat([]);return w&&(P=P.concat(y)),E&&(P=P.concat(v)),_&&(P=P.concat(m)),S&&(P=P.concat(g)),P.push({value:""}),O.push(r.selectBox({id:"implementation",label:d("Implementation"),selectOptions:P,modelProperty:"implType",get:function(e,t){return{implType:b(e)||""}},set:function(e,n,r){var d=x(e),h=b(e),y=n.implType,v=s({},l);if(-1!==c.indexOf(y)){var m="";-1!==c.indexOf(h)&&(m=d.get("camunda:"+h)),v["camunda:"+y]=m}w&&(v=s(v,p),"dmn"===y&&(v["camunda:decisionRef"]="")),E&&(v=s(v,f),"external"===y&&(v["camunda:type"]="external",v["camunda:topic"]="")),S&&(v["camunda:script"]=void 0,"script"===y&&(v["camunda:script"]=a.createElement("camunda:Script",{},d,t)));var g=[];if(g.push(i.updateBusinessObject(e,d,v)),_){var O=o.getExtensionElements(d,"camunda:Connector");if(g.push(u(O,(function(t){return o.removeEntry(d,e,t)}))),"connector"===y){var P=d.get("extensionElements");P||(P=a.createElement("bpmn:ExtensionElements",{values:[]},d,t),g.push(i.updateBusinessObject(e,d,{extensionElements:P})));var k=a.createElement("camunda:Connector",{},P,t);g.push(i.addAndRemoveElementsFromList(e,P,"values","extensionElements",[k],[]))}}return g}})),O}},2603:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(8050),o=n(5720),a=n(1039),s=n(9685),u=n(7871);function c(e,t){return a.getInputOutput(e,t)}function l(e){return a.getConnector(e)}function p(e,t,n){return a.getInputParameter(e,t,n)}function f(e,t,n){return a.getOutputParameter(e,t,n)}function d(e,t,n,r){return i.createElement(e,r,t,n)}e.exports=function(e,t,n,i){var h={"camunda:Map":i("Map"),"camunda:List":i("List"),"camunda:Script":i("Script")},y=!!(n=n||{}).insideConnector,v=n.idPrefix||"",m={getSelectedParameter:function(e,t){var n=E&&E.getSelected(e,t)||{idx:-1},r=p(e,y,n.idx);return!r&&_&&(n=_.getSelected(e,t),r=f(e,y,n.idx)),r}},g=m.entries=[];if(!function(e,t){return a.isInputOutputSupported(e,t)}(e))return m;var b=function(e,n,r){return function(r,i,o){var a=[],u=c(r,y);if(!u){var p=y?l(r):i;u=function(e,t,n){return d("camunda:InputOutput",e,t,n)}(p,t,{inputParameters:[],outputParameters:[]}),y?a.push(s.updateBusinessObject(r,p,{inputOutput:u})):a.push(s.addAndRemoveElementsFromList(r,i,"values","extensionElements",[u],[]))}var f=function(e,t,n,r){return d(e,t,n,r)}(e,u,t,{name:o});return a.push(s.addElementsTolist(r,u,n,[f])),a}},x=function(e,t,n){return function(i,a,u,p){var f=c(i,y),d=e(i,y,p),h=[];h.push(s.removeElementsFromList(i,f,t,null,[d]));var v=f.get(t).length-1,m=(f.get(n)||[]).length;if(!v&&!m)if(y){var g=l(i);h.push(s.updateBusinessObject(i,g,{inputOutput:void 0}))}else h.push(o.removeEntry(r(i),i,f));return h}},w=function(e){return function(t,n,r,i,o,a){var s="Text",u=e(t,y,a).get("definition");if("undefined"!==typeof u){var c=u.$type;s=h[c]}r.text=(o||"")+" : "+s}},E=u(e,t,{id:v+"inputs",label:i("Input Parameters"),modelProperty:"name",prefix:"Input",resizable:!0,createExtensionElement:b("camunda:InputParameter","inputParameters"),removeExtensionElement:x(p,"inputParameters","outputParameters"),getExtensionElements:function(e){return function(e,t){return a.getInputParameters(e,t)}(e,y)},onSelectionChange:function(e,t,n,r){_&&_.deselect(e,t)},setOptionLabelValue:w(p)});if(g.push(E),function(e,t){return a.areOutputParametersSupported(e,t)}(e,y)){var _=u(e,t,{id:v+"outputs",label:i("Output Parameters"),modelProperty:"name",prefix:"Output",resizable:!0,createExtensionElement:b("camunda:OutputParameter","outputParameters"),removeExtensionElement:x(f,"outputParameters","inputParameters"),getExtensionElements:function(e){return function(e,t){return a.getOutputParameters(e,t)}(e,y)},onSelectionChange:function(e,t,n,r){E.deselect(e,t)},setOptionLabelValue:w(f)});g.push(_)}return m}},1090:function(e,t,n){"use strict";var r=n(4422).is,i=n(8050),o=n(1039),a=n(9685),s=n(291),u=n(1494),c=n(2496);function l(e,t,n,r){return i.createElement(e,r,t,n)}function p(e){return r(e,"camunda:Script")}function f(e){return r(e,"camunda:List")}function d(e){return r(e,"camunda:Map")}e.exports=function(e,t,n,r){var i={"camunda:Map":{value:"map",label:r("Map")},"camunda:List":{value:"list",label:r("List")},"camunda:Script":{value:"script",label:r("Script")}},h=!!(n=n||{}).insideConnector,y=n.idPrefix||"",v=n.getSelectedParameter;if(!function(e,t){return o.isInputOutputSupported(e,t)}(e,h))return[];var m=[],g=function(e,t){return v(e,t)};m.push(u.validationAwareTextField({id:y+"parameterName",label:r("Name"),modelProperty:"name",getProperty:function(e,t){return(v(e,t)||{}).name},setProperty:function(e,t,n){var r=v(e,n);return a.updateBusinessObject(e,r,t)},validate:function(e,t,n){var i={};if(v(e,n)){var o=t.name;o?s.containsSpace(o)&&(i.name=r("Name must not contain spaces")):i.name=r("Parameter must have a name")}return i},hidden:function(e,t){return!g(e,t)}}));var b=[{value:"text",name:r("Text")},{value:"script",name:r("Script")},{value:"list",name:r("List")},{value:"map",name:r("Map")}];m.push(u.selectBox({id:y+"parameterType",label:r("Type"),selectOptions:b,modelProperty:"parameterType",get:function(e,t){var n=v(e,t),r="text";if("undefined"!==typeof n){var o=n.get("definition");if("undefined"!==typeof o){var a=o.$type;r=i[a].value}}return{parameterType:r}},set:function(e,n,r){var i=v(e,r),o={value:void 0,definition:void 0},s=function(e){return l(e,i,t)},u=n.parameterType;return"script"===u?o.definition=s("camunda:Script"):"list"===u?o.definition=s("camunda:List"):"map"===u&&(o.definition=s("camunda:Map")),a.updateBusinessObject(e,i,o)},show:function(e,t){return g(e,t)}})),m.push(u.textBox({id:y+"parameterType-text",label:r("Value"),modelProperty:"value",get:function(e,t){return{value:(v(e,t)||{}).value}},set:function(e,t,n){var r=v(e,n);return t.value=t.value||void 0,a.updateBusinessObject(e,r,t)},show:function(e,t){var n=v(e,t);return n&&!n.definition}}));var x=c("scriptFormat","value",!0,r);return m.push({id:y+"parameterType-script",html:'<div data-show="isScript">'+x.template+"</div>",get:function(e,t){var n=v(e,t);return n&&p(n.definition)?x.get(e,n.definition):{}},set:function(e,t,n){var r=v(e,n),i=x.set(e,t);return a.updateBusinessObject(e,r.definition,i)},validate:function(e,t,n){var r=v(e,n);return r&&p(r.definition)?x.validate(e,r.definition):{}},isScript:function(e,t){var n=v(e,t);return n&&p(n.definition)},script:x}),m.push(u.table({id:y+"parameterType-list",modelProperties:["value"],labels:[r("Value")],addLabel:r("Add Value"),getElements:function(e,t){var n=v(e,t);return n&&f(n.definition)?n.definition.items:[]},updateElement:function(e,t,n,r){var i=v(e,n).definition.items[r];return a.updateBusinessObject(e,i,t)},addElement:function(e,n){var r=v(e,n),i=l("camunda:Value",r.definition,t,{value:void 0});return a.addElementsTolist(e,r.definition,"items",[i])},removeElement:function(e,t,n){var r=v(e,t);return a.removeElementsFromList(e,r.definition,"items",null,[r.definition.items[n]])},editable:function(e,t,n,r){var i=v(e,t).definition.items[r];return!d(i)&&!f(i)&&!p(i)},setControlValue:function(e,t,n,r,o,a){var s=v(e,t).definition.items[a];d(s)||f(s)||p(s)?n.value=i[s.$type].label:n.value=o},show:function(e,t){var n=v(e,t);return n&&n.definition&&f(n.definition)}})),m.push(u.table({id:y+"parameterType-map",modelProperties:["key","value"],labels:[r("Key"),r("Value")],addLabel:r("Add Entry"),getElements:function(e,t){var n=v(e,t);return n&&d(n.definition)?n.definition.entries:[]},updateElement:function(e,t,n,r){var i=v(e,n).definition.entries[r];return(d(i.definition)||f(i.definition)||p(i.definition))&&(t={key:t.key}),a.updateBusinessObject(e,i,t)},addElement:function(e,n){var r=v(e,n),i=l("camunda:Entry",r.definition,t,{key:void 0,value:void 0});return a.addElementsTolist(e,r.definition,"entries",[i])},removeElement:function(e,t,n){var r=v(e,t);return a.removeElementsFromList(e,r.definition,"entries",null,[r.definition.entries[n]])},editable:function(e,t,n,r){var i=v(e,t).definition.entries[r];return"key"===n||!d(i.definition)&&!f(i.definition)&&!p(i.definition)},setControlValue:function(e,t,n,r,o,a){var s=v(e,t).definition.entries[a];"key"!==r&&(d(s.definition)||f(s.definition)||p(s.definition))?n.value=i[s.definition.$type].label:n.value=o},show:function(e,t){var n=v(e,t);return n&&n.definition&&d(n.definition)}})),m}},7823:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getBusinessObject,s=r.textField({id:"jobPriority",label:o("Job Priority"),modelProperty:"jobPriority",get:function(e,t){return{jobPriority:a(e).get("camunda:jobPriority")}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:jobPriority":t.jobPriority||void 0})}});return[s]}},4291:function(e,t,n){"use strict";var r=n(4422).is,i=n(1494),o=n(8345),a=n(8050),s=n(9899),u=n(9685);function c(e){return o.getFailedJobRetryTimeCycle(e)}e.exports=function(e,t,n,l){var p=n.getBusinessObject,f=n.idPrefix||"",d=n.labelPrefix||"",h=i.textField({id:f+"retryTimeCycle",label:d+l("Retry Time Cycle"),modelProperty:"cycle",get:function(e,t){var n=c(p(e));return{cycle:n&&n.get("body")}},set:function(e,n,r){var i=n.cycle,s=p(e);if(""===i||"undefined"===typeof i)return function(e,t){return o.removeFailedJobRetryTimeCycle(e,t)}(s,e);var l=c(s);if(!l){var f=[],d=s.get("extensionElements");return d||(d=function(e,t){return a.createElement("bpmn:ExtensionElements",{values:[]},e,t)}(s,t),f.push(u.updateBusinessObject(e,s,{extensionElements:d}))),l=function(e,t,n){return a.createElement("camunda:FailedJobRetryTimeCycle",{body:n},e,t)}(d,t,i),f.push(u.addAndRemoveElementsFromList(e,d,"values","extensionElements",[l],[])),f}return u.updateBusinessObject(e,l,{body:i})},hidden:function(e){var t=p(e);return(!t||!function(e){return o.isAsyncBefore(e)}(t)&&!function(e){return o.isAsyncAfter(e)}(t))&&(!r(e,"bpmn:Event")||!s.getTimerEventDefinition(e))}});return[h]}},4714:function(e,t,n){"use strict";var r=n(4422).is,i=n(4422).getBusinessObject,o=n(7871),a=n(5720),s=n(9685),u=n(8050),c=n(7047);function l(e,t){return e&&a.getExtensionElements(e,t)||[]}var p="camunda:ExecutionListener",f="camunda:TaskListener";e.exports=function(e,t,n,d){var h,y={class:d("Java Class"),expression:d("Expression"),delegateExpression:d("Delegate Expression"),script:d("Script")},v={getSelectedListener:function(e,t){var n=E&&E.getSelected(e,t)||{idx:-1},r=l(h,p)[n.idx];!r&&_&&(n=_.getSelected(e,t),r=l(h,f)[n.idx]);return r}},m=v.entries=[],g=c.isSequenceFlow(e);var b=function(e){return function(t,n,r,i,o,a){var s=l(h,e)[a],u=c.getImplementationType(s),p=((s.get("event")?s.get("event"):"<empty>")||"*")+" : "+(y[u]||"");r.text=p}},x=function(e,n,r){return function(e,i,o){var a={event:r,class:""},c=u.createElement(n,a,i,t);return s.addElementsTolist(e,i,"values",[c])}},w=function(e,t){return function(e,n,r,i){var o=l(h,t)[i];if(o)return a.removeEntry(h,e,o)}};if((r(e,"bpmn:FlowElement")||r(e,"bpmn:Process")||r(e,"bpmn:Participant"))&&(h=i(e),r(e,"bpmn:Participant")&&(e=e.processRef,h=h.get("processRef")),h)){var E=o(e,t,{id:"executionListeners",label:d("Execution Listener"),modelProperty:"name",idGeneration:"false",reference:"processRef",createExtensionElement:x(0,p,g?"take":"start"),removeExtensionElement:w(0,p),getExtensionElements:function(e){return l(h,p)},onSelectionChange:function(e,t,n,r){_&&_.deselect(e,t)},setOptionLabelValue:b(p)});m.push(E)}if(r(e,"bpmn:UserTask")){h=i(e);var _=o(e,t,{id:"taskListeners",label:d("Task Listener"),modelProperty:"name",idGeneration:"false",createExtensionElement:x(0,f,"create"),removeExtensionElement:w(0,f),getExtensionElements:function(e){return l(h,f)},onSelectionChange:function(e,t,n,r){E.deselect(e,t)},setOptionLabelValue:b(f)});m.push(_)}return v}},5957:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(291).escapeHTML,o=n(1494),a=n(8050),s=n(9685),u=n(5787).Sh;function c(e,t){var n=p(e);return n&&n.get(t)}function l(e){return e&&e.get("body")}function p(e){return r(e).loopCharacteristics}function f(e){var t=function(e){return c(e,"loopCardinality")}(e);return l(t)}function d(e){var t=function(e){return c(e,"completionCondition")}(e);return l(t)}function h(e){return c(e,"camunda:collection")}function y(e){return c(e,"camunda:elementVariable")}function v(e,t,n,r){var i=p(e),o={};if(!n)return o[t]=void 0,s.updateBusinessObject(e,i,o);var u=i.get(t);return u?s.updateBusinessObject(e,u,{body:n}):(o[t]=function(e,t,n){return a.createElement("bpmn:FormalExpression",{body:t},e,n)}(i,n,r),s.updateBusinessObject(e,i,o))}e.exports=function(e,t,n){var r=[];return r.push({id:"multiInstance-errorMessage",html:'<div data-show="isValid"><span class="bpp-icon-warning"></span> '+i(n("Must provide either loop cardinality or collection"))+"</div>",isValid:function(e,t,n,r){var i=!0;if(p(e)){var o=f(e),a=h(e);i=!o&&!a}return u(t).toggle("bpp-hidden",!i),u(n).toggle("bpp-error-message",i),i}}),r.push(o.textField({id:"multiInstance-loopCardinality",label:n("Loop Cardinality"),modelProperty:"loopCardinality",get:function(e,t){return{loopCardinality:f(e)}},set:function(e,n){return v(e,"loopCardinality",n.loopCardinality,t)}})),r.push(o.textField({id:"multiInstance-collection",label:n("Collection"),modelProperty:"collection",get:function(e,t){return{collection:h(e)}},set:function(e,t){var n=p(e);return s.updateBusinessObject(e,n,{"camunda:collection":t.collection||void 0})},validate:function(e,t,n){var r=h(e),i=y(e);if(!r&&i)return{collection:"Must provide a value"}}})),r.push(o.textField({id:"multiInstance-elementVariable",label:n("Element Variable"),modelProperty:"elementVariable",get:function(e,t){return{elementVariable:y(e)}},set:function(e,t){var n=p(e);return s.updateBusinessObject(e,n,{"camunda:elementVariable":t.elementVariable||void 0})}})),r.push(o.textField({id:"multiInstance-completionCondition",label:n("Completion Condition"),modelProperty:"completionCondition",get:function(e){return{completionCondition:d(e)}},set:function(e,n){return v(e,"completionCondition",n.completionCondition,t)}})),r}},4814:function(e,t,n){"use strict";var r=n(4422).getBusinessObject,i=n(4422).is,o=n(1494),a=n(8050),s=n(5720),u=n(9685),c=n(291),l=n(5687),p=n(6514),f=n(1996);function d(e){var t=e&&h(e);return t&&t.values?t.values:[]}function h(e){return y(e)?f(e.values,(function(e){return i(e,"camunda:Properties")})):e.properties}function y(e){return i(e,"bpmn:ExtensionElements")}e.exports=function(e,t,n,f){var v=n.getParent,m=n.modelProperties,g=n.createParent,b=r(e);if(i(e,"bpmn:Participant")&&(b=b.get("processRef")),b)return l(n,{addLabel:f("Add Property"),getElements:function(e,t){return d(v(e,t,b))},addElement:function(e,n){var r=[],i=v(e,n,b);if(!i&&"function"===typeof g){var o=g(e,b);i=o.parent,r.push(o.cmd)}var s=h(i);s||(s=a.createElement("camunda:Properties",{},i,t),y(i)?r.push(u.addAndRemoveElementsFromList(e,i,"values","extensionElements",[s],[])):r.push(u.updateBusinessObject(e,i,{properties:s})));var l={};p(m,(function(e){l[e]=void 0})),m.indexOf("id")>=0&&(l.id=c.nextId("Property_"));var f=a.createElement("camunda:Property",l,s,t);return r.push(u.addElementsTolist(e,s,"values",[f])),r},updateElement:function(e,t,n,r){var i=d(v(e,n,b))[r];return p(m,(function(e){t[e]=t[e]||void 0})),u.updateBusinessObject(e,i,t)},validate:function(e,t,n,r){if(m.indexOf("id")>=0){var i=d(v(e,n,b))[r];if(i){var o=c.isIdValid(i,t.id,f);if(o)return{id:o}}}},removeElement:function(e,t,n){var r=[],o=v(e,t,b),a=h(o),c=d(o),l=c[n];return r.push(u.removeElementsFromList(e,a,"values",null,[l])),1===c.length&&(y(o)?p(o.values,(function(t){i(t,"camunda:Properties")&&r.push(s.removeEntry(b,e,t))})):r.push(u.updateBusinessObject(e,o,{properties:void 0}))),r}}),o.table(n)}},4285:function(e,t,n){"use strict";var r=n(4422).is,i=n(5687),o=n(1494),a=n(9685);e.exports=function(e,t,n,s){var u=n.getBusinessObject,c=n.hideResultVariable,l=n.id||"resultVariable",p=o.textField({id:l,label:s("Result Variable"),modelProperty:"resultVariable",get:function(e,t){return{resultVariable:u(e).get("camunda:resultVariable")}},set:function(e,t,n){var o=u(e),s=t.resultVariable||void 0,c={"camunda:resultVariable":s};return r(o,"camunda:DmnCapable")&&!s&&(c=i({"camunda:mapDecisionResult":"resultList"},c)),a.updateBusinessObject(e,o,c)},hidden:function(e,t){if("function"===typeof c)return c.apply(p,arguments)}});return[p]}},2496:function(e,t,n){"use strict";var r=n(5787).IO,i=n(291).escapeHTML,o=n(291);function a(e){return o.selectedType("select[name=scriptType]",e.parentElement)}e.exports=function(e,t,n,o){return{template:'<div class="bpp-row bpp-textfield"><label for="cam-script-format">'+i(o("Script Format"))+'</label><div class="bpp-field-wrapper"><input id="cam-script-format" type="text" name="scriptFormat" /><button class="clear" data-action="script.clearScriptFormat" data-show="script.canClearScriptFormat"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-type">'+i(o("Script Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-script-type" name="scriptType" data-value><option value="script" selected>'+i(o("Inline Script"))+'</option><option value="scriptResource">'+i(o("External Resource"))+'</option></select></div></div><div class="bpp-row bpp-textfield"><label for="cam-script-resource-val" data-show="script.isScriptResource">'+i(o("Resource"))+'</label><div class="bpp-field-wrapper" data-show="script.isScriptResource"><input id="cam-script-resource-val" type="text" name="scriptResourceValue" /><button class="clear" data-action="script.clearScriptResource" data-show="script.canClearScriptResource"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-val" data-show="script.isScript">'+i(o("Script"))+'</label><div class="bpp-field-wrapper" data-show="script.isScript"><textarea id="cam-script-val" type="text" name="scriptValue"></textarea></div></div>',get:function(n,r){var i={},o=r.get("camunda:resource"),a=r.get(t),s=r.get(e);return"undefined"!==typeof o?(i.scriptResourceValue=o,i.scriptType="scriptResource"):(i.scriptValue=a,i.scriptType="script"),i.scriptFormat=s,i},set:function(r,i,o){var a=i.scriptFormat,s=i.scriptType,u=i.scriptResourceValue,c=i.scriptValue,l={"camunda:resource":void 0};return l[t]=void 0,l[e]=void 0,n?l[e]=a||"":""!==a&&(l[e]=a),"scriptResource"===s?l["camunda:resource"]=u||"":l[t]=c||"",l},validate:function(e,t){var r={};return"script"!==t.scriptType||t.scriptValue||(r.scriptValue=o("Must provide a value")),"scriptResource"!==t.scriptType||t.scriptResourceValue||(r.scriptResourceValue=o("Must provide a value")),!n||t.scriptFormat&&0!==t.scriptFormat.length||(r.scriptFormat=o("Must provide a value")),r},clearScriptFormat:function(e,t,n,i){return r("input[name=scriptFormat]",i).value="",!0},canClearScriptFormat:function(e,t,n,i){return""!==r("input[name=scriptFormat]",i).value},clearScriptResource:function(e,t,n,i){return r("input[name=scriptResourceValue]",i).value="",!0},canClearScriptResource:function(e,t,n,i){return""!==r("input[name=scriptResourceValue]",i).value},clearScript:function(e,t,n,i){return r("textarea[name=scriptValue]",i).value="",!0},canClearScript:function(e,t,n,i){return""!==r("textarea[name=scriptValue]",i).value},isScriptResource:function(e,t,n,r){return"scriptResource"===a(r)},isScript:function(e,t,n,r){return"script"===a(r)}}}},1838:function(e,t,n){"use strict";var r=n(1494),i=n(9685);e.exports=function(e,t,n,o){var a=n.getBusinessObject,s=r.checkbox({id:"isStartableInTasklist",label:o("Startable"),modelProperty:"isStartableInTasklist",get:function(e,t){var n=a(e).get("camunda:isStartableInTasklist");return{isStartableInTasklist:n||""}},set:function(e,t){var n=a(e);return i.updateBusinessObject(e,n,{"camunda:isStartableInTasklist":!!t.isStartableInTasklist})}});return[s]}},6008:function(e,t,n){"use strict";n.d(t,{G:function(){return a},J:function(){return o}});var r=n(870),i=n(4422);function o(e,t){return(0,r.G)(t,(function(t){return(0,i.is)(e,t)}))}function a(e,t){for("string"===typeof t&&(t=[t]);e=e.parent;)if(o(e,t))return e;return null}},1789:function(e,t,n){"use strict";n.d(t,{J5:function(){return s},_Z:function(){return p},sm:function(){return c},ul:function(){return o},wQ:function(){return l},yU:function(){return a}});var r=n(4422),i=n(870);function o(e){return!(0,r.is)(e,"bpmn:CallActivity")&&((0,r.is)(e,"bpmn:SubProcess")?!!(0,r.getBusinessObject)(e).di.isExpanded:!(0,r.is)(e,"bpmn:Participant")||!!(0,r.getBusinessObject)(e).processRef)}function a(e){return e&&!1!==(0,r.getBusinessObject)(e).isInterrupting}function s(e){return e&&!!(0,r.getBusinessObject)(e).triggeredByEvent}function u(e,t){var n=(0,r.getBusinessObject)(e),o=!1;return n.eventDefinitions&&(0,i.Ed)(n.eventDefinitions,(function(e){(0,r.is)(e,t)&&(o=!0)})),o}function c(e){return u(e,"bpmn:ErrorEventDefinition")}function l(e){return u(e,"bpmn:EscalationEventDefinition")}function p(e){return u(e,"bpmn:CompensateEventDefinition")}},4422:function(e,t,n){"use strict";function r(e,t){var n=i(e);return n&&"function"===typeof n.$instanceOf&&n.$instanceOf(t)}function i(e){return e&&e.businessObject||e}n.r(t),n.d(t,{getBusinessObject:function(){return i},is:function(){return r}})},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7063:function(e,t,n){var r;r="undefined"!=typeof n.g?n.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)0!=(t=n.charCodeAt(i))?o+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==i&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):o+="\ufffd";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(r)},5234:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]}},3462:function(e,t,n){"use strict";function r(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function i(e,t,n){if(e&&t){"number"!==typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function o(e,t){return e&&t?e.indexOf(t):-1}n.d(t,{IH:function(){return i},Od:function(){return r},cq:function(){return o}})},4097:function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),p=Math.round,f=Math.abs,d=Date.now;function h(e,t,n){return setTimeout(w(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function m(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var g=m((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=m((function(e,t){return g(e,t,!0)}),"merge","Use `assign`.");function x(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function _(e,t){return e===s?t:e}function S(e,t,n){v(j(t),(function(t){e.addEventListener(t,n,!1)}))}function O(e,t,n){v(j(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function j(e){return e.trim().split(/\s+/g)}function C(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];C(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function A(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var N=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var R="ontouchstart"in i,I=A(i,"PointerEvent")!==s,L=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",F="mouse",z=24,V=["x","y"],H=["clientX","clientY"];function $(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function G(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=U(t));i>1&&!n.firstMultiple?n.firstMultiple=U(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=t.center=W(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Y(u,c),t.distance=q(u,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=Z(t.deltaX,t.deltaY);var l=X(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,t.scale=a?(p=a.pointers,h=r,q(h[0],h[1],H)/q(p[0],p[1],H)):1,t.rotation=a?function(e,t){return Y(t[1],t[0],H)+Y(e[1],e[0],H)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=X(u,c,l);r=p.x,i=p.y,n=f(p.x)>f(p.y)?p.x:p.y,o=Z(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var p,h;var y=e.element;P(t.srcEvent.target,y)&&(y=t.srcEvent.target);t.target=y}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function U(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:p(n/t),y:p(r/t)}}function X(e,t,n){return{x:t/e||0,y:n/e||0}}function Z(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function q(e,t,n){n||(n=V);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function Y(e,t,n){n||(n=V);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}$.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Q="mousemove mouseup";function ee(){this.evEl=J,this.evWin=Q,this.pressed=!1,$.apply(this,arguments)}x(ee,$,{handler:function(e){var t=K[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:F,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:B,3:"pen",4:F,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),x(oe,$,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==B,s=C(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ue="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=se,this.evWin=ue,this.started=!1,$.apply(this,arguments)}function le(e,t){var n=T(e.touches),r=T(e.changedTouches);return 12&t&&(n=M(n.concat(r),"identifier",!0)),[n,r]}x(ce,$,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=le.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var pe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fe="touchstart touchmove touchend touchcancel";function de(){this.evTarget=fe,this.targetIds={},$.apply(this,arguments)}function he(e,t){var n=T(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=T(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return P(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}x(de,$,{handler:function(e){var t=pe[e.type],n=he.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});function ye(){$.apply(this,arguments);var e=w(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ve(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,me.call(this,t)):12&e&&me.call(this,t)}function me(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}x(ye,$,{handler:function(e,t,n){var r=n.pointerType==B,i=n.pointerType==F;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ve.call(this,t,n);else if(i&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=A(l.style,"touchAction"),xe=be!==s,we="compute",Ee="auto",_e="manipulation",Se="none",Oe="pan-x",Pe="pan-y",ke=function(){if(!xe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function je(e,t){this.manager=e,this.set(t)}je.prototype={set:function(e){e==we&&(e=this.compute()),xe&&this.manager.element.style&&ke[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(k(e,Se))return Se;var t=k(e,Oe),n=k(e,Pe);if(t&&n)return Se;if(t||n)return t?Oe:Pe;if(k(e,_e))return _e;return Ee}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=k(r,Se)&&!ke.none,o=k(r,Pe)&&!ke["pan-y"],a=k(r,Oe)&&!ke["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&6&n||a&&n&z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ce=32;function Te(e){this.options=u({},this.defaults,e||{}),this.id=N++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ae(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ne(e,t){var n=t.manager;return n?n.get(e):e}function De(){Te.apply(this,arguments)}function Re(){De.apply(this,arguments),this.pX=null,this.pY=null}function Ie(){De.apply(this,arguments)}function Le(){Te.apply(this,arguments),this._timer=null,this._input=null}function Be(){De.apply(this,arguments)}function Fe(){De.apply(this,arguments)}function ze(){Te.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ve(e,t){return(t=t||{}).recognizers=_(t.recognizers,Ve.defaults.preset),new He(e,t)}Te.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ne(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)||(e=Ne(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===C(t,e=Ne(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=Ne(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Me(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ce},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=Ce);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(De,Te,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Ce}}),x(Re,De,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Pe),e&z&&t.push(Oe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return De.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ae(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Ie,De,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Se]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(Le,Te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ee]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=h((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ce},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),x(Be,De,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Se]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),x(Fe,De,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Re.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ae(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(ze,Te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=h((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ce},failTimeout:function(){return this._timer=h((function(){this.state=Ce}),this.options.interval,this),Ce},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ve.VERSION="2.0.7",Ve.defaults={domEvents:!1,touchAction:we,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[Ie,{enable:!1},["rotate"]],[Fe,{direction:6}],[Re,{direction:6},["swipe"]],[ze],[ze,{event:"doubletap",taps:2},["tap"]],[Le]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function He(e,t){var n;this.options=u({},Ve.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(I?oe:L?de:R?ye:ee))(n,G),this.touchAction=new je(this,this.options.touchAction),$e(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function $e(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,(function(i,o){n=A(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}He.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Te)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=C(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(j(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(j(e),(function(e){t?n[e]&&n[e].splice(C(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&$e(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ve,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ce,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:z,DIRECTION_ALL:30,Manager:He,Input:$,TouchAction:je,TouchInput:de,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:ye,SingleTouchInput:ce,Recognizer:Te,AttrRecognizer:De,Tap:ze,Pan:Re,Swipe:Fe,Pinch:Ie,Rotate:Be,Press:Le,on:S,off:O,each:v,merge:b,extend:g,assign:u,inherit:x,bindFn:w,prefixed:A}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ve,(r=function(){return Ve}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},2110:function(e,t,n){"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=d(n);i&&i!==h&&e(t,i,r)}var a=l(n);p&&(a=a.concat(p(n)));for(var s=u(t),y=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!y||!y[m])&&(!s||!s[m])){var g=f(n,m);try{c(t,m,g)}catch(b){}}}}return t}},4212:function(e,t){"use strict";var n,r,i=(n=function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,e/i))/Math.log(n)*i;var o=r-Math.floor(r),a="";for(i=0;i<Math.floor(r);i++)a=Math.floor(Math.random()*n).toString(n)+a;if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var u=parseInt(a,n);return u!==1/0&&u>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var i=function(i){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=n||16,i}},n(r={exports:{}},r.exports),r.exports);function o(e){if(!(this instanceof o))return new o(e);e=e||[128,36,1],this._seed=e.length?i.rack(e[0],e[1],e[2]):e}o.prototype.next=function(e){return this._seed(e||!0)},o.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},o.prototype.claim=function(e,t){this._seed.set(e,t||!0)},o.prototype.assigned=function(e){return this._seed.get(e)||!1},o.prototype.unclaim=function(e){delete this._seed.hats[e]},o.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)},t.Z=o},2534:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},2492:function(e,t,n){var r=n(5763),i=n(8807);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5598:function(e,t,n){var r=n(5763),i=n(8807);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1211:function(e){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},9055:function(e,t,n){var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),p=!n&&!l&&a(e),f=!n&&!l&&!p&&u(e),d=n||l||p||f,h=d?r(e.length,String):[],y=h.length;for(var v in e)!t&&!c.call(e,v)||d&&("length"==v||p&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||h.push(v);return h}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8463:function(e,t,n){var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8430:function(e,t,n){var r=n(7927);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5763:function(e,t,n){var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1468:function(e,t,n){var r=n(692),i=n(9055),o=n(2683),a=n(8950),s=n(6194),u=n(75);e.exports=function(e,t,n,c){var l=-1,p=i,f=!0,d=e.length,h=[],y=t.length;if(!d)return h;n&&(t=a(t,s(n))),c?(p=o,f=!1):t.length>=200&&(p=u,f=!1,t=new r(t));e:for(;++l<d;){var v=e[l],m=null==n?v:n(v);if(v=c||0!==v?v:0,f&&m===m){for(var g=y;g--;)if(t[g]===m)continue e;h.push(v)}else p(t,m,c)||h.push(v)}return h}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},7523:function(e,t,n){var r=n(7927);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5182:function(e,t,n){var r=n(1705),i=n(3529);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:function(e,t,n){var r=n(2045),i=n(505),o=n(7167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),p="[object Arguments]",f="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,y,v,m){var g=u(e),b=u(t),x=g?f:s(e),w=b?f:s(t),E=(x=x==p?d:x)==d,_=(w=w==p?d:w)==d,S=x==w;if(S&&c(e)){if(!c(t))return!1;g=!0,E=!1}if(S&&!E)return m||(m=new r),g||l(e)?i(e,t,n,y,v,m):o(e,t,x,n,y,v,m);if(!(1&n)){var O=E&&h.call(e,"__wrapped__"),P=_&&h.call(t,"__wrapped__");if(O||P){var k=O?e.value():e,j=P?t.value():t;return m||(m=new r),v(k,j,n,y,m)}}return!!S&&(m||(m=new r),a(e,t,n,y,v,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],p=e[l],f=c[1];if(u&&c[2]){if(void 0===p&&!(l in e))return!1}else{var d=new r;if(o)var h=o(p,f,l,e,t,d);if(!(void 0===h?i(f,p,3,o,d):h))return!1}}return!0}},505:function(e){e.exports=function(e){return e!==e}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,p=c.hasOwnProperty,f=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),o=n(2100),a=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(5964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8807:function(e){e.exports=function(){}},3849:function(e,t,n){var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},7080:function(e,t,n){var r=n(8856),i=n(9091),o=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),o=n(5658),a=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},8794:function(e,t,n){var r=n(2100),i=n(4262),o=n(9156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},7026:function(e,t,n){var r=n(2100),i=n(1921),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},7532:function(e,t,n){var r=n(1547),i=n(8528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},9602:function(e,t,n){var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),u=n(2230);e.exports=function(e,t,n){var c=-1,l=i,p=e.length,f=!0,d=[],h=d;if(n)f=!1,l=o;else if(p>=200){var y=t?null:s(e);if(y)return u(y);f=!1,l=a,h=new r}else h=t?[]:d;e:for(;++c<p;){var v=e[c],m=t?t(v):v;if(v=n||0!==v?v:0,f&&m===m){for(var g=h.length;g--;)if(h[g]===m)continue e;t&&h.push(m),d.push(v)}else l(h,m,n)||(h!==d&&h.push(m),d.push(v))}return d}},8019:function(e,t,n){var r=n(8950);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},1126:function(e,t,n){var r=n(1468),i=n(5182),o=n(9602);e.exports=function(e,t,n){var a=e.length;if(a<2)return a?o(e[0]):[];for(var s=-1,u=Array(a);++s<a;)for(var c=e[s],l=-1;++l<a;)l!=s&&(u[s]=r(u[s]||c,e[l],t,n));return o(i(u,1),t,n)}},75:function(e){e.exports=function(e,t){return e.has(t)}},3410:function(e,t,n){var r=n(2100);e.exports=function(e){return"function"==typeof e?e:r}},3082:function(e,t,n){var r=n(3629),i=n(5823),o=n(170),a=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},6557:function(e){var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=n.length,l=t(a-s,0),p=Array(c+l),f=!i;++u<c;)p[u]=n[u];for(;++o<s;)(f||o<a)&&(p[r[o]]=e[o]);for(;l--;)p[u++]=e[o++];return p}},449:function(e){var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=n.length,p=t(a-u,0),f=Array(p+l),d=!i;++o<p;)f[o]=e[o];for(var h=o;++c<l;)f[h+c]=n[c];for(;++s<u;)(d||o<a)&&(f[h+r[s]]=e[o++]);return f}},4355:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4503:function(e,t,n){var r=n(8463),i=n(2526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},4498:function(e){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},4629:function(e,t,n){var r=n(1211),i=n(8430),o=n(6025),a=n(3629);e.exports=function(e,t){return function(n,s){var u=a(n)?r:i,c=t?t():{};return u(n,e,o(s,2),c)}}},9934:function(e,t,n){var r=n(8794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},5006:function(e,t,n){var r=n(777),i=n(7009);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},777:function(e,t,n){var r=n(5763),i=n(8092);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},3884:function(e,t,n){var r=n(3665),i=n(777),o=n(997),a=n(5607),s=n(3885),u=n(2784),c=n(7009);e.exports=function(e,t,n){var l=i(e);return function i(){for(var p=arguments.length,f=Array(p),d=p,h=s(i);d--;)f[d]=arguments[d];var y=p<3&&f[0]!==h&&f[p-1]!==h?[]:u(f,h);if((p-=y.length)<n)return a(e,t,o,i.placeholder,void 0,f,y,void 0,void 0,n-p);var v=this&&this!==c&&this instanceof i?l:e;return r(v,this,f)}}},5481:function(e,t,n){var r=n(6025),i=n(1473),o=n(2742);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},997:function(e,t,n){var r=n(6557),i=n(449),o=n(4498),a=n(777),s=n(5607),u=n(3885),c=n(4794),l=n(2784),p=n(7009);e.exports=function e(t,n,f,d,h,y,v,m,g,b){var x=128&n,w=1&n,E=2&n,_=24&n,S=512&n,O=E?void 0:a(t);return function P(){for(var k=arguments.length,j=Array(k),C=k;C--;)j[C]=arguments[C];if(_)var T=u(P),M=o(j,T);if(d&&(j=r(j,d,h,_)),y&&(j=i(j,y,v,_)),k-=M,_&&k<b){var A=l(j,T);return s(t,n,e,P.placeholder,f,j,A,m,g,b-k)}var N=w?f:this,D=E?N[t]:t;return k=j.length,m?j=c(j,m):S&&k>1&&j.reverse(),x&&g<k&&(j.length=g),this&&this!==p&&this instanceof P&&(D=O||a(D)),D.apply(N,j)}}},3346:function(e,t,n){var r=n(3665),i=n(777),o=n(7009);e.exports=function(e,t,n,a){var s=1&t,u=i(e);return function t(){for(var i=-1,c=arguments.length,l=-1,p=a.length,f=Array(p+c),d=this&&this!==o&&this instanceof t?u:e;++l<p;)f[l]=a[l];for(;c--;)f[l++]=arguments[++i];return r(d,s?n:this,f)}}},5607:function(e,t,n){var r=n(8156),i=n(6226),o=n(4603);e.exports=function(e,t,n,a,s,u,c,l,p,f){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var h=[e,t,s,d?u:void 0,d?c:void 0,d?void 0:u,d?void 0:c,l,p,f],y=n.apply(void 0,h);return r(e)&&i(y,h),y.placeholder=a,o(y,e,t)}},7730:function(e,t,n){var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},1121:function(e,t,n){var r=n(7026),i=n(5006),o=n(3884),a=n(997),s=n(3346),u=n(2192),c=n(7935),l=n(6226),p=n(4603),f=n(9753),d=Math.max;e.exports=function(e,t,n,h,y,v,m,g){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var x=h?h.length:0;if(x||(t&=-97,h=y=void 0),m=void 0===m?m:d(f(m),0),g=void 0===g?g:f(g),x-=y?y.length:0,64&t){var w=h,E=y;h=y=void 0}var _=b?void 0:u(e),S=[e,t,n,h,y,w,E,v,m,g];if(_&&c(S,_),e=S[0],t=S[1],n=S[2],h=S[3],y=S[4],!(g=S[9]=void 0===S[9]?b?0:e.length:d(S[9]-x,0))&&24&t&&(t&=-25),t&&1!=t)O=8==t||16==t?o(e,t,g):32!=t&&33!=t||y.length?a.apply(void 0,S):s(e,t,n,h);else var O=i(e,t,n);return p((_?r:l)(O,S),e,t)}},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,p=t.length;if(l!=p&&!(c&&p>l))return!1;var f=u.get(e),d=u.get(t);if(f&&d)return f==t&&d==e;var h=-1,y=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var m=e[h],g=t[h];if(a)var b=c?a(g,m,h,t,e,u):a(m,g,h,e,t,u);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){y=!1;break}}else if(m!==g&&!s(m,g,n,a,u)){y=!1;break}}return u.delete(e),u.delete(t),y}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,p,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&r;if(d||(d=u),e.size!=t.size&&!h)return!1;var y=f.get(e);if(y)return y==t;r|=2,f.set(e,t);var v=a(d(e),d(t),r,c,p,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var p=l;p--;){var f=c[p];if(!(u?f in t:i.call(t,f)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var y=!0;s.set(e,t),s.set(t,e);for(var v=u;++p<l;){var m=e[f=c[p]],g=t[f];if(o)var b=u?o(g,m,f,t,e,s):o(m,g,f,e,t,s);if(!(void 0===b?m===g||a(m,g,n,o,s):b)){y=!1;break}v||(v="constructor"==f)}if(y&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(y=!1)}return s.delete(e),s.delete(t),y}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2192:function(e,t,n){var r=n(1921),i=n(9694),o=r?function(e){return r.get(e)}:i;e.exports=o},9560:function(e,t,n){var r=n(583),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},3885:function(e){e.exports=function(e){return e.placeholder}},2799:function(e,t,n){var r=n(9518);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:function(e,t,n){var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",p="[object Promise]",f="[object Set]",d="[object WeakMap]",h="[object DataView]",y=c(r),v=c(i),m=c(o),g=c(a),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=h||i&&x(new i)!=l||o&&x(o.resolve())!=p||a&&x(new a)!=f||s&&x(new s)!=d)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case y:return h;case v:return l;case m:return p;case g:return f;case b:return d}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},2812:function(e){var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},6417:function(e,t,n){var r=n(3082),i=n(4963),o=n(3629),a=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,p=!1;++c<l;){var f=u(t[c]);if(!(p=null!=e&&n(e,f)))break;e=e[f]}return p||++c!=l?p:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7795:function(e){var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},3529:function(e,t,n){var r=n(7197),i=n(4963),o=n(3629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),i=n(1473),o=n(6800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5823:function(e,t,n){var r=n(3629),i=n(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},9518:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},8156:function(e,t,n){var r=n(2492),i=n(2192),o=n(9560),a=n(2857);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},7935:function(e,t,n){var r=n(6557),i=n(449),o=n(2784),a="__lodash_placeholder__",s=128,u=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],l=n|c,p=l<131,f=c==s&&8==n||c==s&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!p&&!f)return e;1&c&&(e[2]=t[2],l|=1&n?0:4);var d=t[3];if(d){var h=e[3];e[3]=h?r(h,d,t[4]):d,e[4]=h?o(e[3],a):t[4]}return(d=t[5])&&(h=e[5],e[5]=h?i(h,d,t[6]):d,e[6]=h?o(e[5],a):t[6]),(d=t[7])&&(e[7]=d),c&s&&(e[8]=null==e[8]?t[8]:u(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},1921:function(e,t,n){var r=n(7091),i=r&&new r;e.exports=i},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},5964:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},4262:function(e,t,n){var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},583:function(e){e.exports={}},4794:function(e,t,n){var r=n(4355),i=n(6800),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var u=t[a];e[a]=i(u,n)?s[u]:void 0}return e}},2784:function(e){var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[o++]=r)}return a}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},6226:function(e,t,n){var r=n(7026),i=n(3197)(r);e.exports=i},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:function(e,t,n){var r=n(7532),i=n(3197)(r);e.exports=i},4603:function(e,t,n){var r=n(2812),i=n(7795),o=n(9156),a=n(2806);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},3197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2806:function(e,t,n){var r=n(4550),i=n(9055),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},8878:function(e,t,n){var r=n(2492),i=n(5598),o=n(4355);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},5687:function(e,t,n){var r=n(8463),i=n(4503),o=n(9934),a=n(1473),s=n(2936),u=n(2742),c=Object.prototype.hasOwnProperty,l=o((function(e,t){if(s(t)||a(t))i(t,u(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])}));e.exports=l},9510:function(e,t,n){var r=n(8794),i=n(1121),o=n(3885),a=n(2784),s=r((function(e,t,n){var r=1;if(n.length){var u=a(n,o(s));r|=32}return i(e,r,t,n,u)}));s.placeholder={},e.exports=s},1547:function(e){e.exports=function(e){return function(){return e}}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,p,f,d,h=0,y=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=u,r=c;return u=c=void 0,h=t,p=e.apply(r,n)}function b(e){return h=e,f=setTimeout(w,t),y?g(e):p}function x(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-h>=l}function w(){var e=i();if(x(e))return E(e);f=setTimeout(w,function(e){var n=t-(e-d);return v?s(n,l-(e-h)):n}(e))}function E(e){return f=void 0,m&&u?g(e):(u=c=void 0,p)}function _(){var e=i(),n=x(e);if(u=arguments,c=this,d=e,n){if(void 0===f)return b(d);if(v)return clearTimeout(f),f=setTimeout(w,t),g(d)}return void 0===f&&(f=setTimeout(w,t)),p}return t=o(t)||0,r(n)&&(y=!!n.leading,l=(v="maxWait"in n)?a(o(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=d=c=f=void 0},_.flush=function(){return void 0===f?p:E(i())},_}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},86:function(e,t,n){var r=n(4903),i=n(7523),o=n(6025),a=n(3629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},1996:function(e,t,n){var r=n(5481)(n(1475));e.exports=r},1475:function(e,t,n){var r=n(2045),i=n(6025),o=n(9753),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},3613:function(e,t,n){var r=n(5182);e.exports=function(e){return(null==e?0:e.length)?r(e,Infinity):[]}},6514:function(e,t,n){var r=n(4550),i=n(7927),o=n(3410),a=n(3629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6279:function(e,t,n){var r=n(1473),i=n(3141);e.exports=function(e){return i(e)&&r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},6364:function(e,t,n){var r=n(3654),i=n(8383),o=n(4963),a=n(3629),s=n(1473),u=n(5174),c=n(2936),l=n(9102),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},6075:function(e,t,n){var r=n(2526),i=n(4629)((function(e,t,n){r(e,n,t)}));e.exports=i},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},2034:function(e,t,n){var r=n(8950),i=n(6025),o=n(3849),a=n(3629);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},9694:function(e){e.exports=function(){}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},38:function(e,t,n){var r=n(9586),i=n(4084),o=n(5823),a=n(9793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},1495:function(e,t,n){var r=n(2582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},5653:function(e,t,n){var r=n(4550),i=n(5763),o=n(5358),a=n(6025),s=n(1137),u=n(3629),c=n(5174),l=n(4786),p=n(8092),f=n(9102);e.exports=function(e,t,n){var d=u(e),h=d||c(e)||f(e);if(t=a(t,4),null==n){var y=e&&e.constructor;n=h?d?new y:[]:p(e)&&l(y)?i(s(e)):{}}return(h?r:o)(e,(function(e,r,i){return t(n,e,r,i)})),n}},2063:function(e,t,n){var r=n(8019),i=n(2742);e.exports=function(e){return null==e?[]:r(e,i(e))}},2857:function(e,t,n){var r=n(2492),i=n(5598),o=n(8807),a=n(3629),s=n(3141),u=n(8878),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return u(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},981:function(e,t,n){var r=n(4903),i=n(8794),o=n(1126),a=n(6279),s=i((function(e){return o(r(e,a))}));e.exports=s},870:function(e,t,n){"use strict";function r(e){return Array.prototype.concat.apply([],e)}n.d(t,{$K:function(){return s},CE:function(){return V},Ds:function(){return I},Ed:function(){return g},G:function(){return E},HD:function(){return d},KQ:function(){return M},Kn:function(){return l},MR:function(){return T},UI:function(){return _},VO:function(){return P},XP:function(){return S},ak:function(){return L},cx:function(){return v},dp:function(){return O},e$:function(){return h},ei:function(){return z},f0:function(){return F},hX:function(){return m},hj:function(){return p},kJ:function(){return c},kK:function(){return u},mf:function(){return f},o8:function(){return a},qZ:function(){return C},sE:function(){return y},u4:function(){return x},uw:function(){return j},vM:function(){return k},xH:function(){return r},yW:function(){return w},zu:function(){return b}});var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function u(e){return null==e}function c(e){return"[object Array]"===i.call(e)}function l(e){return"[object Object]"===i.call(e)}function p(e){return"[object Number]"===i.call(e)}function f(e){var t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function d(e){return"[object String]"===i.call(e)}function h(e,t){return o.call(e,t)}function y(e,t){var n;return t=N(t),g(e,(function(e,r){if(t(e,r))return n=e,!1})),n}function v(e,t){t=N(t);var n=c(e)?-1:void 0;return g(e,(function(e,r){if(t(e,r))return n=r,!1})),n}function m(e,t){var n=[];return g(e,(function(e,r){t(e,r)&&n.push(e)})),n}function g(e,t){var n;if(!a(e)){var r=c(e)?R:D;for(var i in e)if(h(e,i)&&!1===t(n=e[i],r(i)))return n}}function b(e,t){return a(e)?[]:(function(e){if(!c(e))throw new Error("must supply array")}(e),t=N(t),e.filter((function(e,n){return!t(e,n)})))}function x(e,t,n){return g(e,(function(e,r){n=t(n,e,r)})),n}function w(e,t){return!!x(e,(function(e,n,r){return e&&t(n,r)}),!0)}function E(e,t){return!!y(e,t)}function _(e,t){var n=[];return g(e,(function(e,r){n.push(t(e,r))})),n}function S(e){return e&&Object.keys(e)||[]}function O(e){return S(e).length}function P(e){return _(e,(function(e){return e}))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=A(t),g(e,(function(e){var r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)})),n}function j(e){e=A(e);for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g(r,(function(n){return k(n,e,t)}));var o=_(t,(function(e,t){return e[0]}));return o}var C=j;function T(e,t){t=A(t);var n=[];return g(e,(function(e,r){for(var i=t(e,r),o={d:i,v:e},a=0;a<n.length;a++){if(i<n[a].d)return void n.splice(a,0,o)}n.push(o)})),_(n,(function(e){return e.v}))}function M(e){return function(t){return w(e,(function(e,n){return t[n]===e}))}}function A(e){return f(e)?e:function(t){return t[e]}}function N(e){return f(e)?e:function(t){return t===e}}function D(e){return e}function R(e){return Number(e)}function I(e,t){var n,r,i,o;function a(n){var a=Date.now(),c=n?0:o+t-a;if(c>0)return s(c);e.apply(i,r),u()}function s(e){n=setTimeout(a,e)}function u(){n&&clearTimeout(n),n=o=r=i=void 0}function c(){o=Date.now();for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];r=a,i=this,n||s(t)}return c.flush=function(){n&&a(!0),u()},c.cancel=u,c}function L(e,t){return e.bind(t)}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B.apply(void 0,[e].concat(n))}function z(e,t){var n={},r=Object(e);return g(t,(function(t){t in r&&(n[t]=e[t])})),n}function V(e,t){var n={};return g(Object(e),(function(e,r){-1===t.indexOf(r)&&(n[r]=e)})),n}},5787:function(e,t,n){"use strict";n.d(t,{B:function(){return g},H6:function(){return E},IO:function(){return O},Kt:function(){return P},Lj:function(){return r},Od:function(){return k},Sh:function(){return u},ZH:function(){return l},cl:function(){return w},oq:function(){return h},wB:function(){return d}});Object.prototype.toString,Object.prototype.hasOwnProperty;function r(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}var i=[].indexOf,o=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},a=/\s+/,s=Object.prototype.toString;function u(e){return new c(e)}function c(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function l(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}c.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~o(t,e)||t.push(e),this.el.className=t.join(" "),this},c.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=o(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},c.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},c.prototype.toggle=function(e,t){return this.list?("undefined"!==typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!==typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},c.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(a);return""===e[0]&&e.shift(),e},c.prototype.has=c.prototype.contains=function(e){return this.list?this.list.contains(e):!!~o(this.array(),e)};var p="undefined"!==typeof Element?Element.prototype:{},f=p.matches||p.matchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector,d=function(e,t){if(!e||1!==e.nodeType)return!1;if(f)return f.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1};function h(e,t,n){for(var r=n?e:e.parentNode;r&&r.nodeType!==document.DOCUMENT_NODE&&r.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(d(r,t))return r;r=r.parentNode}return d(r,t)?r:null}var y=window.addEventListener?"addEventListener":"attachEvent",v=window.removeEventListener?"removeEventListener":"detachEvent",m="addEventListener"!==y?"on":"",g={bind:function(e,t,n,r){return e[y](m+t,n,r||!1),n},unbind:function(e,t,n,r){return e[v](m+t,n,r||!1),n}},b=["focus","blur"];var x,w={bind:function(e,t,n,r,i){return-1!==b.indexOf(n)&&(i=!0),g.bind(e,n,(function(n){var i=n.target||n.srcElement;n.delegateTarget=h(i,t,!0),n.delegateTarget&&r.call(e,n)}),i)},unbind:function(e,t,n,r){return-1!==b.indexOf(t)&&(r=!0),g.unbind(e,t,n,r)}},E=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,o=S[r]||S._default,a=o[0],s=o[1],u=o[2];(i=t.createElement("div")).innerHTML=s+e+u;for(;a--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var c=t.createDocumentFragment();for(;i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c},_=!1;"undefined"!==typeof document&&((x=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',_=!x.getElementsByTagName("link").length,x=void 0);var S={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:_?[1,"X<div>","</div>"]:[0,"",""]};function O(e,t){return(t=t||document).querySelector(e)}function P(e,t){return(t=t||document).querySelectorAll(e)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}S.td=S.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],S.option=S.optgroup=[1,'<select multiple="multiple">',"</select>"],S.thead=S.tbody=S.colgroup=S.caption=S.tfoot=[1,"<table>","</table>"],S.polyline=S.ellipse=S.polygon=S.circle=S.text=S.line=S.path=S.rect=S.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},4226:function(e,t,n){e.exports=n(617),e.exports.Collection=n(776)},776:function(e){"use strict";e.exports.extend=function(e,t,n,r){var i=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,i,r)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if("undefined"===typeof n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,i,r)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},617:function(e,t,n){"use strict";var r=n(776);function i(e,t,n){var i=r.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach((function(r){e.set(r,t.inverse,n)}))}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"===typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?i(this,t,e):function(e,t,n){var r=t.inverse,i=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return i},set:function(t){if(t!==i){var o=i;i=null,o&&e.unset(o,r,n),i=t,e.set(i,r,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return r.isExtended(n)||i(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},8741:function(e){"use strict";var t=/,?([a-z]),?/gi,n=parseFloat,r=Math,i=r.PI,o=r.min,a=r.max,s=r.pow,u=r.abs,c=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,l=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,p=Array.isArray||function(e){return e instanceof Array};function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)f(e,n)&&(t[n]=d(e[n]));return t}function h(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function y(e){var t=y.ps=y.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)f(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function v(e,t,n,r){return 1===arguments.length&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,height:r,x2:e+n,y2:t+r}}function m(){return this.join(",").replace(t,"$1")}function g(e){var t=d(e);return t.toString=m,t}function b(e,t,n,r,i,o,a,u,c){var l=1-c,p=s(l,3),f=s(l,2),d=c*c*c,h=p*t+3*f*c*r+3*l*c*c*o+d*u;return{x:O(p*e+3*f*c*n+3*l*c*c*i+d*a),y:O(h)}}function x(e){var t=A.apply(null,e);return v(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function w(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function E(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n}function _(e,t,n,i,o,a,s,u,c){null==c&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var y=l*p[h]+l,v=E(y,e,n,o,s),m=E(y,t,i,a,u),g=v*v+m*m;d+=f[h]*r.sqrt(g)}return l*d}function S(e,t,n,r,i,s,u,c){if(!(a(e,n)<o(i,u)||o(e,n)>a(i,u)||a(t,r)<o(s,c)||o(t,r)>a(s,c))){var l=(e*r-t*n)*(s-c)-(t-r)*(i*c-s*u),p=(e-n)*(s-c)-(t-r)*(i-u);if(p){var f=O(((e*r-t*n)*(i-u)-(e-n)*(i*c-s*u))/p),d=O(l/p),h=+f.toFixed(2),y=+d.toFixed(2);if(!(h<+o(e,n).toFixed(2)||h>+a(e,n).toFixed(2)||h<+o(i,u).toFixed(2)||h>+a(i,u).toFixed(2)||y<+o(t,r).toFixed(2)||y>+a(t,r).toFixed(2)||y<+o(s,c).toFixed(2)||y>+a(s,c).toFixed(2)))return{x:f,y:d}}}}function O(e){return Math.round(1e11*e)/1e11}function P(e,t,n){if(!function(e,t){return e=v(e),w(t=v(t),e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(x(e),x(t)))return n?0:[];for(var r=_.apply(0,e),i=_.apply(0,t),o=j(e)?1:~~(r/5)||1,a=j(t)?1:~~(i/5)||1,s=[],c=[],l={},p=n?0:[],f=0;f<o+1;f++){var d=b.apply(0,e.concat(f/o));s.push({x:d.x,y:d.y,t:f/o})}for(f=0;f<a+1;f++)d=b.apply(0,t.concat(f/a)),c.push({x:d.x,y:d.y,t:f/a});for(f=0;f<o;f++)for(var h=0;h<a;h++){var y,m=s[f],g=s[f+1],E=c[h],O=c[h+1],P=u(g.x-m.x)<.01?"y":"x",k=u(O.x-E.x)<.01?"y":"x",C=S(m.x,m.y,g.x,g.y,E.x,E.y,O.x,O.y);if(C){if(l[y=C.x.toFixed(9)+"#"+C.y.toFixed(9)])continue;l[y]=!0;var T=m.t+u((C[P]-m[P])/(g[P]-m[P]))*(g.t-m.t),M=E.t+u((C[k]-E[k])/(O[k]-E[k]))*(O.t-E.t);T>=0&&T<=1&&M>=0&&M<=1&&(n?p++:p.push({x:C.x,y:C.y,t1:T,t2:M}))}}return p}function k(e){var t=y(e);if(t.abs)return g(t.abs);if(p(e)&&p(e&&e[0])||(e=function(e){if(!e)return null;var t=y(e);if(t.arr)return d(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return p(e)&&p(e[0])&&(r=d(e)),r.length||String(e).replace(c,(function(e,t,i){var o=[],a=t.toLowerCase();for(i.replace(l,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(r.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(r.push([t].concat(o.splice(0,n[a]))),n[a]););})),r.toString=y.toString,t.arr=d(r),r}(e)),!e||!e.length)return[["M",0,0]];var n,r=[],i=0,o=0,a=0,s=0,u=0;"M"==e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var f,h,v=u,b=e.length;v<b;v++){if(r.push(f=[]),(n=(h=e[v])[0])!=n.toUpperCase())switch(f[0]=n.toUpperCase(),f[0]){case"A":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+h[6]+i,f[7]=+h[7]+o;break;case"V":f[1]=+h[1]+o;break;case"H":f[1]=+h[1]+i;break;case"M":a=+h[1]+i,s=+h[2]+o;default:for(var x=1,w=h.length;x<w;x++)f[x]=+h[x]+(x%2?i:o)}else for(var E=0,_=h.length;E<_;E++)f[E]=h[E];switch(n=n.toUpperCase(),f[0]){case"Z":i=+a,o=+s;break;case"H":i=f[1];break;case"V":o=f[1];break;case"M":a=f[f.length-2],s=f[f.length-1];default:i=f[f.length-2],o=f[f.length-1]}}return r.toString=m,t.abs=g(r),r}function j(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function C(e,t,n,r){return[e,t,n,r,n,r]}function T(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]}function M(e,t,n,o,a,s,c,l,p,d){var y,v,m=120*i/180,g=i/180*(+a||0),b=[],x=(v=function(e,t,n){return{x:e*r.cos(n)-t*r.sin(n),y:e*r.sin(n)+t*r.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("\u2400"),r=e.cache=e.cache||{},i=e.count=e.count||[];return f(r,n)?(h(i,n),r[n]):(i.length>=1e3&&delete r[i.shift()],i.push(n),r[n]=v.apply(0,t),r[n])});if(d)C=d[0],T=d[1],k=d[2],j=d[3];else{e=(y=x(e,t,-g)).x,t=y.y;var w=(e-(l=(y=x(l,p,-g)).x))/2,E=(t-(p=y.y))/2,_=w*w/(n*n)+E*E/(o*o);_>1&&(n*=_=r.sqrt(_),o*=_);var S=n*n,O=o*o,P=(s==c?-1:1)*r.sqrt(u((S*O-S*E*E-O*w*w)/(S*E*E+O*w*w))),k=P*n*E/o+(e+l)/2,j=P*-o*w/n+(t+p)/2,C=r.asin(((t-j)/o).toFixed(9)),T=r.asin(((p-j)/o).toFixed(9));(C=e<k?i-C:C)<0&&(C=2*i+C),(T=l<k?i-T:T)<0&&(T=2*i+T),c&&C>T&&(C-=2*i),!c&&T>C&&(T-=2*i)}var A=T-C;if(u(A)>m){var N=T,D=l,R=p;T=C+m*(c&&T>C?1:-1),b=M(l=k+n*r.cos(T),p=j+o*r.sin(T),n,o,a,0,c,D,R,[T,N,k,j])}A=T-C;var I=r.cos(C),L=r.sin(C),B=r.cos(T),F=r.sin(T),z=r.tan(A/4),V=4/3*n*z,H=4/3*o*z,$=[e,t],G=[e+V*L,t-H*I],U=[l+V*F,p-H*B],W=[l,p];if(G[0]=2*$[0]-G[0],G[1]=2*$[1]-G[1],d)return[G,U,W].concat(b);for(var X=[],Z=0,q=(b=[G,U,W].concat(b).join().split(",")).length;Z<q;Z++)X[Z]=Z%2?x(b[Z-1],b[Z],g).y:x(b[Z],b[Z+1],g).x;return X}function A(e,t,n,i,s,c,l,p){for(var f,d,h,y,v,m,g,b,x=[],w=[[],[]],E=0;E<2;++E)if(0==E?(d=6*e-12*n+6*s,f=-3*e+9*n-9*s+3*l,h=3*n-3*e):(d=6*t-12*i+6*c,f=-3*t+9*i-9*c+3*p,h=3*i-3*t),u(f)<1e-12){if(u(d)<1e-12)continue;0<(y=-h/d)&&y<1&&x.push(y)}else g=d*d-4*h*f,b=r.sqrt(g),g<0||(0<(v=(-d+b)/(2*f))&&v<1&&x.push(v),0<(m=(-d-b)/(2*f))&&m<1&&x.push(m));for(var _,S=x.length,O=S;S--;)_=1-(y=x[S]),w[0][S]=_*_*_*e+3*_*_*y*n+3*_*y*y*s+y*y*y*l,w[1][S]=_*_*_*t+3*_*_*y*i+3*_*y*y*c+y*y*y*p;return w[0][O]=e,w[1][O]=t,w[0][O+1]=l,w[1][O+1]=p,w[0].length=w[1].length=O+2,{x0:o.apply(0,w[0]),y0:o.apply(0,w[1]),x1:a.apply(0,w[0]),y1:a.apply(0,w[1])}}function N(e){var t=y(e);if(t.curve)return g(t.curve);for(var r=k(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(M.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(T(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(T(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(C(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(C(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(C(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(C(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)s[t]="A",e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),p=r.length}},s=[],u="",c="",l=0,p=r.length;l<p;l++){r[l]&&(u=r[l][0]),"C"!=u&&(s[l]=u,l&&(c=s[l-1])),r[l]=o(r[l],i,c),"A"!=s[l]&&"C"==u&&(s[l]="C"),a(r,l);var f=r[l],d=f.length;i.x=f[d-2],i.y=f[d-1],i.bx=n(f[d-4])||i.x,i.by=n(f[d-3])||i.y}return t.curve=g(r),r}e.exports=function(e,t,n){e=N(e),t=N(t);for(var r,i,o,a,s,u,c,l,p,f,d=n?0:[],h=0,y=e.length;h<y;h++){var v=e[h];if("M"==v[0])r=s=v[1],i=u=v[2];else{"C"==v[0]?(p=[r,i].concat(v.slice(1)),r=p[6],i=p[7]):(p=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,g=t.length;m<g;m++){var b=t[m];if("M"==b[0])o=c=b[1],a=l=b[2];else{"C"==b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,c,l,c,l],o=c,a=l);var x=P(p,f,n);if(n)d+=x;else{for(var w=0,E=x.length;w<E;w++)x[w].segment1=h,x[w].segment2=m,x[w].bez1=p,x[w].bez2=f;d=d.concat(x)}}}}}return d}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(h,e)||!p.call(d,e)&&(f.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,L=Object.assign;function B(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case O:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){K(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,pe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,Se=null;function Oe(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Pe(e){_e?Se?Se.push(e):Se=[e]:_e=e}function ke(){if(_e){var e=_e,t=Se;if(Se=_e=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function je(e,t){return e(t)}function Ce(){}var Te=!1;function Me(e,t,n){if(Te)return e(t,n);Te=!0;try{return je(e,t,n)}finally{Te=!1,(null!==_e||null!==Se)&&(Ce(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ne=!1}function Re(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ie=!1,Le=null,Be=!1,Fe=null,ze={onError:function(e){Ie=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,u){Ie=!1,Le=null,Re.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(o(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ke=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=pt(s):0!==(o&=a)&&(r=pt(o))}else 0!==(a=n&~i)?r=pt(a):0!==o&&(r=pt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,_t,St,Ot,Pt=!1,kt=[],jt=null,Ct=null,Tt=null,Mt=new Map,At=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function It(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ot(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function zt(){Pt=!1,null!==jt&&Bt(jt)&&(jt=null),null!==Ct&&Bt(Ct)&&(Ct=null),null!==Tt&&Bt(Tt)&&(Tt=null),Mt.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Vt(jt,e),null!==Ct&&Vt(Ct,e),null!==Tt&&Vt(Tt,e),Mt.forEach(t),At.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var $t=x.ReactCurrentBatchConfig,Gt=!0;function Ut(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Wt(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Xt(e,t,n,r){if(Gt){var i=qt(e,t,n,r);if(null===i)Gr(e,t,r,Zt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=It(jt,e,t,n,r,i),!0;case"dragenter":return Ct=It(Ct,e,t,n,r,i),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,It(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,It(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=qt(e,t,n,r))&&Gr(e,t,r,Zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Zt=null;function qt(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),pn=L({},cn,{view:0,detail:0}),fn=on(pn),dn=L({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(dn),yn=on(L({},dn,{dataTransfer:0})),vn=on(L({},pn,{relatedTarget:0})),mn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function On(){return Sn}var Pn=L({},pn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Pn),jn=on(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(L({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Mn),Nn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var In=l&&"TextEvent"in window&&!Rn,Ln=l&&(!Dn||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Un(e,t,n,r){Pe(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Xn=null;function Zn(e){Br(e,0)}function qn(e){if(X(xi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Jn;if(l){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Xn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Xn)){var t=[];Un(t,Xn,e,we(e)),Me(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Xn)}function or(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!p.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Or(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Pr=Or("animationend"),kr=Or("animationiteration"),jr=Or("animationstart"),Cr=Or("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Tr.set(e,t),u(t,[e])}for(var Nr=0;Nr<Mr.length;Nr++){var Dr=Mr[Nr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Pr,"onAnimationEnd"),Ar(kr,"onAnimationIteration"),Ar(jr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Ie){if(!Ie)throw Error(o(198));var l=Le;Ie=!1,Le=null,Be||(Be=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ut;break;case 4:i=Wt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=we(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Pr:case kr:case jr:u=mn;break;case Cr:u=Tn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=jn}var l=0!==(4&t),p=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,h=r;null!==h;){var y=(d=h).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==f&&(null!=(y=Ae(h,f))&&l.push(Ur(h,y,d)))),p)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(p=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,y="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,y="onPointerLeave",f="onPointerEnter",h="pointer"),p=null==u?s:xi(u),d=null==c?s:xi(c),(s=new l(y,h+"leave",u,n,i)).target=p,s.relatedTarget=d,y=null,gi(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=d,l.relatedTarget=p,y=l),p=y,u&&c)e:{for(f=c,h=0,d=l=u;d;d=Xr(d))h++;for(d=0,y=f;y;y=Xr(y))d++;for(;0<h-d;)l=Xr(l),h--;for(;0<d-h;)f=Xr(f),d--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Xr(l),f=Xr(f)}l=null}else l=null;null!==u&&Zr(a,s,u,l,!1),null!==c&&null!==p&&Zr(a,p,c,l,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Gn(s))if(Kn)v=ar;else{v=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Un(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?xi(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(a,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(g=en()):(Jt="value"in(Kt=i)?Kt.value:Kt.textContent,Hn=!0)),0<(m=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=In?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Qt=Jt=Kt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Br(a,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Ur(e,o,i)),null!=(o=Ae(e,t))&&r.push(Ur(e,o,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,o))&&a.unshift(Ur(n,u,s)):i||null!=(u=Ae(n,o))&&a.push(Ur(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),fi="__reactFiber$"+pi,di="__reactProps$"+pi,hi="__reactContainer$"+pi,yi="__reactEvents$"+pi,vi="__reactListeners$"+pi,mi="__reactHandles$"+pi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Ei=[],_i=-1;function Si(e){return{current:e}}function Oi(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function Pi(e,t){_i++,Ei[_i]=e.current,e.current=t}var ki={},ji=Si(ki),Ci=Si(!1),Ti=ki;function Mi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Oi(Ci),Oi(ji)}function Di(e,t,n){if(ji.current!==ki)throw Error(o(168));Pi(ji,t),Pi(Ci,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return L({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ti=ji.current,Pi(ji,e),Pi(Ci,Ci.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Oi(Ci),Oi(ji),Pi(ji,e)):Oi(Ci),Pi(Ci,n)}var Bi=null,Fi=!1,zi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function Hi(){if(!zi&&null!==Bi){zi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Xe(Qe,Hi),i}finally{bt=t,zi=!1}}return null}var $i=[],Gi=0,Ui=null,Wi=0,Xi=[],Zi=0,qi=null,Yi=1,Ki="";function Ji(e,t){$i[Gi++]=Wi,$i[Gi++]=Ui,Ui=e,Wi=t}function Qi(e,t,n){Xi[Zi++]=Yi,Xi[Zi++]=Ki,Xi[Zi++]=qi,qi=e;var r=Yi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ki=o+e}else Yi=1<<o|n<<i|r,Ki=e}function eo(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function to(e){for(;e===Ui;)Ui=$i[--Gi],$i[Gi]=null,Wi=$i[--Gi],$i[Gi]=null;for(;e===qi;)qi=Xi[--Zi],Xi[Zi]=null,Ki=Xi[--Zi],Xi[Zi]=null,Yi=Xi[--Zi],Xi[Zi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function yo(e){null===oo?oo=[e]:oo.push(e)}var vo=x.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Si(null),bo=null,xo=null,wo=null;function Eo(){wo=xo=bo=null}function _o(e){var t=go.current;Oi(go),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var ko=null;function jo(e){null===ko?ko=[e]:ko.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,jo(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ju)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,jo(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function Io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var p=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(f=t,d=n,y.tag){case 1:if("function"===typeof(h=y.payload)){p=h.call(d,p,f);break e}p=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=y.payload)?h.call(d,p,f):h)||void 0===f)break e;p=L({},p,f);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=p):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Iu|=a,e.lanes=a,e.memoizedState=p}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nc(t,e,i,r),Io(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nc(t,e,i,r),Io(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(nc(t,e,r,n),Io(t,e,r))}};function $o(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ai(t)?Ti:ji.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ai(t)?Ti:ji.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&qo(o)===t.type)?((r=i(t,n.props)).ref=Xo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Xo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case E:return(t=Bc(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Zo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:p(e,t,n,r,null);Zo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return p(t,e=e.get(n)||null,r,i,null);Zo(t,r)}return null}function y(i,o,s,u){for(var c=null,l=null,p=o,y=o=0,v=null;null!==p&&y<s.length;y++){p.index>y?(v=p,p=null):v=p.sibling;var m=d(i,p,s[y],u);if(null===m){null===p&&(p=v);break}e&&p&&null===m.alternate&&t(i,p),o=a(m,o,y),null===l?c=m:l.sibling=m,l=m,p=v}if(y===s.length)return n(i,p),io&&Ji(i,y),c;if(null===p){for(;y<s.length;y++)null!==(p=f(i,s[y],u))&&(o=a(p,o,y),null===l?c=p:l.sibling=p,l=p);return io&&Ji(i,y),c}for(p=r(i,p);y<s.length;y++)null!==(v=h(p,i,y,s[y],u))&&(e&&null!==v.alternate&&p.delete(null===v.key?y:v.key),o=a(v,o,y),null===l?c=v:l.sibling=v,l=v);return e&&p.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}function v(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var p=l=null,y=s,v=s=0,m=null,g=u.next();null!==y&&!g.done;v++,g=u.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=d(i,y,g.value,c);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),s=a(b,s,v),null===p?l=b:p.sibling=b,p=b,y=m}if(g.done)return n(i,y),io&&Ji(i,v),l;if(null===y){for(;!g.done;v++,g=u.next())null!==(g=f(i,g.value,c))&&(s=a(g,s,v),null===p?l=g:p.sibling=g,p=g);return io&&Ji(i,v),l}for(y=r(i,y);!g.done;v++,g=u.next())null!==(g=h(y,i,v,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?v:g.key),s=a(g,s,v),null===p?l=g:p.sibling=g,p=g);return e&&y.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&qo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Xo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Rc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Xo(r,o,a),u.return=r,r=u)}return s(r);case E:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,u)).return=r,r=o}return s(r);case A:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return y(r,o,a,u);if(R(a))return v(r,o,a,u);Zo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Ko=Yo(!0),Jo=Yo(!1),Qo={},ea=Si(Qo),ta=Si(Qo),na=Si(Qo);function ra(e){if(e===Qo)throw Error(o(174));return e}function ia(e,t){switch(Pi(na,t),Pi(ta,e),Pi(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(ea),Pi(ea,t)}function oa(){Oi(ea),Oi(ta),Oi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Pi(ta,e),Pi(ea,n))}function sa(e){ta.current===e&&(Oi(ea),Oi(ta))}var ua=Si(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function pa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=x.ReactCurrentDispatcher,da=x.ReactCurrentBatchConfig,ha=0,ya=null,va=null,ma=null,ga=!1,ba=!1,xa=0,wa=0;function Ea(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(ha=a,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,ma=va=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==va&&null!==va.next,ha=0,ma=va=ya=null,ga=!1,t)throw Error(o(300));return e}function Oa(){var e=0!==xa;return xa=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ya.memoizedState=ma=e:ma=ma.next=e,ma}function ka(){if(null===va){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?ya.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ya.memoizedState=ma=e:ma=ma.next=e}return ma}function ja(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var p=l.lane;if((ha&p)===p)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:p,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ya.lanes|=p,Iu|=p}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ya.lanes|=a,Iu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Aa(e,t){var n=ya,r=ka(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Ga(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(o(349));0!==(30&ha)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&La(e)}function Ra(e,t,n){return n((function(){Ia(t)&&La(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=To(e,1);null!==t&&nc(t,e,1,-1)}function Ba(e){var t=Pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ya,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return ka().memoizedState}function Va(e,t,n,r){var i=Pa();ya.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Fa(t,n,o,r))}ya.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function $a(e,t){return Va(8390656,8,e,t)}function Ga(e,t){return Ha(2048,8,e,t)}function Ua(e,t){return Ha(4,2,e,t)}function Wa(e,t){return Ha(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Xa.bind(null,t,e),n)}function qa(){}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=yt(),ya.lanes|=n,Iu|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Co(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,jo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Co(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function is(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:Po,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:Po,useCallback:function(e,t){return Pa().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:$a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pa().memoizedState=e},useState:Ba,useDebugValue:qa,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Qa.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ya,i=Pa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cu)throw Error(o(349));0!==(30&ha)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$a(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pa(),t=Cu.identifierPrefix;if(io){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ga,useImperativeHandle:Za,useInsertionEffect:Ua,useLayoutEffect:Wa,useMemo:Ka,useReducer:Ca,useRef:za,useState:function(){return Ca(ja)},useDebugValue:qa,useDeferredValue:function(e){return Ja(ka(),va.memoizedState,e)},useTransition:function(){return[Ca(ja)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ga,useImperativeHandle:Za,useInsertionEffect:Ua,useLayoutEffect:Wa,useMemo:Ka,useReducer:Ta,useRef:za,useState:function(){return Ta(ja)},useDebugValue:qa,useDeferredValue:function(e){var t=ka();return null===va?t.memoizedState=e:Ja(t,va.memoizedState,e)},useTransition:function(){return[Ta(ja)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Uu=r),fs(0,t)},n}function ys(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Ko(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return Oo(t,i),r=Sa(e,t,n,r,o,i),n=Oa(),null===e||xs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return ks(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Nu,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Nu,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Nu,Au),Au|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Nu,Au),Au|=r;return ws(e,t,i,n),t.child}function Ps(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Ai(n)?Ti:ji.current;return o=Mi(t,o),Oo(t,i),n=Sa(e,t,n,r,o,i),r=Oa(),null===e||xs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function js(e,t,n,r,i){if(Ai(n)){var o=!0;Ii(t)}else o=!1;if(Oo(t,i),null===t.stateNode)$s(e,t),Go(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Mi(t,c=Ai(n)?Ti:ji.current);var l=n.getDerivedStateFromProps,p="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;p||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Uo(t,a,r,c),Mo=!1;var f=t.memoizedState;a.state=f,Bo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ci.current||Mo?("function"===typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=Mo||$o(t,n,s,r,f,u,c))?(p||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,No(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mo(t.type,s),a.props=c,p=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Po(u):u=Mi(t,u=Ai(n)?Ti:ji.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==p||f!==u)&&Uo(t,a,r,u),Mo=!1,f=t.memoizedState,a.state=f,Bo(t,r,a,i);var h=t.memoizedState;s!==p||f!==h||Ci.current||Mo?("function"===typeof d&&(Vo(t,n,d,r),h=t.memoizedState),(c=Mo||$o(t,n,c,r,f,h,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Ps(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return ho(),yo(i),t.flags|=256,ws(e,t,n,r),t.child}var As,Ns,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pi(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ic(u,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=Rs,e):Bs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=ps(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ic({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ko(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=ps(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),xs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,To(e,i),nc(r,e,i,-1))}return yc(),Fs(e,t,s,r=ps(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Xi[Zi++]=Yi,Xi[Zi++]=Ki,Xi[Zi++]=qi,Yi=e.id,Ki=e.overflow,qi=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Rc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Is(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&yo(r),Ko(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Iu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ai(t.type)&&Ni(),Ws(t),null;case 3:return r=t.stateNode,oa(),Oi(Ci),Oi(ji),pa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ws(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ra(ea.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var u in ge(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":W(r),Q(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,As(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&pe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Fr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Oi(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oa(),null===e&&Hr(t.stateNode.containerInfo),Ws(t),null;case 10:return _o(t.type._context),Ws(t),null;case 19:if(Oi(ua),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Us(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Us(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Hu&&(t.flags|=128,r=!0,Us(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ws(t),null}else 2*Ke()-a.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Us(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=ua.current,Pi(ua,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Oi(Ci),Oi(ji),pa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Oi(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(ua),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=q(e,i),r=q(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Ys=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[yi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,pu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Qs(n,t);case 6:var r=lu,i=pu;lu=null,fu(e,t,n),pu=i,null!==(lu=r)&&(pu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(pu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ht(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=pu,lu=n.stateNode.containerInfo,pu=!0,fu(e,t,n),lu=r,pu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ys&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(e,t,n),Ys=r):fu(e,t,n);break;default:fu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,pu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,pu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,pu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){Sc(e,e.return,v)}try{nu(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:yu(t,e),mu(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(yu(t,e),mu(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&K(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var p=c[s],f=c[s+1];"style"===p?ve(i,f):"dangerouslySetInnerHTML"===p?pe(i,f):"children"===p?fe(i,f):b(i,p,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){Sc(e,e.return,v)}}break;case 6:if(yu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Sc(e,e.return,v)}}break;case 3:if(yu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:yu(t,e),mu(e);break;case 13:yu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ke())),4&r&&hu(e);break;case 22:if(p=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||p,yu(t,e),Ys=l):yu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!p&&0!==(1&e.mode))for(Js=e,p=e.child;null!==p;){for(f=Js=p;null!==Js;){switch(h=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Qs(d,d.return);var y=d.stateNode;if("function"===typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Sc(r,n,v)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==h?(h.return=d,Js=h):wu(f)}p=p.sibling}e:for(p=null,f=e;;){if(5===f.tag){if(null===p){p=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ye("display",s))}catch(v){Sc(e,e.return,v)}}}else if(6===f.tag){if(null===p)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yu(t,e),mu(e),4&r&&hu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=qs;var c=Ys;if(qs=a,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Eu(i):null!==u?(u.return=a,Js=u):Eu(i);for(;null!==o;)Js=o,bu(o,t,n),o=o.sibling;Js=i,qs=s,Ys=c}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):xu(e)}}function xu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var p=l.memoizedState;if(null!==p){var f=p.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Eu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Su=Math.ceil,Ou=x.ReactCurrentDispatcher,Pu=x.ReactCurrentOwner,ku=x.ReactCurrentBatchConfig,ju=0,Cu=null,Tu=null,Mu=0,Au=0,Nu=Si(0),Du=0,Ru=null,Iu=0,Lu=0,Bu=0,Fu=null,zu=null,Vu=0,Hu=1/0,$u=null,Gu=!1,Uu=null,Wu=null,Xu=!1,Zu=null,qu=0,Yu=0,Ku=null,Ju=-1,Qu=0;function ec(){return 0!==(6&ju)?Ke():-1!==Ju?Ju:Ju=Ke()}function tc(e){return 0===(1&e.mode)?1:0!==(2&ju)&&0!==Mu?Mu&-Mu:null!==vo.transition?(0===Qu&&(Qu=yt()),Qu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Ku=null,Error(o(185));mt(e,n,r),0!==(2&ju)&&e===Cu||(e===Cu&&(0===(2&ju)&&(Lu|=n),4===Du&&sc(e,Mu)),rc(e,r),1===n&&0===ju&&0===(1&t.mode)&&(Hu=Ke()+500,Fi&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Cu?Mu:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),ai((function(){0===(6&ju)&&Hi()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Qu=0,0!==(6&ju))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===Cu?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=ju;ju|=2;var a=hc();for(Cu===e&&Mu===t||($u=null,Hu=Ke()+500,fc(e,t));;)try{gc();break}catch(u){dc(e,u)}Eo(),Ou.current=a,ju=i,null!==Tu?t=0:(Cu=null,Mu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ru,fc(e,0),sc(e,r),rc(e,Ke()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=ht(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ru,fc(e,0),sc(e,r),rc(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,zu,$u);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Ke())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zu,$u),t);break}wc(e,zu,$u);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zu,$u),r);break}wc(e,zu,$u);break;default:throw Error(o(329))}}}return rc(e,Ke()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zu,zu=n,null!==t&&ac(t)),e}function ac(e){null===zu?zu=e:zu.push.apply(zu,e)}function sc(e,t){for(t&=~Bu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&ju))throw Error(o(327));Ec();var t=ft(e,0);if(0===(1&t))return rc(e,Ke()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ru,fc(e,0),sc(e,t),rc(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zu,$u),rc(e,Ke()),null}function cc(e,t){var n=ju;ju|=1;try{return e(t)}finally{0===(ju=n)&&(Hu=Ke()+500,Fi&&Hi())}}function lc(e){null!==Zu&&0===Zu.tag&&0===(6&ju)&&Ec();var t=ju;ju|=1;var n=ku.transition,r=bt;try{if(ku.transition=null,bt=1,e)return e()}finally{bt=r,ku.transition=n,0===(6&(ju=t))&&Hi()}}function pc(){Au=Nu.current,Oi(Nu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:oa(),Oi(Ci),Oi(ji),pa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Oi(ua);break;case 10:_o(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Cu=e,Tu=e=Nc(e.current,null),Mu=Au=t,Du=0,Ru=null,Bu=Lu=Iu=0,zu=Fu=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function dc(e,t){for(;;){var n=Tu;try{if(Eo(),fa.current=as,ga){for(var r=ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(ha=0,ma=va=ya=null,ba=!1,xa=0,Pu.current=null,null===n||null===n.return){Du=1,Ru=t,Tu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Mu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,p=u,f=p.tag;if(0===(1&p.mode)&&(0===f||11===f||15===f)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,gs(h,s,u,0,t),1&h.mode&&vs(a,l,t),c=l;var y=(t=h).updateQueue;if(null===y){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}if(0===(1&t)){vs(a,l,t),yc();break e}c=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),yo(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Fu?Fu=[a]:Fu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,hs(0,c,t));break e;case 1:u=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ys(a,u,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function hc(){var e=Ou.current;return Ou.current=as,null===e?as:e}function yc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Cu||0===(268435455&Iu)&&0===(268435455&Lu)||sc(Cu,Mu)}function vc(e,t){var n=ju;ju|=2;var r=hc();for(Cu===e&&Mu===t||($u=null,fc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(Eo(),ju=n,Ou.current=r,null!==Tu)throw Error(o(261));return Cu=null,Mu=0,Du}function mc(){for(;null!==Tu;)bc(Tu)}function gc(){for(;null!==Tu&&!qe();)bc(Tu)}function bc(e){var t=_u(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?xc(e):Tu=t,Pu.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Au)))return void(Tu=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Du=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=bt,i=ku.transition;try{ku.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Zu);if(0!==(6&ju))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cu&&(Tu=Cu=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Cc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ku.transition,ku.transition=null;var s=bt;bt=1;var u=ju;ju|=4,Pu.current=null,function(e,t){if(ei=Gt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,p=0,f=e,d=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++p===r&&(c=s),null!==(h=f.nextSibling))break;d=(f=d).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var y=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var v=y.memoizedProps,m=y.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}y=tu,tu=!1}(e,n),vu(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),ju=u,bt=s,ku.transition=a}else e.current=n;if(Xu&&(Xu=!1,Zu=e,qu=i),0===(a=e.pendingLanes)&&(Wu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Uu,Uu=null,e;0!==(1&qu)&&0!==e.tag&&Ec(),0!==(1&(a=e.pendingLanes))?e===Ku?Yu++:(Yu=0,Ku=e):Yu=0,Hi()}(e,t,n,r)}finally{ku.transition=i,bt=r}return null}function Ec(){if(null!==Zu){var e=xt(qu),t=ku.transition,n=bt;try{if(ku.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,qu=0,0!==(6&ju))throw Error(o(331));var i=ju;for(ju|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var p=Js;switch(p.tag){case 0:case 11:case 15:nu(8,p,a)}var f=p.child;if(null!==f)f.return=p,Js=f;else for(;null!==Js;){var d=(p=Js).sibling,h=p.return;if(ou(p),p===l){Js=null;break}if(null!==d){d.return=h,Js=d;break}Js=h}}}var y=a.alternate;if(null!==y){var v=y.child;if(null!==v){y.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Js=g;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(E){Sc(u,u.return,E)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(ju=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,ku.transition=t}}return!1}function _c(e,t,n){e=Ro(e,t=hs(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Ro(t,e=ys(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Mu&n)===n&&(4===Du||3===Du&&(130023424&Mu)===Mu&&500>Ke()-Vu?fc(e,0):Bu|=n),rc(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=To(e,t))&&(mt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Pc(e,n)}function Cc(e,t){return Xe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Tc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Rc(n.children,i,a,t);case S:s=8,i|=8;break;case O:return(e=Mc(12,n,t,2|i)).elementType=O,e.lanes=a,e;case C:return(e=Mc(13,n,t,i)).elementType=C,e.lanes=a,e;case T:return(e=Mc(19,n,t,i)).elementType=T,e.lanes=a,e;case N:return Ic(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case k:s=9;break e;case j:s=11;break e;case M:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hc(e){if(!e)return ki;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function $c(e,t,n,r,i,o,a,s,u){return(e=zc(n,r,!0,e,0,o,0,s,u)).context=Hc(null),n=e.current,(o=Do(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(nc(e,i,a,o),Io(e,i,a)),a}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),ho();break;case 5:aa(t);break;case 1:Ai(t.type)&&Ii(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Pi(ua,1&ua.current),null!==(e=Gs(e,t,n))?e.sibling:null);Pi(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=Mi(t,ji.current);Oo(t,n),i=Sa(null,t,r,e,i,n);var a=Oa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===M)return 14}return 2}(r),e=mo(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=js(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=_s(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,No(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ps(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ko(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pi(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var p=(l=l.shared).pending;null===p?c.next=c:(c.next=p.next,p.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oo(t,n),r=r(i=Po(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),_s(e,t,r,i=mo(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),$s(e,t),t.tag=1,Ai(r)?(e=!0,Ii(t)):e=!1,Oo(t,n),Go(t,r,i),Wo(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Os(e,t,n)}throw Error(o(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Uc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Uc(a);o.call(e)}}var a=$c(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[hi]=a.current,Hr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Uc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=u,e[hi]=u.current,Hr(8===e.nodeType?e.parentNode:e),lc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Uc(a)}Yc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Yc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Gc(null,e,null,null)})),t[hi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ke()),0===(6&ju)&&(Hu=Ke()+500,Hi()))}break;case 13:lc((function(){var t=To(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Xc(e,1)}},Et=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)nc(t,e,134217728,ec());Xc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=To(e,t);if(null!==n)nc(n,e,t,ec());Xc(e,t)}},St=function(){return bt},Ot=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));X(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[bi,xi,wi,Pe,ke,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case y:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===p}t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===s||e===a||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},7441:function(e,t,n){"use strict";e.exports=n(1372)},8687:function(e,t,n){"use strict";n.d(t,{zt:function(){return X},$j:function(){return W},I0:function(){return Q},v9:function(){return y}});var r=n(7248),i=n(327),o=n(4164);var a=function(e){e()},s=function(){return a},u=n(2791),c=u.createContext(null);function l(){return(0,u.useContext)(c)}var p=function(){throw new Error("uSES not initialized!")},f=p,d=function(e,t){return e===t};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,u.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var r=t(),i=r.store,o=r.subscription,a=r.getServerState,s=f(o.addNestedSub,i.getState,a||i.getState,e,n);return(0,u.useDebugValue)(s),s}}var y=h(),v=n(9439),m=n(3433),g=n(7462),b=n(3366),x=n(2110),w=n.n(x),E=n(6900),_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function S(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,p=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function h(i,d){var h=!p(d,a),y=!l(i,o);return o=i,a=d,h&&y?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):h?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):y?function(){var t=e(o,a),r=!f(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return d?h(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function O(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=(0,b.Z)(t,_);return S(n(e,o),r(e,o),i(e,o),e,o)}function P(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function k(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=k(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(t,n)),i},r}}function C(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function T(e){return e&&"object"===typeof e?P((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?j(e):C(e,"mapDispatchToProps"):P((function(e){return{dispatch:e}}))}function M(e){return e?"function"===typeof e?j(e):C(e,"mapStateToProps"):P((function(){return{}}))}function A(e,t,n){return(0,g.Z)({},n,e,t)}function N(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var s=e(t,n,a);return o?i(s,r)||(r=s):(o=!0,r=s),r}}}(e):C(e,"mergeProps"):function(){return A}}var D={notify:function(){},get:function(){return[]}};function R(e,t){var n,r=D;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=D)},getListeners:function(){return r}};return a}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?u.useLayoutEffect:u.useEffect;function L(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function B(e,t){if(L(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!L(e[n[i]],t[n[i]]))return!1;return!0}var F=["reactReduxForwardedRef"],z=p,V=[null,null];function H(e,t,n){I((function(){return e.apply(void 0,(0,m.Z)(t))}),n)}function $(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function G(e,t,n,r,i,o,a,s,u,c,l){if(!e)return function(){};var p=!1,f=null,d=function(){if(!p&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(h){n=h,f=h}n||(f=null),e===o.current?a.current||c():(o.current=e,u.current=e,a.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function U(e,t){return e===t}var W=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(r.pure,r.areStatesEqual),o=void 0===i?U:i,a=r.areOwnPropsEqual,s=void 0===a?B:a,l=r.areStatePropsEqual,p=void 0===l?B:l,f=r.areMergedPropsEqual,d=void 0===f?B:f,h=r.forwardRef,y=void 0!==h&&h,m=r.context,x=void 0===m?c:m,_=x,S=M(e),P=T(t),k=N(n),j=Boolean(e),C=function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:j,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:S,initMapDispatchToProps:P,initMergeProps:k,areStatesEqual:o,areStatePropsEqual:p,areOwnPropsEqual:s,areMergedPropsEqual:d};function i(t){var n=(0,u.useMemo)((function(){var e=t.reactReduxForwardedRef,n=(0,b.Z)(t,F);return[t.context,e,n]}),[t]),i=(0,v.Z)(n,3),o=i[0],a=i[1],s=i[2],c=(0,u.useMemo)((function(){return o&&o.Consumer&&(0,E.isContextConsumer)(u.createElement(o.Consumer,null))?o:_}),[o,_]),l=(0,u.useContext)(c),p=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),f=Boolean(l)&&Boolean(l.store);var d=p?t.store:l.store,h=f?l.getServerState:d.getState,y=(0,u.useMemo)((function(){return O(d.dispatch,r)}),[d]),m=(0,u.useMemo)((function(){if(!j)return V;var e=R(d,p?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,p,l]),x=(0,v.Z)(m,2),w=x[0],S=x[1],P=(0,u.useMemo)((function(){return p?l:(0,g.Z)({},l,{subscription:w})}),[p,l,w]),k=(0,u.useRef)(),C=(0,u.useRef)(s),T=(0,u.useRef)(),M=(0,u.useRef)(!1),A=((0,u.useRef)(!1),(0,u.useRef)(!1)),N=(0,u.useRef)();I((function(){return A.current=!0,function(){A.current=!1}}),[]);var D,L=(0,u.useMemo)((function(){return function(){return T.current&&s===C.current?T.current:y(d.getState(),s)}}),[d,s]),B=(0,u.useMemo)((function(){return function(e){return w?G(j,d,w,y,C,k,M,A,T,S,e):function(){}}}),[w]);H($,[C,k,M,s,T,S]);try{D=z(B,L,h?function(){return y(h(),s)}:L)}catch(W){throw N.current&&(W.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),W}I((function(){N.current=void 0,T.current=void 0,k.current=D}));var U=(0,u.useMemo)((function(){return u.createElement(e,(0,g.Z)({},D,{ref:a}))}),[a,e,D]);return(0,u.useMemo)((function(){return j?u.createElement(c.Provider,{value:P},U):U}),[c,U,P])}var a=u.memo(i);if(a.WrappedComponent=e,a.displayName=i.displayName=n,y){var c=u.forwardRef((function(e,t){return u.createElement(a,(0,g.Z)({},e,{reactReduxForwardedRef:t}))}));return c.displayName=n,c.WrappedComponent=e,w()(c,e)}return w()(a,e)};return C};var X=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=(0,u.useMemo)((function(){var e=R(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),a=(0,u.useMemo)((function(){return t.getState()}),[t]);I((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,a]);var s=n||c;return u.createElement(s.Provider,{value:o},r)};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,u.useContext)(e)};return function(){return t().store}}var q=Z();function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?q:Z(e);return function(){return t().dispatch}}var K,J,Q=Y();K=i.useSyncExternalStoreWithSelector,f=K,function(e){z=e}(r.useSyncExternalStore),J=o.unstable_batchedUpdates,a=J},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case y:case h:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===c}},6900:function(e,t,n){"use strict";e.exports=n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var x=b.prototype=new g;x.constructor=b,y(x,m.prototype),x.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+j(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+j(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+j(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],p=1,f=null,d=3,h=!1,y=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(v=!1,x(e),!y)if(null!==r(c))y=!0,N(E);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function E(e,n){y=!1,v&&(v=!1,g(P),P=-1),h=!0;var o=d;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!C());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),x(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var p=r(l);null!==p&&D(w,p.startTime-n),u=!1}return u}finally{f=null,d=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,O=null,P=-1,k=5,j=-1;function C(){return!(t.unstable_now()-j<k)}function T(){if(null!==O){var e=t.unstable_now();j=e;var n=!0;try{n=O(!0,e)}finally{n?_():(S=!1,O=null)}}else S=!1}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=T,_=function(){A.postMessage(null)}}else _=function(){m(T,0)};function N(e){O=e,S||(S=!0,_())}function D(e,n){P=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,N(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:p++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(g(P),P=-1):v=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),y||h||(y=!0,N(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8428:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5787),i=n(870);var o=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}},a={scrollSymbolLeft:"\u2039",scrollSymbolRight:"\u203a"};function s(e,t){(0,i.f0)(this,o()),this.options=t=(0,i.f0)({},a,t),this.container=e,this._createScrollButtons(e,t),this._bindEvents(e)}function u(e,t){var n=c(e);return n||(n=new s(e,t),e.__scrollTabs=n),n}function c(e){return e.__scrollTabs}s.prototype._createButton=function(e,t){var n=t.className,i=t.direction,o=(0,r.IO)("."+n,e);return o||(o=(0,r.H6)('<span class="scroll-tabs-button '+n+'">'+t.label+"</span>"),e.insertBefore(o,e.childNodes[0])),(0,r.Lj)(o,"data-direction",i),o},s.prototype._createScrollButtons=function(e,t){this._createButton(e,{className:"scroll-tabs-left",label:t.scrollSymbolLeft,direction:-1}),this._createButton(e,{className:"scroll-tabs-right",label:t.scrollSymbolRight,direction:1})},s.prototype.getActiveTabNode=function(){return(0,r.IO)(this.options.selectors.active,this.container)},s.prototype.getTabsContainerNode=function(){return(0,r.IO)(this.options.selectors.tabsContainer,this.container)},s.prototype.getAllTabNodes=function(){return(0,r.Kt)(this.options.selectors.tab,this.container)},s.prototype.getVisibleTabs=function(){var e=this.getAllTabNodes(),t=this.options.selectors.ignore;return(0,i.hX)(e,(function(e){return!(0,r.wB)(e,t)}))},s.prototype.getAdjacentTab=function(e,t){var n=this.getVisibleTabs(),r=n.indexOf(e);return n[r+t]},s.prototype._bindEvents=function(e){this._bindWheelEvent(e),this._bindTabClickEvents(e),this._bindScrollButtonEvents(e)},s.prototype._bindTabClickEvents=function(e){var t=this.options.selectors.tab,n=this;r.cl.bind(e,t,"click",(function(e){n.scrollToTabNode(e.delegateTarget)}))},s.prototype._bindWheelEvent=function(e){var t=this;r.B.bind(e,"wheel",(function(e){var n=Math.sign(e.deltaY),r=t.getActiveTabNode(),i=t.getAdjacentTab(r,n);i&&(t.scrollToTabNode(i),t.emit("scroll",i,r,n)),e.preventDefault()}))},s.prototype._bindScrollButtonEvents=function(e){var t=this;r.cl.bind(e,".scroll-tabs-button","click",(function(e){var n=e.delegateTarget,i=parseInt((0,r.Lj)(n,"data-direction"),10),o=t.getActiveTabNode(),a=t.getAdjacentTab(o,i);a&&(t.scrollToTabNode(a),t.emit("scroll",a,o,i)),e.preventDefault()}))},s.prototype.scrollToTabNode=function(e){if(e){var t=e.parentNode,n=e.offsetWidth,r=e.offsetLeft,i=r+n,o=t.offsetWidth;t.scrollLeft>r?t.scrollLeft=0:i>o&&(t.scrollLeft=i-o)}},s.prototype.update=function(){var e=this.getTabsContainerNode(),t=e.scrollWidth>e.offsetWidth;(0,r.Sh)(this.container).toggle("scroll-tabs-overflow",t),t&&this.scrollToTabNode(this.getActiveTabNode())},u.get=c},6504:function(e){"use strict";function t(e,t){return{start:e,end:void 0===t?e:t}}e.exports=function(e,n,r){var i=e.start,o=i,a=(r.length,n.length),s=(r.length,n.length,n.substring(i));return r.lastIndexOf(s)===r.length-s.length&&(n=n.substring(0,n.length-s.length),r=r.substring(0,r.length-s.length)),a=function(e,t){var n,r,i,o=0,a=0;t.length>e.length?(r=t,i=e):(r=e,i=t);for(;o<r.length;)r.charAt(o)!==i.charAt(a)?(n||(n={l_start:o,s_start:a}),o++):(n&&!n.complete&&(n.l_end=o,n.s_end=a,n.complete=!0),a++,o++);n&&!n.complete&&(n.complete=!0,n.s_end=i.length,n.l_end=r.length);if(!n)return;return t.length>e.length?{newStart:n.l_start,newEnd:n.l_end,type:"add"}:{newStart:n.s_start,newEnd:n.s_end,type:t.length<e.length?"remove":"replace"}}(n,r),a&&(o="remove"===a.type?a.newStart:a.newEnd),t(o)},e.exports.range=t},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var p=s(null);if(null===p.current){var f={hasValue:!1,value:null};p.current=f}else f=p.current;p=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=a(e,p[0],p[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{387:"ac496485",649:"91687ee7",787:"28cb0dcd",813:"82d102b4"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var p=c[l];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){s=p;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(2791),r=n.t(t,2),i=n(1250),o=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},a=n(1413),s=n(9439),u=n(3433);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(S_){return!1}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function b(e){var t=y();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function x(e,t,n){return x=y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},x.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return x(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},w(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var _,S="popstate";function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(S_){}}}function P(e){return{usr:e.state,key:e.key}}function k(e,t,n,r){return void 0===n&&(n=null),E({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function C(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function T(t,n,r,i){void 0===i&&(i={});var o=i,a=o.window,s=void 0===a?document.defaultView:a,u=o.v5Compat,c=void 0!==u&&u,l=s.history,p=e.Pop,f=null;function d(){p=e.Pop,f&&f({action:p,location:h.location})}var h={get action(){return p},get location(){return t(s,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(S,d),f=e,function(){s.removeEventListener(S,d),f=null}},createHref:function(e){return n(s,e)},push:function(t,n){p=e.Push;var i=k(h.location,t,n);r&&r(i,t);var o=P(i),a=h.createHref(i);try{l.pushState(o,"",a)}catch(Cr){s.location.assign(a)}c&&f&&f({action:p,location:i})},replace:function(t,n){p=e.Replace;var i=k(h.location,t,n);r&&r(i,t);var o=P(i),a=h.createHref(i);l.replaceState(o,"",a),c&&f&&f({action:p,location:i})},go:function(e){return l.go(e)}};return h}function M(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=I(i[a],r);return o}function A(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(F(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var a=H([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),A(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_||(_={}));var N=/^:\w+$/,D=function(e){return"*"===e};function R(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=L({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var p=s.route;o.push({params:r,pathname:H([i,l.pathname]),pathnameBase:$(H([i,l.pathnameBase])),route:p}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,s.Z)(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var u=a[0],c=u.replace(/(.)\/+$/,"$1"),l=a.slice(1),p=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Cr){return z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Cr+")."),e}}(l[n]||"",t),e}),{});return{params:p,pathname:u,pathnameBase:c,pattern:e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(S_){}}}function V(e,t,n,r){void 0===r&&(r=!1);var i,o="string"===typeof e?C(e):E({},e),a=""===e||""===o.pathname,s=a?"/":o.pathname;if(r||null==s)i=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;o.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?C(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:G(o),hash:U(s)}}(o,i),p=s&&"/"!==s&&s.endsWith("/"),f=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!p&&!f||(l.pathname+="/"),l}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},$=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},G=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},U=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},W=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(w(Error));var X=p((function e(t,n,r){c(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Z(e){return e instanceof X}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}var Y="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},K=t.useState,J=t.useEffect,Q=t.useLayoutEffect,ee=t.useDebugValue;function te(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Y(n,r)}catch(Cr){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ne=t.createContext(null);var re=t.createContext(null);var ie=t.createContext(null);var oe=t.createContext(null);var ae=t.createContext(null);var se=t.createContext(null);var ue=t.createContext({outlet:null,matches:[]});var ce=t.createContext(null);function le(){return null!=t.useContext(se)}function pe(){return le()||F(!1),t.useContext(se).location}function fe(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function de(){le()||F(!1);var e=t.useContext(ae),n=e.basename,r=e.navigator,i=t.useContext(ue).matches,o=pe().pathname,a=JSON.stringify(fe(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=V(e,JSON.parse(a),o,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:H([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,a,o])}function he(){var e=function(){var e,n=t.useContext(ce),r=be(ye.UseRouteError),i=t.useContext(ue),o=i.matches[i.matches.length-1];if(n)return n;return i||F(!1),!o.route.id&&F(!1),null==(e=r.errors)?void 0:e[o.route.id]}(),n=Z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}var ye,ve=function(e){d(r,e);var n=b(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ce.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function me(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(ne);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(ue.Provider,{value:n},i)}function ge(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,o=null==r?void 0:r.errors;if(null!=o){var a=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||F(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(e,a,s){var u=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||t.createElement(he,null):null,l=function(){return t.createElement(me,{match:a,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==a.route.element?a.route.element:e)};return r&&(a.route.errorElement||0===s)?t.createElement(ve,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function be(e){var n=t.useContext(ie);return n||F(!1),n}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ye||(ye={}));var xe;function we(e){var n=e.to,r=e.replace,i=e.state,o=e.relative;le()||F(!1);var a=t.useContext(ie),s=de();return t.useEffect((function(){a&&"idle"!==a.navigation.state||s(n,{replace:r,state:i,relative:o})})),null}function Ee(e){F(!1)}function _e(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,p=n.static,f=void 0!==p&&p;le()&&F(!1);var d=i.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=C(s));var y=s,v=y.pathname,m=void 0===v?"/":v,g=y.search,b=void 0===g?"":g,x=y.hash,w=void 0===x?"":x,E=y.state,_=void 0===E?null:E,S=y.key,O=void 0===S?"default":S,P=t.useMemo((function(){var e=B(m,d);return null==e?null:{pathname:e,search:b,hash:w,state:_,key:O}}),[d,m,b,w,_,O]);return null==P?null:t.createElement(ae.Provider,{value:h},t.createElement(se.Provider,{children:a,value:{location:P,navigationType:c}}))}function Se(n){var r=n.children,i=n.location,o=t.useContext(re);return function(n,r){le()||F(!1);var i,o=t.useContext(ie),a=t.useContext(ue).matches,s=a[a.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,pe());if(r){var p,f="string"===typeof r?C(r):r;"/"===c||(null==(p=f.pathname)?void 0:p.startsWith(c))||F(!1),i=f}else i=l;var d=i.pathname||"/",h=M(n,{pathname:"/"===c?d:d.slice(c.length)||"/"}),y=ge(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:H([c,e.pathnameBase])})})),a,o||void 0);return r?t.createElement(se.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},y):y}(o&&!r?o.router.routes:Pe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(xe||(xe={}));var Oe=new Promise((function(){}));t.Component;function Pe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ee&&F(!1);var o=[].concat((0,u.Z)(n),[i]),a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Pe(e.props.children,o)),r.push(a)}else r.push.apply(r,Pe(e.props.children,n))})),r}function ke(e){var n,r=e.basename,i=e.children,o=e.window,a=t.useRef();null==a.current&&(a.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),T((function(e,t){var n=C(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,o=n.search,a=void 0===o?"":o,s=n.hash;return k("",{pathname:i,search:a,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,o=i.indexOf("#");r=-1===o?i:i.slice(0,o)}return r+"#"+("string"===typeof t?t:j(t))}),(function(e,t){O("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var u=a.current,c=t.useState({action:u.action,location:u.location}),l=(0,s.Z)(c,2),p=l[0],f=l[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(_e,{basename:r,children:i,location:p.location,navigationType:p.action,navigator:u})}var je=(0,t.createContext)(null),Ce=n(184);var Te=n(4942),Me=(0,t.forwardRef)((function(e,n){var r=(0,t.useState)(e.children||[]),i=(0,s.Z)(r,2),o=i[0],u=i[1],c=(0,t.useState)({}),l=(0,s.Z)(c,2),p=l[0],f=l[1];(0,t.useEffect)((function(){u(e.children.filter((function(e){return"FormItem"===e.type.name})))}),[e.children]),(0,t.useImperativeHandle)(n,(function(){return{submitForm:d,resetForm:y,getFieldsValue:h,setFieldValue:v}}));var d=function(e){e((0,a.Z)({},p))},h=function(){return(0,a.Z)({},p)},y=function(){Object.keys(p).forEach((function(e){p[e]=""})),f((0,a.Z)({},p))},v=function(e){Object.keys(e).forEach((function(t){p[t]=e[t]})),f((0,a.Z)({},p))},m=function(e,t){f((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,Te.Z)({},e,t))}))};return o.map((function(e){return t.cloneElement(e,{key:e.props.name,handleChange:m,value:p[e.props.name]||""})}))})),Ae=Me,Ne=function(e){return(0,Ce.jsxs)("div",{style:{padding:"10px"},children:[(0,Ce.jsxs)("label",{style:{marginRight:"10px",fontSize:"15px"},children:[e.label,":"]}),t.cloneElement(e.children,{change:e.handleChange,value:e.value,name:e.name})]})},De=function(e){var t=e.name,n=e.value,r=e.change,i=e.onChange,o=e.type,a=void 0===o?"text":o,s=e.placeholder,u=e.max,c=e.maxLength;return(0,Ce.jsx)("input",{max:u,maxLength:c,value:n,type:a,placeholder:s,onFocus:function(){},onChange:function(e){r?r(t,e.target.value):i&&i(e)}})},Re=function(e){var n=e.placeholder,r=e.children,i=e.value,o=e.name,a=e.change,s=e.onChange,u=e.disabled;return(0,Ce.jsx)("select",{style:{minWidth:"100px"},disabled:u,value:i,placeholder:n,onChange:function(e){a?a(o,e.target.value):s&&s(e)},children:r.map((function(e){return t.cloneElement(e)}))})};Re.Option=function(e){var t=e.value,n=e.children;return(0,Ce.jsx)("option",{value:t,children:n})};var Ie=Re,Le=function(e){var n=(0,t.useRef)(null);return(0,Ce.jsxs)(t.Fragment,{children:[(0,Ce.jsxs)(Ae,{ref:n,children:[(0,Ce.jsx)(Ne,{name:"username",label:"\u59d3\u540d",children:(0,Ce.jsx)(De,{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"})}),(0,Ce.jsx)(Ne,{name:"password",label:"\u5bc6\u7801",children:(0,Ce.jsx)(De,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),(0,Ce.jsx)(Ne,{name:"person",label:"\u9009\u62e9\u4eba\u7269",children:(0,Ce.jsxs)(Ie,{placeholder:"\u8bf7\u9009\u62e9",children:[(0,Ce.jsx)(Ie.Option,{value:"1",children:"\u5c0fA"},"1"),(0,Ce.jsx)(Ie.Option,{value:"2",children:"\u5c0fB"},"2"),(0,Ce.jsx)(Ie.Option,{value:"3",children:"\u5c0fC"},"3")]})})]}),(0,Ce.jsxs)("div",{style:{padding:"5px",marginLeft:"50px"},children:[(0,Ce.jsx)("button",{onClick:function(){n.current.submitForm((function(e){console.log(e)}))},style:{marginRight:"15px"},children:"\u63d0\u4ea4"}),(0,Ce.jsx)("button",{onClick:function(){n.current.resetForm()},style:{marginRight:"15px"},children:"\u91cd\u7f6e"}),(0,Ce.jsx)("button",{style:{marginRight:"15px"},onClick:function(){var e=n.current.getFieldsValue();console.log("data: ",e)},children:"\u83b7\u53d6\u8868\u5355\u503c"}),(0,Ce.jsx)("button",{onClick:function(){n.current.setFieldValue({username:"shimmer",password:"123456",person:"3"})},children:"\u8bbe\u7f6e\u8868\u5355\u503c"})]})]})},Be=function(e){var n=(0,t.useContext)(je),r=n.contextValue,i=n.setContextValue;return(0,Ce.jsxs)(t.Fragment,{children:[(0,Ce.jsx)("button",{style:{color:r.theme},onClick:function(){"blue"===r.theme?i({theme:"pink"}):i({theme:"blue"})},children:"\u5207\u6362\u4e3b\u9898"}),(0,Ce.jsx)("div",{style:{height:"50px",margin:"10px ",width:"500px",backgroundColor:r.theme}})]})};function Fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function ze(){return ze="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Fe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ze.apply(this,arguments)}var Ve,He=n(4164),$e=function(e){d(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).state={num:1},r}return p(n,[{key:"componentDidMount",value:function(){this.setState({num:5}),this.setState({num:4})}},{key:"render",value:function(){var e=this;return(0,Ce.jsxs)("div",{children:[ze(h(n.prototype),"render",this).call(this),(0,Ce.jsx)("h1",{children:"\u6211\u662fHOCPageChild"}),(0,Ce.jsx)("h2",{children:this.state.num}),(0,Ce.jsx)("button",{onClick:function(){e.setState({num:15}),He.flushSync((function(){e.setState({num:20})})),e.setState({num:16})},children:"\u6539\u53d8"})]})}}]),n}(function(e){d(r,e);var n=b(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={num:111},t}return p(r,[{key:"render",value:function(){return(0,Ce.jsx)(t.Fragment,{children:(0,Ce.jsx)("h1",{children:"\u6211\u662fHOCPage"})})}}]),r}(t.Component)),Ge=function(e){var n=(0,t.useState)(1),r=(0,s.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)((0,Ce.jsx)("button",{onClick:function(){e.changeState()},children:"usestate\u5185\u90e8\u6539\u53d8"})),u=(0,s.Z)(a,2),c=u[0];u[1];return(0,Ce.jsxs)(t.Fragment,{children:[(0,Ce.jsx)("h1",{children:"\u6211\u662fHooksPage"}),(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Ce.jsxs)("h2",{children:["num:",i]}),(0,Ce.jsx)("button",{onClick:function(){o((function(e){return e+1})),o((function(e){return e+2})),o((function(e){return e+3})),e.changeState()},children:"\u6539\u53d8"}),c]})]})},Ue=function(e){return console.log("memoPage\u6e32\u67d3\u4e86"),(0,Ce.jsx)(t.Fragment,{children:(0,Ce.jsxs)("h1",{children:["\u6211\u662fMemoPage||number:",e.number]})})},We=function(e){var n=e.visible,r=e.width,i=e.height,o=e.children,a=(0,t.useState)(n||!1),u=(0,s.Z)(a,2);u[0],u[1];return(0,t.useMemo)((function(){var e=(0,Ce.jsx)("div",{className:"modal-box",style:n?{display:"block"}:{display:"none"},children:(0,Ce.jsx)("div",{className:"modal-warp",children:(0,Ce.jsxs)("div",{style:{width:r,height:i},children:[o," "]})})});return He.createPortal(e,document.body)}),[n,r,i,o])},Xe=function(e){d(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).createHeader=function(){var e=r.props,t=e.title,n=e.onCancel;return(0,Ce.jsxs)("div",{className:"modal-header",children:[(0,Ce.jsx)("span",{className:"modal-header-title",children:t}),(0,Ce.jsx)("span",{className:"modal-header-close",onClick:n,children:"\xd7"})]})},r.createMain=function(){return r.props.children},r.createFooter=function(){var e=r.props,t=e.onOk,n=e.onCancel,i=e.footer;return null===i?null:(0,Ce.jsx)("div",{className:"modal-footer",children:i||(0,Ce.jsxs)("div",{className:"modal-footer-button",children:[(0,Ce.jsx)("span",{className:"modal-footer-button-ok",onClick:t,children:"\u786e\u8ba4"}),(0,Ce.jsx)("span",{className:"modal-footer-button-cancel",onClick:n,children:"\u53d6\u6d88"})]})})},r.props=e,r.state={},r}return p(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.width,r=void 0===n?500:n,i=e.height,o=void 0===i?500:i,a=e.closeCb,s=e.onClose;e.footer;return(0,Ce.jsxs)(We,{visible:t,width:r,height:o,onClose:s,closeCb:a,children:[this.createHeader(),this.createMain(),this.createFooter()]})}}]),n}(t.Component),Ze=function(e,n){console.log("fun: ",e);var r=(0,t.useRef)(e);return(0,t.useMemo)((function(){!function(e,t){var n=null}(r.current(),n)}),[n])},qe=[{name:"\u9a6c",color:"#5470c6",position:[null,null,null]},{name:"\u9a6c",color:"#5470c6",position:[null,null,null]},{name:"\u9a6c",color:"#5470c6",position:[null,null,null]},{name:"\u9a70",color:"#fac858",position:[null,null,null]},{name:"\u9a70",color:"#fac858",position:[null,null,null]},{name:"\u9a70",color:"#fac858",position:[null,null,null]},{name:"\u6731",color:"#ee6666",position:[null,null,null]},{name:"\u6731",color:"#ee6666",position:[null,null,null]},{name:"\u6731",color:"#ee6666",position:[null,null,null]},{name:"\u632f",color:"#73c0de",position:[null,null,null]},{name:"\u632f",color:"#73c0de",position:[null,null,null]},{name:"\u632f",color:"#73c0de",position:[null,null,null]},{name:"\u9a9a",color:"#3bd272",position:[null,null,null]},{name:"\u9a9a",color:"#3bd272",position:[null,null,null]},{name:"\u9a9a",color:"#3bd272",position:[null,null,null]},{name:"\u5218",color:"#9a60b4",position:[null,null,null]},{name:"\u5218",color:"#9a60b4",position:[null,null,null]},{name:"\u5218",color:"#9a60b4",position:[null,null,null]},{name:"\u80d6",color:"#ea7ccc",position:[null,null,null]},{name:"\u80d6",color:"#ea7ccc",position:[null,null,null]},{name:"\u80d6",color:"#ea7ccc",position:[null,null,null]},{name:"\u90a2",color:"#c14cac",position:[null,null,null]},{name:"\u90a2",color:"#c14cac",position:[null,null,null]},{name:"\u90a2",color:"#c14cac",position:[null,null,null]},{name:"\u540a",color:"#f08300",position:[null,null,null]},{name:"\u540a",color:"#f08300",position:[null,null,null]},{name:"\u540a",color:"#f08300",position:[null,null,null]},{name:"\u9f99",color:"#004eff",position:[null,null,null]},{name:"\u9f99",color:"#004eff",position:[null,null,null]},{name:"\u9f99",color:"#004eff",position:[null,null,null]},{name:"\u695e",color:"#00e4ff",position:[null,null,null]},{name:"\u695e",color:"#00e4ff",position:[null,null,null]},{name:"\u695e",color:"#00e4ff",position:[null,null,null]},{name:"\u5f20",color:"#c0e8ff",position:[null,null,null]},{name:"\u5f20",color:"#c0e8ff",position:[null,null,null]},{name:"\u5f20",color:"#c0e8ff",position:[null,null,null]}],Ye=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[].concat(qe),n=[9,16,25,36,49,64,81],r=[3,4,5,6,7,8,9],i=[7,14,14,24,49,40],o=[18,36,72,111,150,240],s=[],c=i[e-1];c>0;)s.push({name:"",color:"",position:[null,null,null]}),c--;var l=o[e-1]/3%12*3,p=t.map((function(e,t){return t<l?e:null})).filter((function(e){return e})),f=[];1===e&&(f=p),2===e&&(f=t),3===e&&(f=t.concat(t)),4===e&&(f=(t=[].concat(qe)).concat(t,t,p)),5===e&&(f=(t=[].concat(qe)).concat(t,t,t,p)),6===e&&(f=(t=[].concat(qe)).concat(t,t,t,t,t,p));var d=f.concat(s).sort((function(){return Math.random()-.5})),h=[];n.splice(0,e+1).map((function(e,t){h.push(d.splice(0,e))}));var y=[6,5,4,3,2,1];return h.map((function(e,t){return{arr:(0,u.Z)(e.map((function(e,n){return e.position=[t+1,parseInt(n/r[t])+1,(n+1)%r[t]||r[t]],(0,a.Z)({},e)}))),zIndex:y[t],width:35*(t+3)}}))},Ke=function(e,t){var n,r=(0,a.Z)({},e),i=(null===(n=t[r.position[0]-2])||void 0===n?void 0:n.arr.filter((function(e){return""!==e.name})))||[];if(0===i.length)return!0;var o=[];return i.map((function(e){var t=e.position,n=[t[0]+1,t[1],t[2]],r=[t[0]+1,t[1],t[2]+1],i=[t[0]+1,t[1]+1,t[2]],a=[t[0]+1,t[1]+1,t[2]+1];o.push(n),o.push(r),o.push(i),o.push(a)})),0===o.filter((function(e){return r.position[0]===e[0]&&r.position[1]===e[1]&&r.position[2]===e[2]})).length},Je=0,Qe=function(){var e=(0,t.useState)(0),n=(0,s.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)(6),c=(0,s.Z)(o,2),l=c[0],p=c[1],f=(0,t.useState)(Ye(l)),d=(0,s.Z)(f,2),h=d[0],y=d[1],v=(0,t.useState)([null,null,null,null,null,null,null]),m=(0,s.Z)(v,2),g=m[0],b=m[1],x=(0,t.useState)([null,null,null]),w=(0,s.Z)(x,2),E=w[0],_=w[1],S=(0,t.useState)([0,0,0]),O=(0,s.Z)(S,2),P=O[0],k=O[1];(0,t.useEffect)((function(){}),[]),(0,t.useEffect)((function(){7===g.filter((function(e){return e})).length&&(alert("\u6e38\u620f\u5931\u8d25\uff01"),window.location.reload())}),[g]),(0,t.useEffect)((function(){if(0===h.length){if(alert("\u606d\u559c\u4f60\u901a\u8fc7\u7b2c".concat(l,"\u5173\u4e86\uff01\uff01\uff01")),6===l)return alert("\u606d\u559c\u4f60\u901a\u5173\u4e86\uff01\uff01\uff01"),p(1),void y((function(e){return e=Ye(1),(0,u.Z)(e)}));p((function(e){return e+1})),y((function(e){return e=Ye(l+1),(0,u.Z)(e)}))}}),[h,l]);return(0,Ce.jsxs)("div",{className:"gamebox",children:[(0,Ce.jsxs)("div",{className:"titleArea",children:[(0,Ce.jsx)("div",{className:"titleAreaTitle",children:"\u6c49\u5b57\u65b9\u5757"}),(0,Ce.jsxs)("div",{className:"titleAreaScore",children:[(0,Ce.jsxs)("div",{children:["\u7b2c",l,"\u5173"]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("span",{children:"\u5206\u6570:"}),(0,Ce.jsx)("span",{children:r})]})]})]}),(0,Ce.jsx)("div",{className:"gameArea",children:h.map((function(e,t){return(0,Ce.jsx)("div",{className:"gameAreaFloor",style:0!==e.arr.filter((function(e){return""!==e.name})).length?{zIndex:e.zIndex,width:e.width,height:e.width}:{display:"none"},children:e.arr.map((function(e,n){return(0,Ce.jsx)("div",{onClick:function(){""!==e.name&&Ke(e,h)&&function(e,t,n){Je=0;var r=0;_([e,t,n]),b((function(t){var n=t.findIndex((function(t){return t&&t.name===e.name}));return t.pop(),n>-1?t.splice(n,0,e):t.unshift(e),(0,u.Z)(t)})),y((function(r){return r[n].arr.splice(t,1,(0,a.Z)((0,a.Z)({},e),{},{name:"",color:""})),0===r[r.length-1].arr.filter((function(e){return""!==e.name})).length?[]:(0,u.Z)(r)})),g.map((function(t,n){return t&&t.name===e.name&&(Je++,r=n),null})),2===Je&&(b((function(e){return e.splice(r-1,3),e.push(null),e.push(null),e.push(null),(0,u.Z)(e)})),i((function(e){return e+100})))}(e,n,t)},style:""===e.name?{opacity:0,pointerEvents:"none"}:Ke(e,h)?{background:e.color}:{background:"#c2cbcbee"},className:"gameItem",children:e.name},e.position.join("-"))}))},t)}))}),(0,Ce.jsx)("div",{className:"operateArea",children:g.map((function(e,t){return e?(0,Ce.jsx)("div",{style:1===P[2]?{background:e.color,width:"8%"}:{background:e.color},className:"gameItemOperate",children:e.name},e.position.join("-")):(0,Ce.jsx)("div",{className:"gameItemOperate"},t+"1")}))}),(0,Ce.jsxs)("div",{className:"operateBtnArr",children:[(0,Ce.jsx)("span",{className:"operateBtn",style:1===P[0]?{background:"grey"}:{},onClick:function(){1!==P[0]&&(y((function(e){return e=Ye(l),(0,u.Z)(e)})),k((function(e){return e[0]=1,(0,u.Z)(e)})))},children:"\u968f\u673a"}),(0,Ce.jsx)("span",{className:"operateBtn",style:1===P[1]?{background:"grey"}:{},onClick:function(){0!==g.filter((function(e){return e})).length&&1!==P[1]&&(b((function(e){var t=e.findIndex((function(e){return e&&e.name===E[0].name}));e.splice(t,1,null);var n=e.findIndex((function(e){return!e}));return e.splice(n,1),e.push(null),(0,u.Z)(e)})),y((function(e){return e[E[2]].arr[E[1]]=E[0],(0,u.Z)(e)})),k((function(e){return e[1]=1,(0,u.Z)(e)})))},children:"\u64a4\u56de"}),(0,Ce.jsx)("span",{className:"operateBtn",style:1===P[2]?{background:"grey"}:{},onClick:function(){0!==g.length&&(b((function(e){return e.push(null),(0,u.Z)(e)})),k((function(e){return e[2]=1,(0,u.Z)(e)})))},children:"\u683c\u5b50+1"})]})]})},et=function(){return(0,Ce.jsx)(t.Fragment,{children:(0,Ce.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,Ce.jsx)(Qe,{})})})},tt=(Ve=Be,function(e){return(0,Ce.jsx)("div",{children:(0,Ce.jsx)(Ve,(0,a.Z)((0,a.Z)({},e),{funHOC:"funHOC"}))})}),nt=function(e){return function(t){d(r,t);var n=b(r);function r(){var e;c(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={name:"hoc"},e}return p(r,[{key:"render",value:function(){return(0,Ce.jsx)(e,(0,a.Z)((0,a.Z)({},this.props),this.state))}}]),r}(t.Component)}($e),rt=function(e,t){return console.log("memo"),!(e.number!==t.number&&t.number<5)},it=t.memo(Ue,rt),ot=function(e){var n=(0,t.useState)({theme:"blue"}),r=(0,s.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(0),u=(0,s.Z)(a,2),c=u[0],l=u[1],p=(0,t.useState)(!1),f=(0,s.Z)(p,2),d=f[0],h=f[1];de(),Ze((function(){console.log("1111")}),1e3);return(0,Ce.jsxs)(t.Fragment,{children:[(0,Ce.jsx)("div",{style:{border:"2px solid ".concat(i.theme),color:i.theme,padding:"10px"},children:(0,Ce.jsxs)(je.Provider,{value:{contextValue:i,setContextValue:o},children:[(0,Ce.jsx)(Le,{}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}}),(0,Ce.jsx)(tt,{}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}}),(0,Ce.jsx)(nt,{age:18}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}}),(0,Ce.jsx)(Ge,{changeState:function(){console.log("number: ",c),l(c+1)}}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}}),(0,Ce.jsx)("h2",{children:c}),(0,Ce.jsx)("button",{onClick:function(){l(c+1)},children:"\u6539\u53d8number"}),(0,Ce.jsx)(it,{number:c}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}}),(0,Ce.jsx)("button",{onClick:function(){h(!0)},children:"\u6253\u5f00modal"}),(0,Ce.jsx)("button",{onClick:function(){h(!1)},children:"\u5173\u95edmodal"}),(0,Ce.jsx)("hr",{style:{borderColor:i.theme}})]})}),(0,Ce.jsx)(Xe,{visible:d,title:"\u5f39\u7a97",width:500,height:880,footer:null,onCancel:function(){h(!1)},onOk:function(){h(!0)},children:(0,Ce.jsx)(et,{})})]})};function at(){return"rgba("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+",0.8)"}var st=function(e){var n=e.position,r=(0,t.useMemo)((function(){return(0,a.Z)({background:at(),position:"absolute",width:"15px",height:"15px",borderRadius:"50%"},function(e){var t=e.width,n=e.height;return{left:Math.ceil(Math.random()*t)+"px",top:Math.ceil(Math.random()*n)+"px"}}(n))}),[]);return(0,Ce.jsx)("div",{style:r})},ut=function(e){d(r,e);var n=b(r);function r(e){var i;return c(this,r),(i=n.call(this,e)).state={numArr:[],renderArr:[],position:{width:0,height:0}},i.box=t.createRef(null),i}return p(r,[{key:"componentDidMount",value:function(){var e=this,t=this.box.current,n=t.offsetHeight,r=t.offsetWidth,i=new Array(1e4).fill(1),o=i.length/500;this.setState({numArr:i,position:{height:n,width:r}},(function(){e.renderList(1,o)}))}},{key:"renderList",value:function(e,t){var n=this;if(!(e>t)){var r=this.state.renderArr;r.push(this.renderDom(e)),this.setState({renderArr:r}),requestIdleCallback((function(){n.renderList(++e,t)}))}}},{key:"renderDom",value:function(e){var n=this.state,r=n.numArr,i=n.position,o=r.slice(500*(e-1),500*e);return(0,Ce.jsx)(t.Fragment,{children:o.map((function(e,t){return(0,Ce.jsx)(st,{position:i},t)}))},e)}},{key:"render",value:function(){var e=this.state.renderArr;return(0,Ce.jsx)("div",{ref:this.box,style:{height:"97.5vh",width:"100%"},children:e})}}]),r}(t.Component),ct=function(){return(0,Ce.jsx)(t.Fragment,{children:(0,Ce.jsx)(ut,{})})},lt=t.lazy((function(){return n.e(813).then(n.bind(n,2813))})),pt=t.lazy((function(){return n.e(387).then(n.bind(n,6387))})),ft=t.lazy((function(){return n.e(649).then(n.bind(n,2649))})),dt=function(e){de();return(0,Ce.jsxs)(t.Fragment,{children:[(0,Ce.jsx)(t.Suspense,{fallback:(0,Ce.jsx)("div",{children:"Loading..."}),children:(0,Ce.jsx)(lt,{})}),(0,Ce.jsx)("hr",{}),(0,Ce.jsx)(t.Suspense,{fallback:(0,Ce.jsx)("div",{children:"Loading..."}),children:(0,Ce.jsx)(pt,{})}),(0,Ce.jsx)("hr",{}),(0,Ce.jsx)(t.Suspense,{fallback:(0,Ce.jsx)("div",{children:"Loading..."}),children:(0,Ce.jsx)(ft,{})}),(0,Ce.jsx)("hr",{})]})},ht=n(2534),yt=n.n(ht),vt=n(4212),mt=n(870),gt=n(5787);function bt(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(S_){}return e}function xt(e,t){return t.appendChild(bt(e,t))}function wt(e,t){return xt(t,e),e}var Et={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function _t(e,t,n){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=Et[r];i?(2===i&&"number"===typeof n&&(n=String(n)+"px"),e.style[r]=n):e.setAttributeNS(null,t,n)}function St(e,t,n){if("string"===typeof t){if(void 0===n)return function(e,t){return Et[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);_t(e,t,n)}else!function(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)_t(e,r,t[r])}(e,t);return e}function Ot(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var Pt=/\s+/,kt=Object.prototype.toString;function jt(e){return"undefined"!==typeof e}function Ct(e){return new Tt(e)}function Tt(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Mt(e){var t=e.parentNode;return t&&t.removeChild(e),e}function At(e){for(var t;t=e.firstChild;)Mt(t);return e}function Nt(e){return e.cloneNode(!0)}Tt.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Ot(t,e)||t.push(e),jt(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},Tt.prototype.remove=function(e){if("[object RegExp]"===kt.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Ot(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},Tt.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Tt.prototype.toggle=function(e,t){return this.list?(jt(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(jt(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},Tt.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Pt);return""===e[0]&&e.shift(),e},Tt.prototype.has=Tt.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Ot(this.array(),e)};var Dt="http://www.w3.org/2000/svg",Rt='<svg xmlns="'+Dt+'"';function It(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Dt)&&(e=Rt+e.substring(4)):(e=Rt+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var r=document.createDocumentFragment(),i=n.firstChild;i.firstChild;)r.appendChild(i.firstChild);return r}function Lt(e,t){var n;return"<"===e.charAt(0)?(n=It(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Dt,e),t&&St(n,t),n}var Bt=null;function Ft(){return null===Bt&&(Bt=Lt("svg")),Bt}function zt(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)e[r]=t[r];return e}function Vt(e){return e?Ft().createSVGTransformFromMatrix(e):Ft().createSVGTransform()}var Ht=/([&<>]{1})/g,$t=/([\n\r"]{1})/g,Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Ut(e,t){return e.replace(t,(function(e,t){return Gt[t]||t}))}function Wt(e,t){var n,r,i,o,a;switch(e.nodeType){case 3:t.push(Ut(e.textContent,Ht));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,r=(i=e.attributes).length;n<r;++n)o=i.item(n),t.push(" ",o.name,'="',Ut(o.value,$t),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,r=(a=e.childNodes).length;n<r;++n)Wt(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",Ut(e.nodeValue,Ht),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function Xt(e,t){var n=It(t);if(At(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var r,i=(r=n.childNodes,Array.prototype.slice.call(r)),o=0;o<i.length;o++)xt(i[o],e)}}function Zt(e,t){if(void 0!==t){try{Xt(e,t)}catch(S_){throw new Error("error parsing SVG: "+S_.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)Wt(t,n),t=t.nextSibling;return n.join("")}(e)}function qt(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function Yt(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,r;for(e.clear(),n=0;r=t[n];n++)e.appendItem(qt(e,r))}(n,t)),n.consolidate()}var Kt=/^class /;function Jt(e){return"[object Array]"===Object.prototype.toString.call(e)}function Qt(){var e=Array.prototype.slice.call(arguments);1===e.length&&Jt(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var en=/constructor\s*[^(]*\(\s*([^)]*)\)/m,tn=/^function\s*[^(]*\(\s*([^)]*)\)/m,nn=/\/\*([^*]*)\*\//m;function rn(e){if("function"!==typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return Kt.test(e.toString())}(e)?en:tn);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(nn))?t[1].trim():e.trim()}))||[]}function on(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}var an="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function sn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function un(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw a('No provider for "'+e+'"!')}};var n=[],r=this._providers=Object.create(t._providers||null),i=this._instances=Object.create(null),o=i.injector=this,a=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},s=function e(o,s){if(!r[o]&&-1!==o.indexOf(".")){for(var u=o.split("."),c=e(u.shift());u.length;)c=c[u.shift()];return c}if(cn(i,o))return i[o];if(cn(r,o)){if(-1!==n.indexOf(o))throw n.push(o),a("Cannot resolve circular dependency!");return n.push(o),i[o]=r[o][0](r[o][1]),n.pop(),i[o]}return t.get(o,s)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==typeof e){if(!Jt(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=Qt(e.slice())}var n=e.$inject||rn(e),r=n.map((function(e){return cn(t,e)?t[e]:s(e)}));return{fn:e,dependencies:r}},c=function(e){var t=u(e),n=t.dependencies,r=t.fn;return new(Function.prototype.bind.apply(r,[null].concat(sn(n))))},l=function(e,t,n){var r=u(e,n),i=r.dependencies,o=r.fn;return o.call.apply(o,[t].concat(sn(i)))},p=function(e){return Qt((function(t){return e.get(t)}))},f={factory:l,type:c,value:function(e){return e}};e.forEach((function(e){function t(e,t){return"value"!==e&&Jt(t)&&(t=Qt(t.slice())),t}if(e instanceof on)e.forEach((function(e){var n=e[0],i=e[1],o=e[2];r[n]=[f[i],t(i,o),i]}));else if("object"===("undefined"===typeof e?"undefined":an(e)))if(e.__exports__){var n=Object.keys(e).reduce((function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t}),Object.create(null)),i=new un((e.__modules__||[]).concat([n]),o),a=Qt((function(e){return i.get(e)}));e.__exports__.forEach((function(e){r[e]=[a,e,"private",i]}))}else Object.keys(e).forEach((function(n){if("private"!==e[n][2]){var i=e[n][0],o=e[n][1];r[n]=[f[i],t(i,o),i]}else r[n]=e[n]}))})),this.get=s,this.invoke=l,this.instantiate=c,this.createChild=function(e,t){if(t&&t.length){var n,i,a,s,u=Object.create(null),c=Object.create(null),l=[],f=[],d=[];for(var h in r)n=r[h],-1!==t.indexOf(h)&&("private"===n[2]?-1===(i=l.indexOf(n[3]))?(a=n[3].createChild([],t),s=p(a),l.push(n[3]),f.push(a),d.push(s),u[h]=[s,h,"private",a]):u[h]=[d[i],h,"private",f[i]]:u[h]=[n[2],n[1]],c[h]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach((function(e){-1!==n[1].$scope.indexOf(e)&&(u[h]=[n[2],n[1]],c[e]=!0)}));t.forEach((function(e){if(!c[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),e.unshift(u)}return new un(e,o)}}function cn(e,t){return Object.hasOwnProperty.call(e,t)}function ln(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var r=e.type,i=t.element,o=t.gfx;if(n.canRender(i))return"render.shape"===r?n.drawShape(o,i):n.drawConnection(o,i)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function pn(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function fn(e){for(var t,n="",r=0;t=e[r];r++)n+=t.x+","+t.y+" ";return n}function dn(e,t){var n=Lt("polyline");return St(n,{points:fn(e)}),t&&St(n,t),n}function hn(e){return(0,mt.hX)(e,(function(t){return!(0,mt.sE)(e,(function(e){return e!==t&&yn(t,e)}))}))}function yn(e,t){if(t){if(e===t)return t;if(e.parent)return yn(e.parent,t)}}function vn(e,t,n){var r=!n||-1===e.indexOf(t);return r&&e.push(t),r}function mn(e,t,n){n=n||0,(0,mt.kJ)(e)||(e=[e]),(0,mt.Ed)(e,(function(e,r){var i=t(e,r,n);(0,mt.kJ)(i)&&i.length&&mn(i,t,n+1)}))}function gn(e,t,n){var r=[],i=[];return mn(e,(function(e,o,a){vn(r,e,t);var s=e.children;if((-1===n||a<n)&&s&&vn(i,s,t))return s})),r}function bn(e,t){return gn(e,!t,-1)}function xn(e,t){var n,r,i,o;return t=!!t,(0,mt.kJ)(e)||(e=[e]),(0,mt.Ed)(e,(function(e){var a=e;e.waypoints&&!t&&(a=xn(e.waypoints,!0));var s=a.x,u=a.y,c=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(u<r||void 0===r)&&(r=u),(s+l>i||void 0===i)&&(i=s+l),(u+c>o||void 0===o)&&(o=u+c)})),{x:n,y:r,height:o-r,width:i-n}}function wn(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function En(e){return!(!e||!e.isFrame)}function _n(e,t){return(0,mt.f0)({},e||{},t||{})}ln.prototype.canRender=function(){},ln.prototype.drawShape=function(){},ln.prototype.drawConnection=function(){},ln.prototype.getShapePath=function(){},ln.prototype.getConnectionPath=function(){};function Sn(e,t){ln.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}yt()(Sn,ln),Sn.prototype.canRender=function(){return!0},Sn.prototype.drawShape=function(e,t){var n=Lt("rect");return St(n,{x:0,y:0,width:t.width||0,height:t.height||0}),En(t)?St(n,this.FRAME_STYLE):St(n,this.SHAPE_STYLE),wt(e,n),n},Sn.prototype.drawConnection=function(e,t){var n=dn(t.waypoints,this.CONNECTION_STYLE);return wt(e,n),n},Sn.prototype.getShapePath=function(e){var t=e.x,n=e.y,r=e.width;return pn([["M",t,n],["l",r,0],["l",0,e.height],["l",-r,0],["z"]])},Sn.prototype.getConnectionPath=function(e){var t,n,r=e.waypoints,i=[];for(t=0;n=r[t];t++)n=n.original||n,i.push([0===t?"M":"L",n.x,n.y]);return pn(i)},Sn.$inject=["eventBus","styles"];var On={__init__:["defaultRenderer"],defaultRenderer:["type",Sn],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return(0,mt.f0)(r,{class:e})},this.style=function(t,n){(0,mt.kJ)(t)||n||(n=t,t=[]);var r=(0,mt.u4)(t,(function(t,n){return(0,mt.f0)(t,e[n]||{})}),{});return n?(0,mt.f0)(r,n):r},this.computeStyle=function(e,n,r){return(0,mt.kJ)(n)||(r=n,n=[]),t.style(n||[],(0,mt.f0)({},r,e||{}))}}]},Pn=n(3462);function kn(e,t){return Math.round(e*t)/t}function jn(e){return(0,mt.hj)(e)?e+"px":e}function Cn(e,t,n){var r=Lt("g");Ct(r).add(t);var i=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(r,e.childNodes[i]||null),r}var Tn={shape:["x","y","width","height"],connection:["waypoints"]};function Mn(e,t,n,r){this._eventBus=t,this._elementRegistry=r,this._graphicsFactory=n,this._init(e||{})}function An(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Mn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Mn.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=(0,mt.f0)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),(0,mt.f0)(n.style,{position:"relative",overflow:"hidden",width:jn(e.width),height:jn(e.height)}),t.appendChild(n),n}(e),r=this._svg=Lt("svg");St(r,{width:"100%",height:"100%"}),wt(n,r);var i=this._viewport=Cn(r,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=(0,mt.Ds)((0,mt.ak)(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:r,viewport:i})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Mn.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Mn.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=wn(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},Mn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Mn.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),"undefined"!==typeof t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},Mn.prototype._createLayer=function(e,t){t||(t=0);var n=(0,mt.u4)(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:Cn(this._viewport,"layer-"+e,n),index:t}},Mn.prototype.getContainer=function(){return this._container},Mn.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&((0,mt.Ed)([r.gfx,r.secondaryGfx],(function(e){e&&(n?Ct(e).add(t):Ct(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},Mn.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},Mn.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},Mn.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),Ct(this.getGraphics(e)).has(t)},Mn.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},Mn.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Mn.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,r=this._elementRegistry,i=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");i.fire("root.remove",{element:n}),i.fire("root.removed",{element:n}),r.remove(n)}if(e){var o=this.getDefaultLayer();i.fire("root.add",{element:e}),r.add(e,o,this._svg),i.fire("root.added",{element:e,gfx:o})}return this._rootElement=e,e},Mn.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=Tn[e],r=(0,mt.yW)(n,(function(e){return"undefined"!==typeof t[e]}));if(!r)throw new Error("must supply { "+n.join(", ")+" } with "+e)},Mn.prototype._setParent=function(e,t,n){(0,Pn.IH)(t.children,e,n),e.parent=t},Mn.prototype._addElement=function(e,t,n,r){n=n||this.getRootElement();var i=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,r);var a=o.create(e,t,r);return this._elementRegistry.add(t,a),o.update(e,t,a),i.fire(e+".added",{element:t,gfx:a}),t},Mn.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},Mn.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},Mn.prototype._removeElement=function(e,t){var n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(e=n.get(e.id||e))return i.fire(t+".remove",{element:e}),r.remove(e),(0,Pn.Od)(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),n.remove(e),e},Mn.prototype.removeShape=function(e){return this._removeElement(e,"shape")},Mn.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},Mn.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},Mn.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Mn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Mn.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,r,i,o,a,s=this._viewport,u=this.getSize();return e?(this._changeViewbox((function(){i=Math.min(u.width/e.width,u.height/e.height);var t=this._svg.createSVGMatrix().scale(i).translate(-e.x,-e.y);Yt(s,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(r=Yt(s))?r.matrix:function(e,t,n,r,i,o){var a=Ft().createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return zt(a,e);case 6:return zt(a,{a:e,b:t,c:n,d:r,e:i,f:o})}}(),i=kn(n.a,1e3),o=kn(-n.e||0,1e3),a=kn(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/i:0,y:a?a/i:0,width:u.width/i,height:u.height/i,scale:i,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:u})},Mn.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=(0,mt.f0)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),An(t,n)})),{x:n.e,y:n.f}},Mn.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!==typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)})),kn(r.a,1e3)):this.viewbox(e).scale;var n,r},Mn.prototype._fitViewport=function(e){var t,n,r=this.viewbox(),i=r.outer,o=r.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=i.width&&o.y+o.height<=i.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,i.width),height:Math.max(o.height+o.y,i.height)}:(t=Math.min(1,i.width/o.width,i.height/o.height),n={x:o.x+(e?o.width/2-i.width/t/2:0),y:o.y+(e?o.height/2-i.height/t/2:0),width:i.width/t,height:i.height/t}),this.viewbox(n),this.viewbox(!1).scale},Mn.prototype._setZoom=function(e,t){var n,r,i,o,a=this._svg,s=this._viewport,u=a.createSVGMatrix(),c=a.createSVGPoint(),l=(r=s.getCTM()).a;return t?(n=(0,mt.f0)(c,t).matrixTransform(r.inverse()),i=u.translate(n.x,n.y).scale(1/l*e).translate(-n.x,-n.y),o=r.multiply(i)):o=u.scale(e),An(this._viewport,o),o},Mn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Mn.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},Mn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Nn="data-element-id";function Dn(e){this._elements={},this._eventBus=e}Dn.$inject=["eventBus"],Dn.prototype.add=function(e,t,n){var r=e.id;this._validateId(r),St(t,Nn,r),n&&St(n,Nn,r),this._elements[r]={element:e,gfx:t,secondaryGfx:n}},Dn.prototype.remove=function(e){var t=this._elements,n=e.id||e,r=n&&t[n];r&&(St(r.gfx,Nn,""),r.secondaryGfx&&St(r.secondaryGfx,Nn,""),delete t[n])},Dn.prototype.updateId=function(e,t){this._validateId(t),"string"===typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),r=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,r)},Dn.prototype.get=function(e){var t;t="string"===typeof e?e:e&&St(e,Nn);var n=this._elements[t];return n&&n.element},Dn.prototype.filter=function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(n)})),t},Dn.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]],o=i.element;if(e(o,i.gfx))return o}},Dn.prototype.getAll=function(){return this.filter((function(e){return e}))},Dn.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var r=t[n],i=r.element,o=r.gfx;return e(i,o)}))},Dn.prototype.getGraphics=function(e,t){var n=e.id||e,r=this._elements[n];return r&&(t?r.secondaryGfx:r.gfx)},Dn.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var Rn=n(4226),In=n.n(Rn),Ln=new(In())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Bn=new(In())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Fn=new(In())({name:"attachers",collection:!0},{name:"host"}),zn=new(In())({name:"outgoing",collection:!0},{name:"source"}),Vn=new(In())({name:"incoming",collection:!0},{name:"target"});function Hn(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Ln.bind(this,"parent"),Bn.bind(this,"labels"),zn.bind(this,"outgoing"),Vn.bind(this,"incoming")}function $n(){Hn.call(this),Ln.bind(this,"children"),Fn.bind(this,"host"),Fn.bind(this,"attachers")}function Gn(){$n.call(this)}function Un(){$n.call(this),Bn.bind(this,"labelTarget")}function Wn(){Hn.call(this),zn.bind(this,"source"),Vn.bind(this,"target")}yt()($n,Hn),yt()(Gn,$n),yt()(Un,$n),yt()(Wn,Hn);var Xn={connection:Wn,shape:$n,label:Un,root:Gn};function Zn(){this._uid=12}Zn.prototype.createRoot=function(e){return this.create("root",e)},Zn.prototype.createLabel=function(e){return this.create("label",e)},Zn.prototype.createShape=function(e){return this.create("shape",e)},Zn.prototype.createConnection=function(e){return this.create("connection",e)},Zn.prototype.create=function(e,t){return(t=(0,mt.f0)({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Xn[e];if(!n)throw new Error("unknown type: <"+e+">");return(0,mt.f0)(new n,t)}(e,t)};var qn=Array.prototype.slice;function Yn(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Kn(){}function Jn(e){return e.childNodes[0]}function Qn(e,t,n,r,i){var o=Vt();o.setTranslate(t,n);var a=Vt();a.setRotate(r||0,0,0);var s=Vt();s.setScale(i||1,i||1),Yt(e,[o,a,s])}function er(e,t,n){var r=Vt();r.setTranslate(t,n),Yt(e,r)}function tr(e,t){var n=Vt();n.setRotate(t,0,0),Yt(e,n)}function nr(e,t){this._eventBus=e,this._elementRegistry=t}function rr(e,t,n){var r=n||t.firstChild;e!==r&&t.insertBefore(e,r)}Yn.prototype.on=function(e,t,n,r){if(e=(0,mt.kJ)(e)?e:[e],(0,mt.mf)(t)&&(r=n,n=t,t=1e3),!(0,mt.hj)(t))throw new Error("priority must be a number");var i=n;r&&((i=(0,mt.ak)(n,r)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:i,next:null})}))},Yn.prototype.once=function(e,t,n,r){var i=this;if((0,mt.mf)(t)&&(r=n,n=t,t=1e3),!(0,mt.hj)(t))throw new Error("priority must be a number");function o(){var t=n.apply(r,arguments);return i.off(e,o),t}o.__fn=n,this.on(e,t,o)},Yn.prototype.off=function(e,t){e=(0,mt.kJ)(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},Yn.prototype.createEvent=function(e){var t=new Kn;return t.init(e),t},Yn.prototype.fire=function(e,t){var n,r,i,o;if(o=qn.call(arguments),"object"===typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof Kn?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},Yn.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Yn.prototype._destroy=function(){this._listeners={}},Yn.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},Yn.prototype._invokeListener=function(e,t,n){var r;try{r=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==r&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(S_){if(!this.handleError(S_))throw console.error("unhandled error in event listener"),console.error(S_.stack),S_}return r},Yn.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));n=r,r=r.next}n.next=t}else this._setListeners(e,t)},Yn.prototype._getListeners=function(e){return this._listeners[e]},Yn.prototype._setListeners=function(e,t){this._listeners[e]=t},Yn.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i.__fn!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},Kn.prototype.stopPropagation=function(){this.cancelBubble=!0},Kn.prototype.preventDefault=function(){this.defaultPrevented=!0},Kn.prototype.init=function(e){(0,mt.f0)(this,e||{})},nr.$inject=["eventBus","elementRegistry"],nr.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n),t||(Ct(t=Lt("g")).add("djs-children"),wt(n.parentNode,t))):t=n,t},nr.prototype._clear=function(e){var t=Jn(e);return(0,gt.ZH)(t),t},nr.prototype._createContainer=function(e,t,n,r){var i=Lt("g");Ct(i).add("djs-group"),"undefined"!==typeof n?rr(i,t,t.childNodes[n]):wt(t,i);var o=Lt("g");Ct(o).add("djs-element"),Ct(o).add("djs-"+e),r&&Ct(o).add("djs-frame"),wt(i,o);var a=Lt("g");return Ct(a).add("djs-visual"),wt(o,a),o},nr.prototype.create=function(e,t,n){var r=this._getChildrenContainer(t.parent);return this._createContainer(e,r,n,En(t))},nr.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=(0,mt.u4)(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(0,mt.Ed)(t,(function(e){var t=e.children;if(t){var i=n._getChildrenContainer(e);(0,mt.Ed)(t.slice().reverse(),(function(e){rr(r.getGraphics(e).parentNode,i)}))}}))},nr.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},nr.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},nr.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},nr.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},nr.prototype.update=function(e,t,n){if(t.parent){var r=this._clear(n);if("shape"===e)this.drawShape(r,t),er(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(r,t)}t.hidden?St(n,"display","none"):St(n,"display","block")}},nr.prototype.remove=function(e){Mt(this._elementRegistry.getGraphics(e).parentNode)};var ir={__depends__:[On],__init__:["canvas"],canvas:["type",Mn],elementRegistry:["type",Dn],elementFactory:["type",Zn],eventBus:["type",Yn],graphicsFactory:["type",nr]};function or(e){var t=[],n=[];function r(e){return t.indexOf(e)>=0}e.forEach((function e(i){r(i)||((i.__depends__||[]).forEach(e),r(i)||(!function(e){t.push(e)}(i),(i.__init__||[]).forEach((function(e){n.push(e)}))))}));var i=new un(t);return n.forEach((function(e){try{i["string"===typeof e?"get":"invoke"](e)}catch(S_){throw console.error("Failed to instantiate component"),console.error(S_.stack),S_}})),i}function ar(e,t){this.injector=t=t||function(e){return or([{config:["value",e=e||{}]},ir].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function sr(){}function ur(e,t){this.model=e,this.properties=t}ar.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},ar.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},sr.prototype.get=function(e){return this.$model.properties.get(this,e)},sr.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},ur.prototype.createType=function(e){var t=this.model,n=this.properties,r=Object.create(sr.prototype);(0,mt.Ed)(e.properties,(function(e){e.isMany||void 0===e.default||(r[e.name]=e.default)})),n.defineModel(r,t),n.defineDescriptor(r,e);var i=e.ns.name;function o(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),(0,mt.Ed)(e,(0,mt.ak)((function(e,t){this.set(t,e)}),this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var cr={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},lr={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function pr(e,t){var n=lr[e];return n?n(t):t}function fr(e){return!!cr[e]}function dr(e){return!!lr[e]}function hr(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function yr(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function vr(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,(0,mt.Ed)(e,(0,mt.ak)(this.registerPackage,this))}function mr(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function gr(e){this.model=e}function br(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function xr(e){this.properties=new gr(this),this.factory=new ur(this,this.properties),this.registry=new vr(e,this.properties),this.typeCache={}}yr.prototype.build=function(){return(0,mt.ei)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},yr.prototype.addProperty=function(e,t,n){"boolean"===typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},yr.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=i.indexOf(e);if(-1===s)throw new Error("property <"+r.name+"> not found in property list");i.splice(s,1),this.addProperty(t,n?void 0:s,a),o[r.name]=o[r.localName]=t},yr.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),o=hr(i[0],r),a=hr(i[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},yr.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},yr.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},yr.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},yr.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},yr.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},yr.prototype.hasProperty=function(e){return this.propertiesByName[e]},yr.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,i=e.name;i in n||((0,mt.Ed)(e.properties,(0,mt.ak)((function(n){n=(0,mt.f0)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,i=n.redefines;r||i?this.redefineProperty(n,r||i,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[i]=e)},vr.prototype.getPackage=function(e){return this.packageMap[e]},vr.prototype.getPackages=function(){return this.packages},vr.prototype.registerPackage=function(e){e=(0,mt.f0)({},e);var t=this.packageMap;mr(t,e,"prefix"),mr(t,e,"uri"),(0,mt.Ed)(e.types,(0,mt.ak)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},vr.prototype.registerType=function(e,t){var n=hr((e=(0,mt.f0)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:(0,mt.f0)(e.meta||{})})).name,t.prefix),r=n.name,i={};(0,mt.Ed)(e.properties,(0,mt.ak)((function(e){var t=hr(e.name,n.prefix),r=t.name;fr(e.type)||(e.type=hr(e.type,t.prefix).name),(0,mt.f0)(e,{ns:t,name:r}),i[r]=e}),this)),(0,mt.f0)(e,{ns:n,name:r,propertiesByName:i}),(0,mt.Ed)(e.extends,(0,mt.ak)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)}),this)),this.definePackage(e,t),this.typeMap[r]=e},vr.prototype.mapTypes=function(e,t,n){var r=fr(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function o(e){return a(e,!0)}function a(n,r){var o=hr(n,fr(n)?"":e.prefix);i.mapTypes(o,t,r)}if(!r)throw new Error("unknown type <"+e.name+">");(0,mt.Ed)(r.superClass,n?o:a),t(r,!n),(0,mt.Ed)(r.traits,o)},vr.prototype.getEffectiveDescriptor=function(e){var t=hr(e),n=new yr(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},vr.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},gr.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;"undefined"===typeof n?r?delete e[i]:delete e.$attrs[t]:r?i in e?e[i]=n:br(e,r,n):e.$attrs[t]=n},gr.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&br(e,n,[]),e[r]},gr.prototype.define=function(e,t,n){if(!n.writable){var r=n.value;delete(n=(0,mt.f0)({},n,{get:function(){return r}})).value}Object.defineProperty(e,t,n)},gr.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},gr.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},xr.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},xr.prototype.getType=function(e){var t=this.typeCache,n=(0,mt.HD)(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},xr.prototype.createAny=function(e,t,n){var r=hr(e),i={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(i,o),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),(0,mt.Ed)(n,(function(e,t){(0,mt.Kn)(e)&&void 0!==e.value?i[e.name]=e.value:i[t]=e})),i},xr.prototype.getPackage=function(e){return this.registry.getPackage(e)},xr.prototype.getPackages=function(){return this.registry.getPackages()},xr.prototype.getElementDescriptor=function(e){return e.$descriptor},xr.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},xr.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},xr.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var wr=String.fromCharCode,Er=Object.prototype.hasOwnProperty,_r=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Sr={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Or(e,t,n,r){return r?Er.call(Sr,r)?Sr[r]:"&"+r+";":wr(t||parseInt(n,16))}function Pr(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(_r,Or):e}Object.keys(Sr).forEach((function(e){Sr[e.toUpperCase()]=Sr[e]}));var kr="xsi:type",jr="non-whitespace outside of root node";function Cr(e){return new Error(e)}function Tr(e){return"missing namespace for prefix <"+e+">"}function Mr(e){return{get:e,enumerable:!0}}function Ar(e){var t,n={};for(t in e)n[t]=e[t];return n}function Nr(e){return e+"$uri"}function Dr(){return{line:0,column:0}}function Rr(e){throw e}function Ir(e){if(!this)return new Ir(e);var t,n,r,i,o,a,s,u,c,l=e&&e.proxy,p=Rr,f=Dr,d=!1,h=!1,y=null,v=!1;function m(e){e instanceof Error||(e=Cr(e)),y=e,p(e,f)}function g(e){o&&(e instanceof Error||(e=Cr(e)),o(e,f))}this.on=function(e,c){if("function"!==typeof c)throw Cr("required args <name, cb>");switch(e){case"openTag":n=c;break;case"text":t=c;break;case"closeTag":r=c;break;case"error":p=c;break;case"warn":o=c;break;case"cdata":i=c;break;case"attention":u=c;break;case"question":s=c;break;case"comment":a=c;break;default:throw Cr("unsupported event: "+e)}return this},this.ns=function(e){if("undefined"===typeof e&&(e={}),"object"!==typeof e)throw Cr("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",h=!0,c=n,this},this.parse=function(e){if("string"!==typeof e)throw Cr("required args <xml=string>");return y=null,function(e){var o,p,y,b,x,w,E,_,S,O,P,k=h?[]:null,j=h?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[Nr(n)]=t;return r}(c):null,C=[],T=0,M=!1,A=!1,N=0,D=0,R="",I=0;function L(){if(null!==P)return P;var e,t,n,r,i,o,a,s,u,l,p,f=h&&j.xmlns,y=h&&d?[]:null,v=I,m=R,b=m.length,x={},w={};e:for(;v<b;v++)if(u=!1,!(32===(l=m.charCodeAt(v))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(g("illegal first char attribute name"),u=!0),p=v+1;p<b;p++)if(!((l=m.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){g("missing attribute value"),v=p;continue e}if(61===l)break;g("illegal attribute name char"),u=!0}if("xmlns:xmlns"===(s=m.substring(v,p))&&(g("illegal declaration of xmlns"),u=!0),34===(l=m.charCodeAt(p+1)))-1===(p=m.indexOf('"',v=p+2))&&-1!==(p=m.indexOf("'",v))&&(g("attribute value quote missmatch"),u=!0);else if(39===l)-1===(p=m.indexOf("'",v=p+2))&&-1!==(p=m.indexOf('"',v))&&(g("attribute value quote missmatch"),u=!0);else for(g("missing attribute value quotes"),u=!0,p+=1;p<b&&!(32===(l=m.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(g("missing closing quotes"),p=b,u=!0),u||(o=m.substring(v,p)),v=p;p+1<b&&!(32===(l=m.charCodeAt(p+1))||l<14&&l>8);p++)v===p&&(g("illegal character after attribute end"),u=!0);if(v=p+1,!u)if(s in w)g("attribute <"+s+"> already defined");else if(w[s]=!0,h)if(d){if(null!==(i="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=Pr(o),t=Nr(i),!(a=c[e])){if("xmlns"===i||t in j&&j[t]!==e)do{a="ns"+T++}while("undefined"!==typeof j[a]);else a=i;c[e]=a}j[i]!==a&&(r||(j=Ar(j),r=!0),j[i]=a,"xmlns"===i&&(j[Nr(a)]=e,f=a),j[t]=e),x[s]=o;continue}y.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=j[s.substring(0,l)])?((s=f===n?s.substr(l+1):n+s.substr(l))===kr&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=j[n]||n)+o.substring(l)):o=f+":"+o),x[s]=o):g(Tr(s.substring(0,l))):x[s]=o;else x[s]=o}if(d)for(v=0,b=y.length;v<b;v++){if(s=y[v++],o=y[v],-1!==(l=s.indexOf(":"))){if(!(n=j[s.substring(0,l)])){g(Tr(s.substring(0,l)));continue}(s=f===n?s.substr(l+1):n+s.substr(l))===kr&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=j[n]||n)+o.substring(l)):o=f+":"+o)}x[s]=o}return P=x}function B(){for(var t,n,r=/(\r\n|\r|\n)/g,i=0,o=0,a=0,s=D;N>=a&&(t=r.exec(e))&&!((s=t[0].length+t.index)>N);)i+=1,a=s;return-1==N?(o=s,n=e.substring(D)):0===D?n=e.substring(D,N):(o=N-a,n=-1==D?e.substring(N):e.substring(N,D+1)),{data:n,line:i,column:o}}f=B,l&&(O=Object.create({},{name:Mr((function(){return _})),originalName:Mr((function(){return S})),attrs:Mr(L),ns:Mr((function(){return j}))}));for(;-1!==D;){if(-1===(N=60===e.charCodeAt(D)?D:e.indexOf("<",D)))return C.length?m("unexpected end of file"):0===D?m("missing start tag"):void(D<e.length&&e.substring(D).trim()&&g(jr));if(D!==N)if(C.length){if(t&&(t(e.substring(D,N),Pr,f),v))return}else if(e.substring(D,N).trim()&&(g(jr),v))return;if(33===(x=e.charCodeAt(N+1))){if(91===(b=e.charCodeAt(N+2))&&"CDATA["===e.substr(N+3,6)){if(-1===(D=e.indexOf("]]>",N)))return m("unclosed cdata");if(i&&(i(e.substring(N+9,D),f),v))return;D+=3;continue}if(45===b&&45===e.charCodeAt(N+3)){if(-1===(D=e.indexOf("--\x3e",N)))return m("unclosed comment");if(a&&(a(e.substring(N+4,D),Pr,f),v))return;D+=3;continue}}if(63!==x){for(p=N+1;;p++){if(w=e.charCodeAt(p),isNaN(w))return D=-1,m("unclosed tag");if(34===w)p=-1!==(b=e.indexOf('"',p+1))?b:p;else if(39===w)p=-1!==(b=e.indexOf("'",p+1))?b:p;else if(62===w){D=p;break}}if(33!==x){if(P={},47===x){if(M=!1,A=!0,!C.length)return m("missing open tag");if(p=_=C.pop(),b=N+2+p.length,e.substring(N+2,b)!==p)return m("closing tag mismatch");for(;b<D;b++)if(!(32===(x=e.charCodeAt(b))||x>8&&x<14))return m("close tag")}else{if(47===e.charCodeAt(D-1)?(p=_=e.substring(N+1,D-1),M=!0,A=!0):(p=_=e.substring(N+1,D),M=!0,A=!1),!(x>96&&x<123||x>64&&x<91||95===x||58===x))return m("illegal first char nodeName");for(b=1,y=p.length;b<y;b++)if(!((x=p.charCodeAt(b))>96&&x<123||x>64&&x<91||x>47&&x<59||45===x||95===x||46==x)){if(32===x||x<14&&x>8){_=p.substring(0,b),P=null;break}return m("invalid nodeName")}A||C.push(_)}if(h){if(o=j,M&&(A||k.push(o),null===P&&(d=-1!==p.indexOf("xmlns",b))&&(I=b,R=p,L(),d=!1)),S=_,-1!==(x=_.indexOf(":"))){if(!(E=j[_.substring(0,x)]))return m("missing namespace on <"+S+">");_=_.substr(x+1)}else E=j.xmlns;E&&(_=E+":"+_)}if(M&&(I=b,R=p,n&&(l?n(O,Pr,A,f):n(_,L,Pr,A,f),v)))return;if(A){if(r&&(r(l?O:_,Pr,M,f),v))return;h&&(j=M?o:k.pop())}D+=1}else{if(u&&(u(e.substring(N,D+1),Pr,f),v))return;D+=1}}else{if(-1===(D=e.indexOf("?>",N)))return m("unclosed question");if(s&&(s(e.substring(N,D+2),f),v))return;D+=2}}}(e),f=Dr,v=!1,y},this.stop=function(){v=!0}}function Lr(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var Br={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Fr="xsi:type";function zr(e){return e.xml&&e.xml.serialize}function Vr(e){return zr(e)===Fr}function Hr(e,t){return Lr(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function $r(e){return new Error(e)}function Gr(e){return e.$descriptor}function Ur(e){(0,mt.f0)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw $r("expected element");var t,n=this.elementsById,r=Gr(e).idProperty;if(r&&(t=e.get(r.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw $r("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function Wr(){}function Xr(){}function Zr(){}function qr(e,t){this.property=e,this.context=t}function Yr(e,t){this.element=t,this.propertyDesc=e}function Kr(){}function Jr(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function Qr(e,t,n){Jr.call(this,e,t,n)}function ei(e,t,n){this.model=e,this.context=n}function ti(e){e instanceof xr&&(e={model:e}),(0,mt.f0)(this,{lax:!1},e)}Wr.prototype.handleEnd=function(){},Wr.prototype.handleText=function(){},Wr.prototype.handleNode=function(){},Xr.prototype=Object.create(Wr.prototype),Xr.prototype.handleNode=function(){return this},Zr.prototype=Object.create(Wr.prototype),Zr.prototype.handleText=function(e){this.body=(this.body||"")+e},qr.prototype=Object.create(Zr.prototype),qr.prototype.handleNode=function(e){if(this.element)throw $r("expected no sub nodes");return this.element=this.createReference(e),this},qr.prototype.handleEnd=function(){this.element.id=this.body},qr.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Yr.prototype=Object.create(Zr.prototype),Yr.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=pr(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},Kr.prototype=Object.create(Zr.prototype),Kr.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},Jr.prototype=Object.create(Kr.prototype),Jr.prototype.addReference=function(e){this.context.addReference(e)},Jr.prototype.handleText=function(e){if(!Gr(this.element).bodyProperty)throw $r("unexpected body text <"+e+">");Zr.prototype.handleText.call(this,e)},Jr.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Gr(t).bodyProperty;n&&void 0!==e&&(e=pr(n.type,e),t.set(n.name,e))},Jr.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,i=Gr(r),o=this.context,a=new r({}),s=this.model;return(0,mt.Ed)(n,(function(e,n){var r,u=i.propertiesByName[n];u&&u.isReference?u.isMany?(r=e.split(" "),(0,mt.Ed)(r,(function(e){o.addReference({element:a,property:u.ns.name,id:e})}))):o.addReference({element:a,property:u.ns.name,id:e}):(u?e=pr(u.type,e):"xmlns"!==n&&(t=hr(n,i.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},Jr.prototype.getPropertyForNode=function(e){var t,n,r=hr(e.name),i=this.type,o=this.model,a=Gr(i),s=r.name,u=a.propertiesByName[s];if(u&&!u.isAttr)return Vr(u)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=hr(e);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(n,t.getPackage(n.prefix))}(t,o),n=o.getType(t),(0,mt.f0)({},u,{effectiveType:Gr(n).name})):u;var c=o.getPackage(r.prefix);if(c){if(t=Hr(r,c),n=o.getType(t),u=(0,mt.sE)(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})),u)return(0,mt.f0)({},u,{effectiveType:Gr(n).name})}else if(u=(0,mt.sE)(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})),u)return u;throw $r("unrecognized element <"+r.name+">")},Jr.prototype.toString=function(){return"ElementDescriptor["+Gr(this.type).name+"]"},Jr.prototype.valueHandler=function(e,t){return new Yr(e,t)},Jr.prototype.referenceHandler=function(e){return new qr(e,this.context)},Jr.prototype.handler=function(e){return"Element"===e?new ei(this.model,e,this.context):new Jr(this.model,e,this.context)},Jr.prototype.handleChild=function(e){var t,n,r,i;if(t=this.getPropertyForNode(e),r=this.element,dr(n=t.effectiveType||t.type))return this.valueHandler(t,r);var o=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?r.get(t.name).push(o):r.set(t.name,o),t.isReference?((0,mt.f0)(o,{element:r}),this.context.addReference(o)):o.$parent=r),i},Qr.prototype=Object.create(Jr.prototype),Qr.prototype.createElement=function(e){var t=e.name,n=hr(t),r=this.model,i=this.type,o=r.getPackage(n.prefix),a=o&&Hr(n,o)||t;if(!i.hasType(a))throw $r("unexpected element <"+e.originalName+">");return Jr.prototype.createElement.call(this,e)},ei.prototype=Object.create(Kr.prototype),ei.prototype.createElement=function(e){var t=e.name,n=hr(t).prefix,r=e.ns[n+"$uri"],i=e.attributes;return this.model.createAny(t,r,i)},ei.prototype.handleChild=function(e){var t=new ei(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},ei.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},ti.prototype.fromXML=function(e,t,n){var r=t.rootHandler;t instanceof Jr?(r=t,t={}):"string"===typeof t?(r=this.handler(t),t={}):"string"===typeof r&&(r=this.handler(r));var i=this.model,o=this.lax,a=new Ur((0,mt.f0)({},t,{rootHandler:r})),s=new Ir({proxy:!0}),u=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function c(e,t,n){var r=t(),i=r.line,o=r.column,s=r.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var u="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:u,error:e}),!0;throw $r(u)}function l(e,t){return c(e,t,!0)}r.context=a,u.push(r);var p=/^<\?xml /i,f=/ encoding="([^"]+)"/i,d=/^utf-8$/i;function h(e,t){try{u.peek().handleText(e)}catch(n){l(n,t)}}var y,v=i.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});s.ns(v).on("openTag",(function(e,t,n,r){var i=e.attrs||{},a=Object.keys(i).reduce((function(e,n){var r=t(i[n]);return e[n]=r,e}),{});!function(e,t){var n=u.peek();try{u.push(n.handleNode(e))}catch(r){c(r,t,o)&&u.push(new Xr)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},r)})).on("question",(function(e){if(p.test(e)){var t=f.exec(e),n=t&&t[1];n&&!d.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){u.pop().handleEnd()})).on("cdata",h).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&h(e,t)}(t(e),n)})).on("error",c).on("warn",l),y=function(){var t;try{s.parse(e),function(){var e,t,n=a.elementsById,r=a.references;for(e=0;t=r[e];e++){var i=t.element,o=n[t.id],s=Gr(i).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var u=i.get(s.name),c=u.indexOf(t);-1===c&&(c=u.length),o?u[c]=o:u.splice(c,1)}else i.set(s.name,o)}}()}catch(S_){t=S_}var i=r.element;t||i||(t=$r("failed to parse document as <"+r.type.$descriptor.name+">")),n(t,t?void 0:i,a)},setTimeout(y,0)},ti.prototype.handler=function(e){return new Qr(this.model,e)};var ni=/<|>|'|"|&|\n\r|\n/g,ri=/<|>|&/g;function ii(e){var t={},n={},r={},i=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?i.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,i=this.getNSKey(t);r[i]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(i,o).filter((function(e){var n=t.getNSKey(e);return r[n]}))}}function oi(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function ai(e){return(0,mt.HD)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var si={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ui={"<":"lt",">":"gt","&":"amp"};function ci(e,t,n){return(e=(0,mt.HD)(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function li(e){this.tagName=e}function pi(){}function fi(e){this.tagName=e}function di(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function hi(e,t){di.call(this,e,t)}function yi(){this.value="",this.write=function(e){this.value+=e}}function vi(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function mi(e){return e=(0,mt.f0)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var r=n||new yi,i=new vi(r,e.format);if(e.preamble&&i.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new di).build(t).serializeTo(i),!n)return r.value}}}function gi(e,t){xr.call(this,e,t)}li.prototype.build=function(e){return this.element=e,this},li.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},pi.prototype.serializeValue=pi.prototype.serializeTo=function(e){e.append(this.escape?ci(this.value,ri,ui):this.value)},pi.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(ri)&&(this.escape=!0),this},oi(fi,pi),fi.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},di.prototype.build=function(e){this.element=e;var t,n,r,i=e.$descriptor,o=this.propertyDescriptor,a=i.isGeneric;return t=a?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(i),this.tagName=this.addTagName(this.ns),a||(n=function(e){var t=e.$descriptor;return(0,mt.hX)(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var r=e[n];return r!==t.default&&null!==r&&(!t.isMany||r.length)}))}(e),this.parseAttributes((r=n,(0,mt.hX)(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return(0,mt.hX)(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},di.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?(0,mt.f0)({localName:t.ns.localName},e):(0,mt.f0)({localName:(n=t.ns.localName,r=t.$pkg,Lr(r)?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(n):n)},e);var n,r}(this.logNamespaceUsed(e.ns),e)},di.prototype.nsPropertyTagName=function(e){return function(e,t){return(0,mt.f0)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},di.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},di.prototype.nsAttributeName=function(e){var t;if(t=(0,mt.HD)(e)?hr(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:(0,mt.f0)({localName:t.localName},n)},di.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return(0,mt.Ed)(e,(function(i,o){"$body"===o?n.push((new pi).build({type:"String"},i)):"$children"===o?(0,mt.Ed)(i,(function(e){n.push(new di(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,i)&&r.push({name:o,value:i})})),r},di.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,o=hr(t);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var a=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(a)}},di.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,i=[];return(0,mt.Ed)(r,(function(t,r){var o=n.parseNsAttribute(e,r,t);o&&i.push(o)})),i},di.prototype.parseGenericAttributes=function(e,t){var n=this;(0,mt.Ed)(t,(function(t){if(t.name!==Fr)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(S_){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,S_)}}))},di.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;(0,mt.Ed)(e,(function(e){var i=r.get(e.name),o=e.isReference;if(e.isMany||(i=[i]),e.isBody)n.push((new pi).build(e,i[0]));else if(dr(e.type))(0,mt.Ed)(i,(function(r){n.push(new fi(t.addTagName(t.nsPropertyTagName(e))).build(e,r))}));else if(o)(0,mt.Ed)(i,(function(r){n.push(new li(t.addTagName(t.nsPropertyTagName(e))).build(r))}));else{var a=Vr(e),s=function(e){return"property"===zr(e)}(e);(0,mt.Ed)(i,(function(r){var i;i=a?new hi(t,e):s?new di(t,e):new di(t),n.push(i.build(r))}))}}))},di.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new ii(t):n=t),n},di.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,o=e.prefix,a=r.byUri(i);return"xml"===o||a&&!n||r.add(e,t),r.mapPrefix(o,i),e},di.prototype.logNamespaceUsed=function(e,t){var n,r,i,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,u=e.uri;if(!s&&!u)return{localName:e.localName};if(i=Br[s]||o&&(o.getPackage(s)||{}).uri,!(u=u||i||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(u))){for(n=s,r=1;a.uriByPrefix(n);)n=s+"_"+r++;e=this.logNamespace({prefix:n,uri:u},i===u)}return s&&a.mapPrefix(s,u),e},di.prototype.parseAttributes=function(e){var t=this,n=this.element;(0,mt.Ed)(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var i=[];(0,mt.Ed)(r,(function(e){i.push(e.id)})),r=i.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},di.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),ai(e)},di.prototype.addAttribute=function(e,t){var n=this.attrs;(0,mt.HD)(t)&&(t=ci(t,ni,si)),n.push({name:e,value:t})},di.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return(0,mt.UI)(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),(0,mt.Ed)(t,(function(t){e.append(" ").append(ai(t.name)).append('="').append(t.value).append('"')}))},di.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==pi;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),(0,mt.Ed)(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},oi(hi,di),hi.prototype.parseNsAttributes=function(e){var t=di.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Fr),(r.prefix?r.prefix+":":"")+o+n.ns.localName),t},hi.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},gi.prototype=Object.create(xr.prototype),gi.prototype.fromXML=function(e,t,n,r){(0,mt.HD)(t)||(r=n,n=t,t="bpmn:Definitions"),(0,mt.mf)(n)&&(r=n,n={});var i=new ti((0,mt.f0)({model:this,lax:!0},n)),o=i.handler(t);i.fromXML(e,o,r)},gi.prototype.toXML=function(e,t,n){(0,mt.mf)(t)&&(n=t,t={});var r,i,o=new mi(t);try{r=o.toXML(e)}catch(S_){i=S_}return n(i,r)};var bi={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};var xi=function(e,t){return new gi((0,mt.f0)({},bi,e),t)};function wi(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var Ei=new(In())({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function _i(e,t){return e.$instanceOf(t)}function Si(e,t){var n={},r=[];function i(e,t){return function(n){e(n,t)}}function o(e){n[e.id]=e}function a(n,r){try{var i=n.di&&function(n,r){if(n.gfx)throw new Error(t("already rendered {element}",{element:wi(n)}));return e.element(n,r)}(n,r);return o(n),i}catch(S_){s(S_.message,{element:n,error:S_}),console.error(t("failed to import {element}",{element:wi(n)})),console.error(S_)}}function s(t,n){e.error(t,n)}function u(e){var n=e.bpmnElement;n?n.di?s(t("multiple DI elements defined for {element}",{element:wi(n)}),{element:n}):(Ei.bind(n,"di"),n.di=e):s(t("no bpmnElement referenced in {element}",{element:wi(e)}),{element:e})}function c(e){var t;u(t=e.plane),(0,mt.Ed)(t.planeElement,l)}function l(e){u(e)}function p(){for(;r.length;)r.shift()()}function f(e,t){O(e,t),b(e.ioSpecification,t),g(e.artifacts,t),o(e)}function d(e,t){a(e,t)}function h(e,t){a(e,t)}function y(e,t){a(e,t)}function v(e,t){a(e,t)}function m(e,t){a(e,t)}function g(e,t){(0,mt.Ed)(e,(function(e){_i(e,"bpmn:Association")?r.push((function(){m(e,t)})):m(e,t)}))}function b(e,t){e&&((0,mt.Ed)(e.dataInputs,i(y,t)),(0,mt.Ed)(e.dataOutputs,i(v,t)))}function x(e,t){O(e,t),g(e.artifacts,t)}function w(e,t){var n=a(e,t);_i(e,"bpmn:SubProcess")&&x(e,n||t),_i(e,"bpmn:Activity")&&b(e.ioSpecification,t),r.push((function(){(0,mt.Ed)(e.dataInputAssociations,i(h,t)),(0,mt.Ed)(e.dataOutputAssociations,i(h,t))}))}function E(e,t){a(e,t)}function _(e,t){r.push((function(){var n=a(e,t);e.childLaneSet&&S(e.childLaneSet,n||t),function(e){(0,mt.Ed)(e.flowNodeRef,(function(t){var n=t.get("lanes");n&&n.push(e)}))}(e)}))}function S(e,t){(0,mt.Ed)(e.lanes,i(_,t))}function O(e,n){!function(e,n){(0,mt.Ed)(e,(function(e){_i(e,"bpmn:SequenceFlow")?r.push((function(){!function(e,t){a(e,t)}(e,n)})):_i(e,"bpmn:BoundaryEvent")?r.unshift((function(){w(e,n)})):_i(e,"bpmn:FlowNode")?w(e,n):_i(e,"bpmn:DataObject")||(_i(e,"bpmn:DataStoreReference")||_i(e,"bpmn:DataObjectReference")?E(e,n):s(t("unrecognized flowElement {element} in context {context}",{element:wi(e),context:n?wi(n.businessObject):"null"}),{element:e,context:n}))}))}(e.flowElements,n),e.laneSets&&function(e,t){(0,mt.Ed)(e,i(S,t))}(e.laneSets,n)}function P(e,t){var n=a(e,t),r=e.processRef;r&&f(r,n||t)}return{handleDeferred:p,handleDefinitions:function(o,a){var l=o.diagrams;if(a&&-1===l.indexOf(a))throw new Error(t("diagram not part of bpmn:Definitions"));if(!a&&l&&l.length&&(a=l[0]),!a)throw new Error(t("no diagram to display"));c(a);var h=a.plane;if(!h)throw new Error(t("no plane for {element}",{element:wi(a)}));var y=h.bpmnElement;if(!y){if(y=function(e){return(0,mt.sE)(e.rootElements,(function(e){return _i(e,"bpmn:Process")||_i(e,"bpmn:Collaboration")}))}(o),!y)throw new Error(t("no process or collaboration to display"));s(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:wi(h),rootElement:wi(y)})),h.bpmnElement=y,u(h)}var v,m=function(t,n){return e.root(t,n)}(y,h);if(_i(y,"bpmn:Process"))f(y,m);else{if(!_i(y,"bpmn:Collaboration"))throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:wi(h),rootElement:wi(y)}));v=y,(0,mt.Ed)(v.participants,i(P)),g(v.artifacts),r.push((function(){var e,t;e=v.messageFlows,(0,mt.Ed)(e,i(d,t))})),function(e,t){var r=(0,mt.hX)(e,(function(e){return!n[e.id]&&_i(e,"bpmn:Process")&&e.laneSets}));r.forEach(i(f,t))}(o.rootElements,m)}p()},handleSubProcess:x,registerDi:u}}var Oi=n(1789),Pi=n(4422);function ki(e){return(0,Pi.is)(e,"bpmn:FlowElement")||(0,Pi.is)(e,"bpmn:Participant")||(0,Pi.is)(e,"bpmn:Lane")||(0,Pi.is)(e,"bpmn:SequenceFlow")||(0,Pi.is)(e,"bpmn:MessageFlow")||(0,Pi.is)(e,"bpmn:DataInput")||(0,Pi.is)(e,"bpmn:DataOutput")?"name":(0,Pi.is)(e,"bpmn:TextAnnotation")?"text":(0,Pi.is)(e,"bpmn:Group")?"categoryValueRef":void 0}function ji(e){var t=e.businessObject,n=ki(t);if(n)return"categoryValueRef"===n?function(e){var t=e.categoryValueRef;return t&&t.value||""}(t):t[n]||""}function Ci(e,t,n){return(0,mt.G)(e.eventDefinitions,(function(r){return r.$type===t&&function(e,t){return(0,mt.yW)(t,(function(t,n){return e[n]==t}))}(e,n)}))}function Ti(e){return e.businessObject.di}function Mi(e){return e.businessObject}function Ai(e,t){return Ti(e).get("bioc:fill")||t||"white"}function Ni(e,t){return Ti(e).get("bioc:stroke")||t||"black"}var Di=new vt.Z,Ri=.95;function Ii(e,t,n,r,i,o,a){ln.call(this,t,a);var s=e&&e.defaultFillColor,u=e&&e.defaultStrokeColor,c=Di.next(),l={},p=n.computeStyle;function f(e,t){var n=(0,mt.f0)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var a=Lt("marker");St(t.element,n),wt(a,t.element),St(a,{id:e,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*o,markerHeight:20*o,orient:"auto"});var s=(0,gt.IO)("defs",i._svg);s||(s=Lt("defs"),wt(i._svg,s)),wt(s,a),l[e]=a}function d(e){return e.replace(/[^0-9a-zA-z]+/g,"_")}function h(e,t,n){var r=e+"-"+d(t)+"-"+d(n)+"-"+c;return l[r]||function(e,t,n,r){if("sequenceflow-end"===t){var i=Lt("path");St(i,{d:"M 1 5 L 11 10 L 1 15 Z"}),f(e,{element:i,ref:{x:11,y:10},scale:.5,attrs:{fill:r,stroke:r}})}if("messageflow-start"===t){var o=Lt("circle");St(o,{cx:6,cy:6,r:3.5}),f(e,{element:o,attrs:{fill:n,stroke:r},ref:{x:6,y:6}})}if("messageflow-end"===t){var a=Lt("path");St(a,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),f(e,{element:a,attrs:{fill:n,stroke:r,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===t){var s=Lt("path");St(s,{d:"M 11 5 L 1 10 L 11 15"}),f(e,{element:s,attrs:{fill:"none",stroke:r,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===t){var u=Lt("path");St(u,{d:"M 1 5 L 11 10 L 1 15"}),f(e,{element:u,attrs:{fill:"none",stroke:r,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===t){var c=Lt("path");St(c,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),f(e,{element:c,attrs:{fill:n,stroke:r},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===t){var l=Lt("path");St(l,{d:"M 6 4 L 10 16"}),f(e,{element:l,attrs:{stroke:r},ref:{x:0,y:10},scale:.5})}}(r,e,t,n),"url(#"+r+")"}function y(e,t,n,r,i){(0,mt.Kn)(r)&&(i=r,r=0),r=r||0,"none"===(i=p(i,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete i.fillOpacity;var o=t/2,a=n/2,s=Lt("circle");return St(s,{cx:o,cy:a,r:Math.round((t+n)/4-r)}),St(s,i),wt(e,s),s}function v(e,t,n,r,i,o){(0,mt.Kn)(i)&&(o=i,i=0),i=i||0,o=p(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=Lt("rect");return St(a,{x:i,y:i,width:t-2*i,height:n-2*i,rx:r,ry:r}),St(a,o),wt(e,a),a}function m(e,t,n){var r=dn(t,n=p(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}));return wt(e,r),r}function g(e,t,n){n=p(n,["no-fill"],{strokeWidth:2,stroke:"black"});var r=Lt("path");return St(r,{d:t}),St(r,n),wt(e,r),r}function b(e,t,n,r){return g(t,n,(0,mt.f0)({"data-marker":e},r))}function x(e){return function(t,n){return k[e](t,n)}}function w(e){return k[e]}function E(e,t){var n=Mi(e),r=function(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type}(n);return n.eventDefinitions&&n.eventDefinitions.length>1?n.parallelMultiple?w("bpmn:ParallelMultipleEventDefinition")(t,e,r):w("bpmn:MultipleEventDefinition")(t,e,r):Ci(n,"bpmn:MessageEventDefinition")?w("bpmn:MessageEventDefinition")(t,e,r):Ci(n,"bpmn:TimerEventDefinition")?w("bpmn:TimerEventDefinition")(t,e,r):Ci(n,"bpmn:ConditionalEventDefinition")?w("bpmn:ConditionalEventDefinition")(t,e):Ci(n,"bpmn:SignalEventDefinition")?w("bpmn:SignalEventDefinition")(t,e,r):Ci(n,"bpmn:EscalationEventDefinition")?w("bpmn:EscalationEventDefinition")(t,e,r):Ci(n,"bpmn:LinkEventDefinition")?w("bpmn:LinkEventDefinition")(t,e,r):Ci(n,"bpmn:ErrorEventDefinition")?w("bpmn:ErrorEventDefinition")(t,e,r):Ci(n,"bpmn:CancelEventDefinition")?w("bpmn:CancelEventDefinition")(t,e,r):Ci(n,"bpmn:CompensateEventDefinition")?w("bpmn:CompensateEventDefinition")(t,e,r):Ci(n,"bpmn:TerminateEventDefinition")?w("bpmn:TerminateEventDefinition")(t,e,r):null}function _(e,t,n){n=(0,mt.f0)({size:{width:100}},n);var r=o.createText(t||"",n);return Ct(r).add("djs-label"),wt(e,r),r}function S(e,t,n){return _(e,Mi(t).name,{box:t,align:n,padding:5,style:{fill:Ni(t,u)}})}function O(e,t,n){Qn(_(e,t,{box:{height:30,width:n.height},align:"center-middle",style:{fill:Ni(n,u)}}),0,-(-1*n.height),270)}function P(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,r=1;r<t.length;r++)n+="L"+t[r].x+","+t[r].y+" ";return n}var k=this.handlers={"bpmn:Event":function(e,t,n){return"fillOpacity"in n||(n.fillOpacity=Ri),y(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={fill:Ai(t,s),stroke:Ni(t,u)};Mi(t).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:Ai(t,s),stroke:Ni(t,u)});var r=w("bpmn:Event")(e,t,n);return E(t,e),r},"bpmn:MessageEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?Ni(t,u):Ai(t,s),stroke:n?Ai(t,s):Ni(t,u)})},"bpmn:TimerEventDefinition":function(e,t){var n=y(e,t.width,t.height,.2*t.height,{strokeWidth:2,fill:Ai(t,s),stroke:Ni(t,u)});g(e,r.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:Ni(t,u)});for(var i=0;i<12;i++){var o=r.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),a=t.width/2;g(e,o,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*i+","+t.height/2+","+a+")",stroke:Ni(t,u)})}return n},"bpmn:EscalationEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)})},"bpmn:ConditionalEventDefinition":function(e,t){return g(e,r.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:Ni(t,u)})},"bpmn:LinkEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)})},"bpmn:ErrorEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)})},"bpmn:CancelEventDefinition":function(e,t,n){var i=g(e,r.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)});return tr(i,45),i},"bpmn:CompensateEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)})},"bpmn:SignalEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?Ni(t,u):"none",stroke:Ni(t,u)})},"bpmn:MultipleEventDefinition":function(e,t,n){return g(e,r.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?Ni(t,u):"none"})},"bpmn:ParallelMultipleEventDefinition":function(e,t){return g(e,r.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:Ni(t,u),stroke:Ni(t,u)})},"bpmn:EndEvent":function(e,t){var n=w("bpmn:Event")(e,t,{strokeWidth:4,fill:Ai(t,s),stroke:Ni(t,u)});return E(t,e),n},"bpmn:TerminateEventDefinition":function(e,t){return y(e,t.width,t.height,8,{strokeWidth:4,fill:Ni(t,u),stroke:Ni(t,u)})},"bpmn:IntermediateEvent":function(e,t){var n=w("bpmn:Event")(e,t,{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)});return y(e,t.width,t.height,3,{strokeWidth:1,fill:Ai(t,"none"),stroke:Ni(t,u)}),E(t,e),n},"bpmn:IntermediateCatchEvent":x("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":x("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=Ri),v(e,t.width,t.height,10,n)},"bpmn:Task":function(e,t){var n={fill:Ai(t,s),stroke:Ni(t,u)},r=w("bpmn:Activity")(e,t,n);return S(e,t,"center-middle"),j(e,t),r},"bpmn:ServiceTask":function(e,t){var n=w("bpmn:Task")(e,t);return g(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)}),g(e,r.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:Ai(t,s)}),g(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)}),n},"bpmn:UserTask":function(e,t){var n=w("bpmn:Task")(e,t);return g(e,r.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Ai(t,s),stroke:Ni(t,u)}),g(e,r.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Ai(t,s),stroke:Ni(t,u)}),g(e,r.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Ni(t,u),stroke:Ni(t,u)}),n},"bpmn:ManualTask":function(e,t){var n=w("bpmn:Task")(e,t);return g(e,r.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:Ai(t,s),stroke:Ni(t,u)}),n},"bpmn:SendTask":function(e,t){var n=w("bpmn:Task")(e,t);return g(e,r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:Ni(t,u),stroke:Ai(t,s)}),n},"bpmn:ReceiveTask":function(e,t){var n,i=Mi(t),o=w("bpmn:Task")(e,t);return i.instantiate?(y(e,28,28,4.4,{strokeWidth:1}),n=r.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):n=r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),g(e,n,{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)}),o},"bpmn:ScriptTask":function(e,t){var n=w("bpmn:Task")(e,t);return g(e,r.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:Ni(t,u)}),n},"bpmn:BusinessRuleTask":function(e,t){var n=w("bpmn:Task")(e,t);return St(g(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:Ai(t,"#aaaaaa"),stroke:Ni(t,u)}),St(g(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:Ni(t,u)}),n},"bpmn:SubProcess":function(e,t,n){n=(0,mt.f0)({fill:Ai(t,s),stroke:Ni(t,u)},n);var r=w("bpmn:Activity")(e,t,n),i=(0,Oi.ul)(t);return(0,Oi.J5)(t)&&St(r,{strokeDasharray:"1,2"}),S(e,t,i?"center-top":"center-middle"),i?j(e,t):j(e,t,["SubProcessMarker"]),r},"bpmn:AdHocSubProcess":function(e,t){return w("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,t){var r=w("bpmn:SubProcess")(e,t),i=n.style(["no-fill","no-events"],{stroke:Ni(t,u)});return v(e,t.width,t.height,8,3,i),r},"bpmn:CallActivity":function(e,t){return w("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n={fillOpacity:Ri,fill:Ai(t,s),stroke:Ni(t,u)},r=w("bpmn:Lane")(e,t,n);(0,Oi.ul)(t)?(m(e,[{x:30,y:0},{x:30,y:t.height}],{stroke:Ni(t,u)}),O(e,Mi(t).name,t)):_(e,Mi(t).name,{box:t,align:"center-middle",style:{fill:Ni(t,u)}});return!!Mi(t).participantMultiplicity&&w("ParticipantMultiplicityMarker")(e,t),r},"bpmn:Lane":function(e,t,n){var r=v(e,t.width,t.height,0,(0,mt.f0)({fill:Ai(t,s),fillOpacity:.35,stroke:Ni(t,u)},n)),i=Mi(t);"bpmn:Lane"===i.$type&&O(e,i.name,t);return r},"bpmn:InclusiveGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return y(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:Ai(t,s),stroke:Ni(t,u)}),n},"bpmn:ExclusiveGateway":function(e,t){var n=w("bpmn:Gateway")(e,t),i=r.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return Ti(t).isMarkerVisible&&g(e,i,{strokeWidth:1,fill:Ni(t,u),stroke:Ni(t,u)}),n},"bpmn:ComplexGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return g(e,r.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:Ni(t,u),stroke:Ni(t,u)}),n},"bpmn:ParallelGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return g(e,r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:Ni(t,u),stroke:Ni(t,u)}),n},"bpmn:EventBasedGateway":function(e,t){var n=Mi(t),i=w("bpmn:Gateway")(e,t);y(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none",stroke:Ni(t,u)});var o=n.eventGatewayType,a=!!n.instantiate;if("Parallel"===o){var s=r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}});St(g(e,s),{strokeWidth:1,fill:"none"})}else if("Exclusive"===o){if(!a)St(y(e,t.width,t.height,.26*t.height),{strokeWidth:1,fill:"none",stroke:Ni(t,u)});!function(){var n=r.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}}),i={strokeWidth:2,fill:Ai(t,"none"),stroke:Ni(t,u)};g(e,n,i)}()}return i},"bpmn:Gateway":function(e,t){var n={fill:Ai(t,s),fillOpacity:Ri,stroke:Ni(t,u)};return function(e,t,n,r){var i=t/2,o=n/2,a=[{x:i,y:0},{x:t,y:o},{x:i,y:n},{x:0,y:o}].map((function(e){return e.x+","+e.y})).join(" ");r=p(r,{stroke:"black",strokeWidth:2,fill:"white"});var s=Lt("polygon");return St(s,{points:a}),St(s,r),wt(e,s),s}(e,t.width,t.height,n)},"bpmn:SequenceFlow":function(e,t){var n,r=P(t),i=Ai(t,s),o=Ni(t,u),a=g(e,r,{strokeLinejoin:"round",markerEnd:h("sequenceflow-end",i,o),stroke:Ni(t,u)}),c=Mi(t);return t.source&&(n=t.source.businessObject,c.conditionExpression&&n.$instanceOf("bpmn:Activity")&&St(a,{markerStart:h("conditional-flow-marker",i,o)}),n.default&&(n.$instanceOf("bpmn:Gateway")||n.$instanceOf("bpmn:Activity"))&&n.default===c&&St(a,{markerStart:h("conditional-default-flow-marker",i,o)})),a},"bpmn:Association":function(e,t,n){var r=Mi(t),i=Ai(t,s),o=Ni(t,u);return n=(0,mt.f0)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:Ni(t,u)},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=h("association-end",i,o)),"Both"===r.associationDirection&&(n.markerStart=h("association-start",i,o)),m(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){var n=Ai(t,s),r=Ni(t,u);return w("bpmn:Association")(e,t,{markerEnd:h("association-end",n,r)})},"bpmn:DataOutputAssociation":function(e,t){var n=Ai(t,s),r=Ni(t,u);return w("bpmn:Association")(e,t,{markerEnd:h("association-end",n,r)})},"bpmn:MessageFlow":function(e,t){var n=Mi(t),i=Ti(t),o=Ai(t,s),a=Ni(t,u),c=g(e,P(t),{markerEnd:h("messageflow-end",o,a),markerStart:h("messageflow-start",o,a),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:Ni(t,u)});if(n.messageRef){var l=c.getPointAtLength(c.getTotalLength()/2),p=r.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:l.x,y:l.y}}),f={strokeWidth:1};"initiating"===i.messageVisibleKind?(f.fill="white",f.stroke="black"):(f.fill="#888",f.stroke="white"),g(e,p,f)}return c},"bpmn:DataObject":function(e,t){var n=g(e,r.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:Ai(t,s),fillOpacity:Ri,stroke:Ni(t,u)});return function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}(Mi(t))&&function(e,t){var n=(t.height-16)/t.height,i=r.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.451,my:n}});g(e,i,{strokeWidth:2})}(e,t),n},"bpmn:DataObjectReference":x("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=w("bpmn:DataObject")(e,t);return g(e,n,{strokeWidth:1}),i},"bpmn:DataOutput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=w("bpmn:DataObject")(e,t);return g(e,n,{strokeWidth:1,fill:"black"}),i},"bpmn:DataStoreReference":function(e,t){return g(e,r.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:Ai(t,s),fillOpacity:Ri,stroke:Ni(t,u)})},"bpmn:BoundaryEvent":function(e,t){var n=Mi(t).cancelActivity,r={strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)};n||(r.strokeDasharray="6",r.strokeLinecap="round");var i=(0,mt.f0)({},r,{fillOpacity:1}),o=(0,mt.f0)({},r,{fill:"none"}),a=w("bpmn:Event")(e,t,i);return y(e,t.width,t.height,3,o),E(t,e),a},"bpmn:Group":function(e,t){return v(e,t.width,t.height,10,{stroke:Ni(t,u),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return _(e,ji(t),{box:n,fitBox:!0,style:(0,mt.f0)({},o.getExternalStyle(),{fill:Ni(t,u)})})}(e,t)},"bpmn:TextAnnotation":function(e,t){var n=v(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return g(e,r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}}),{stroke:Ni(t,u)}),_(e,Mi(t).text||"",{box:t,align:"left-top",padding:5,style:{fill:Ni(t,u)}}),n},ParticipantMultiplicityMarker:function(e,t){b("participant-multiplicity",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)})},SubProcessMarker:function(e,t){er(v(e,14,14,0,{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)}),t.width/2-7.5,t.height-20),b("sub-process",e,r.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:Ai(t,s),stroke:Ni(t,u)})},ParallelMarker:function(e,t,n){b("parallel",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.parallel)/t.width,my:(t.height-20)/t.height}}),{fill:Ai(t,s),stroke:Ni(t,u)})},SequentialMarker:function(e,t,n){b("sequential",e,r.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:Ai(t,s),stroke:Ni(t,u)})},CompensationMarker:function(e,t,n){b("compensation",e,r.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u)})},LoopMarker:function(e,t,n){b("loop",e,r.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:Ai(t,s),stroke:Ni(t,u),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){b("adhoc",e,r.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:Ni(t,u),stroke:Ni(t,u)})}};function j(e,t,n){var r,i=Mi(t),o=n&&-1!==n.indexOf("SubProcessMarker");r=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},(0,mt.Ed)(n,(function(n){w(n)(e,t,r)})),i.isForCompensation&&w("CompensationMarker")(e,t,r),"bpmn:AdHocSubProcess"===i.$type&&w("AdhocMarker")(e,t,r);var a=i.loopCharacteristics,s=a&&a.isSequential;a&&(void 0===s&&w("LoopMarker")(e,t,r),!1===s&&w("ParallelMarker")(e,t,r),!0===s&&w("SequentialMarker")(e,t,r))}this._drawPath=g}yt()(Ii,ln),Ii.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Ii.prototype.canRender=function(e){return(0,Pi.is)(e,"bpmn:BaseElement")},Ii.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},Ii.prototype.drawConnection=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},Ii.prototype.getShapePath=function(e){return(0,Pi.is)(e,"bpmn:Event")?function(e){var t=e.x+e.width/2,n=e.y+e.height/2,r=e.width/2;return pn([["M",t,n],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]])}(e):(0,Pi.is)(e,"bpmn:Activity")?function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height;return pn([["M",n+t,r],["l",i-2*t,0],["a",t,t,0,0,1,t,t],["l",0,o-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-i,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-o],["a",t,t,0,0,1,t,-t],["z"]])}(e,10):(0,Pi.is)(e,"bpmn:Gateway")?function(e){var t=e.width/2,n=e.height/2;return pn([["M",e.x+t,e.y],["l",t,n],["l",-t,n],["l",-t,-n],["z"]])}(e):function(e){var t=e.x,n=e.y,r=e.width;return pn([["M",t,n],["l",r,0],["l",0,e.height],["l",-r,0],["z"]])}(e)};var Li={width:150,height:50};function Bi(e,t){var n;t.textContent=e;try{var r,i=""===e;return t.textContent=i?"dummy":e,r={width:(n=t.getBBox()).width+2*n.x,height:n.height},i&&(r.width=0),r}catch(S_){return{width:0,height:0}}}function Fi(e,t,n){for(var r,i=e.shift(),o=i;;){if((r=Bi(o,n)).width=o?r.width:0," "===o||""===o||r.width<Math.round(t)||o.length<2)return zi(e,o,i,r);o=Vi(o,r.width,t)}}function zi(e,t,n,r){if(t.length<n.length){var i=n.slice(t.length).trim();e.unshift(i)}return{width:r.width,height:r.height,text:t}}function Vi(e,t,n){var r=Math.max(e.length*(n/t),1),i=function(e,t){var n,r=e.split(/(\s|-)/g),i=[],o=0;if(r.length>1)for(;n=r.shift();){if(!(n.length+o<t)){"-"===n&&i.pop();break}i.push(n),o+=n.length}return i.join("")}(e,r);return i||(i=e.slice(0,Math.max(Math.round(r-1),1))),i}function Hi(e){this._config=(0,mt.f0)({},{size:Li,padding:0,style:{},align:"center-top"},e||{})}Hi.prototype.createText=function(e,t){return this.layoutText(e,t).element},Hi.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},Hi.prototype.layoutText=function(e,t){var n=(0,mt.f0)({},this._config.size,t.box),r=(0,mt.f0)({},this._config.style,t.style),i=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return(0,mt.Kn)(e)?(0,mt.f0)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),u=e.split(/\r?\n/g),c=[],l=n.width-o.left-o.right,p=Lt("text");for(St(p,{x:0,y:0}),St(p,r),wt(function(){var e=document.getElementById("helper-svg");return e||(St(e=Lt("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}(),p);u.length;)c.push(Fi(u,l,p));"middle"===i.vertical&&(o.top=o.bottom=0);var f=(0,mt.u4)(c,(function(e,t,n){return e+(s||t.height)}),0)+o.top+o.bottom,d=(0,mt.u4)(c,(function(e,t,n){return t.width>e?t.width:e}),0),h=o.top;"middle"===i.vertical&&(h+=(n.height-f)/2),h-=(s||c[0].height)/4;var y=Lt("text");return St(y,r),(0,mt.Ed)(c,(function(e){var t;switch(h+=s||e.height,i.horizontal){case"left":t=o.left;break;case"right":t=(a?d:l)-o.right-e.width;break;default:t=Math.max(((a?d:l)-e.width)/2+o.left,0)}var n=Lt("tspan");St(n,{x:t,y:h}),n.textContent=e.text,wt(y,n)})),Mt(p),{dimensions:{width:d,height:f},element:y}};function $i(e){var t=(0,mt.f0)({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,r=(0,mt.f0)({},t,{fontSize:n},e&&e.externalStyle||{}),i=new Hi({style:t});this.getExternalLabelBounds=function(e,t){var n=i.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:r});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,n){var r=i.getDimensions(n,{box:e,style:t,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(30,Math.round(r.height))}},this.createText=function(e,t){return i.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return r}}$i.$inject=["config.textRenderer"];var Gi=/\{([^}]+)\}/g,Ui=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;var Wi={__init__:["bpmnRenderer"],bpmnRenderer:["type",Ii],textRenderer:["type",$i],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,r,i=this.pathMap[e];t.abspos?(n=t.abspos.x,r=t.abspos.y):(n=t.containerWidth*t.position.mx,r=t.containerHeight*t.position.my);var o,a,s={};if(t.position){for(var u=t.containerHeight/i.height*t.yScaleFactor,c=t.containerWidth/i.width*t.xScaleFactor,l=0;l<i.heightElements.length;l++)s["y"+l]=i.heightElements[l]*u;for(var p=0;p<i.widthElements.length;p++)s["x"+p]=i.widthElements[p]*c}return o=i.d,a={mx:n,my:r,e:s},String(o).replace(Gi,(function(e,t){return function(e,t,n){var r=n;return t.replace(Ui,(function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))})),r=(null==r||r==n?e:r)+""}(e,t,a)}))}}]},Xi=n(5234),Zi={width:90,height:20};function qi(e){return(0,Pi.is)(e,"bpmn:Event")||(0,Pi.is)(e,"bpmn:Gateway")||(0,Pi.is)(e,"bpmn:DataStoreReference")||(0,Pi.is)(e,"bpmn:DataObjectReference")||(0,Pi.is)(e,"bpmn:DataInput")||(0,Pi.is)(e,"bpmn:DataOutput")||(0,Pi.is)(e,"bpmn:SequenceFlow")||(0,Pi.is)(e,"bpmn:MessageFlow")||(0,Pi.is)(e,"bpmn:Group")}function Yi(e){return Qi(e.label)}function Ki(e){var t=e.length/2-1,n=e[Math.floor(t)],r=e[Math.ceil(t+.01)],i=function(e){var t=e.length/2-1,n=e[Math.floor(t)],r=e[Math.ceil(t+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}(e),o=Math.atan((r.y-n.y)/(r.x-n.x)),a=i.x,s=i.y;return Math.abs(o)<Math.PI/2?s-=15:a+=15,{x:a,y:s}}function Ji(e){return e.waypoints?Ki(e.waypoints):(0,Pi.is)(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+Zi.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Zi.height/2}}function Qi(e){return e&&!!e.labelTarget}function eo(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function to(e,t,n,r){if("undefined"===typeof r&&(r=5),!e||!t||!n)return!1;var i=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=eo(e,t);return Math.abs(i/o)<=r}function no(e,t){var n;return function(e,t){var n;n=(0,mt.kJ)(e)?e:[e,t];var r=n.slice().shift();return(0,mt.yW)(n,(function(e){return Math.abs(r.y-e.y)<=2}))}(n=(0,mt.kJ)(e)?e:[e,t])?"h":!!function(e,t){var n;n=(0,mt.kJ)(e)?e:[e,t];var r=n.slice().shift();return(0,mt.yW)(n,(function(e){return Math.abs(r.x-e.x)<=2}))}(n)&&"v"}function ro(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function io(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var oo=n(8741),ao=n.n(oo);function so(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function uo(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function co(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function lo(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function po(e){return uo({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function fo(e,t,n){n=n||0,(0,mt.Kn)(n)||(n={x:n,y:n});var r=co(e),i=co(t),o=r.bottom+n.y<=i.top,a=r.left-n.x>=i.right,s=r.top-n.y>=i.bottom,u=o?"top":s?"bottom":null,c=r.right+n.x<=i.left?"left":a?"right":null;return c&&u?u+"-"+c:c||u||"intersect"}function ho(e,t,n){var r=function(e,t){return ao()(e,t)}(e,t);return 1===r.length||2===r.length&&eo(r[0],r[1])<1?uo(r[0]):r.length>1?(r=(0,mt.MR)(r,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})),uo(r[n?0:r.length-1])):null}function yo(e,t){return(0,mt.f0)({id:e.id,type:e.$type,businessObject:e},t)}function vo(e,t,n){var r=e.di.waypoint;return!r||r.length<2?[po(t),po(n)]:r.map((function(e){return{x:e.x,y:e.y}}))}function mo(e,t,n,r){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:wi(n),referenced:wi(t),property:r}))}function go(e,t,n,r,i,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=r,this._translate=i,this._textRenderer=o}go.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],go.prototype.add=function(e,t){var n,r,i,o=e.di,a=this._translate;if((0,Pi.is)(o,"bpmndi:BPMNPlane"))n=this._elementFactory.createRoot(yo(e)),this._canvas.setRootElement(n);else if((0,Pi.is)(o,"bpmndi:BPMNShape")){var s=!(0,Oi.ul)(e);r=t&&(t.hidden||t.collapsed);var u=e.di.bounds;n=this._elementFactory.createShape(yo(e,{collapsed:s,hidden:r,x:Math.round(u.x),y:Math.round(u.y),width:Math.round(u.width),height:Math.round(u.height)})),(0,Pi.is)(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),(0,Pi.is)(e,"bpmn:Lane")&&(i=0),(0,Pi.is)(e,"bpmn:DataStoreReference")&&(function(e,t){var n=t.x,r=t.y;return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}(t,po(u))||(t=this._canvas.getRootElement())),this._canvas.addShape(n,t,i)}else{if(!(0,Pi.is)(o,"bpmndi:BPMNEdge"))throw new Error(a("unknown di {di} for element {semantic}",{di:wi(o),semantic:wi(e)}));var c=this._getSource(e),l=this._getTarget(e);r=t&&(t.hidden||t.collapsed),n=this._elementFactory.createConnection(yo(e,{hidden:r,source:c,target:l,waypoints:vo(e,c,l)})),(0,Pi.is)(e,"bpmn:DataAssociation")&&(t=null),(0,Pi.is)(e,"bpmn:SequenceFlow")&&(i=0),this._canvas.addConnection(n,t,i)}return qi(e)&&ji(n)&&this.addLabel(e,n),this._eventBus.fire("bpmnElement.added",{element:n}),n},go.prototype._attachBoundary=function(e,t){var n=this._translate,r=e.attachedToRef;if(!r)throw new Error(n("missing {semantic}#attachedToRef",{semantic:wi(e)}));var i=this._elementRegistry.get(r.id),o=i&&i.attachers;if(!i)throw mo(n,e,r,"attachedToRef");t.host=i,o||(i.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},go.prototype.addLabel=function(e,t){var n,r,i;return n=function(e,t){var n,r,i,o=e.di.label;return o&&o.bounds?(i=o.bounds,r={width:Math.max(Zi.width,i.width),height:i.height},n={x:i.x+i.width/2,y:i.y+i.height/2}):(n=Ji(t),r=Zi),(0,mt.f0)({x:n.x-r.width/2,y:n.y-r.height/2},r)}(e,t),(r=ji(t))&&(n=this._textRenderer.getExternalLabelBounds(n,r)),i=this._elementFactory.createLabel(yo(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!ji(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(i,t.parent)},go.prototype._getEnd=function(e,t){var n,r,i=e.$type,o=this._translate;if(r=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===i&&(r=r&&r[0]),("source"===t&&"bpmn:DataOutputAssociation"===i||"target"===t&&"bpmn:DataInputAssociation"===i)&&(r=e.$parent),n=r&&this._getElement(r))return n;throw r?mo(o,e,r,t+"Ref"):new Error(o("{semantic}#{side} Ref not specified",{semantic:wi(e),side:t}))},go.prototype._getSource=function(e){return this._getEnd(e,"source")},go.prototype._getTarget=function(e){return this._getEnd(e,"target")},go.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var bo={__depends__:[Wi,{__depends__:[Xi.Z],bpmnImporter:["type",go]}]};function xo(e){e&&"function"===typeof e.stopPropagation&&e.stopPropagation()}function wo(e){return e.originalEvent||e.srcEvent}function Eo(e,t){xo(e),xo(wo(e))}function _o(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function So(e){return!(wo(e)||e).button}function Oo(e){var t=wo(e)||e;return!!So(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function Po(e){var t=wo(e)||e;return So(e)&&t.shiftKey}function ko(e){return!0}function jo(e,t,n){var r=this;function i(n,r,i){var o,a;(function(e,t){return!(u[e]||So)(t)})(n,r)||(i?a=t.getGraphics(i):(o=r.delegateTarget||r.target)&&(a=o,i=t.get(a)),a&&i&&!1===e.fire(n,{element:i,gfx:a,originalEvent:r})&&(r.stopPropagation(),r.preventDefault()))}var o={};function a(e){return o[e]}var s={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},u={"element.contextmenu":ko};function c(e,t,n,r){var a=o[n]=function(e){i(n,e)};r&&(u[n]=r),a.$delegate=gt.cl.bind(e,"svg, .djs-element",t,a)}function l(e,t,n){var r=a(n);r&&gt.cl.unbind(e,t,r.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,(0,mt.Ed)(s,(function(e,n){l(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,(0,mt.Ed)(s,(function(e,n){c(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,r=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:r})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,r=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:r})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;r.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;r.updateDefaultHit(t,n)}));var p=h("djs-hit djs-hit-stroke"),f=h("djs-hit djs-hit-click-stroke"),d={all:h("djs-hit djs-hit-all"),"click-stroke":f,stroke:p};function h(e,t){return t=(0,mt.f0)({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function y(e,t){var n=d[t];if(!n)throw new Error("invalid hit type <"+t+">");return St(e,n),e}function v(e,t){wt(e,t)}this.removeHits=function(e){var t=(0,gt.Kt)(".djs-hit",e);(0,mt.Ed)(t,Mt)},this.createDefaultHit=function(e,t){var n,r=e.waypoints,i=e.isFrame;return r?this.createWaypointsHit(t,r):(n=i?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=dn(t);return y(n,"stroke"),v(e,n),n},this.createBoxHit=function(e,t,n){n=(0,mt.f0)({x:0,y:0},n);var r=Lt("rect");return y(r,t),St(r,n),v(e,r),r},this.updateDefaultHit=function(e,t){var n=(0,gt.IO)(".djs-hit",t);if(n)return e.waypoints?function(e,t){St(e,{points:fn(t)})}(n,e.waypoints):St(n,{width:e.width,height:e.height}),n},this.fire=i,this.triggerMouseEvent=function(e,t,n){var r=s[e];if(!r)throw new Error("unmapped DOM event name <"+e+">");return i(r,t,n)},this.mouseHandler=a,this.registerEvent=c,this.unregisterEvent=l}jo.$inject=["eventBus","elementRegistry","styles"];var Co={__init__:["interactionEvents"],interactionEvents:["type",jo]};function To(e,t,n){this.offset=6;var r=t.cls("djs-outline",["no-fill"]),i=this;function o(e,t){var n=Lt("rect");return St(n,(0,mt.f0)({x:10,y:10,width:100,height:100},r)),wt(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,r=(0,gt.IO)(".djs-outline",n);r||(r=o(n)),i.updateShapeOutline(r,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,r=(0,gt.IO)(".djs-outline",n);r||(r=o(n)),i.updateConnectionOutline(r,t)}))}To.prototype.updateShapeOutline=function(e,t){St(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},To.prototype.updateConnectionOutline=function(e,t){var n=xn(t);St(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},To.$inject=["eventBus","styles","elementRegistry"];var Mo={__init__:["outline"],outline:["type",To]};function Ao(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}Ao.$inject=["eventBus"],Ao.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var r=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:t})}},Ao.prototype.get=function(){return this._selectedElements},Ao.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},Ao.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();(0,mt.kJ)(e)||(e=e?[e]:[]),t?(0,mt.Ed)(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var No="hover",Do="selected";function Ro(e,t,n,r){function i(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){i(e.element,No)})),e.on("element.out",(function(e){o(e.element,No)})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;(0,mt.Ed)(t,(function(e){-1===n.indexOf(e)&&function(e){o(e,Do)}(e)})),(0,mt.Ed)(n,(function(e){-1===t.indexOf(e)&&function(e){i(e,Do)}(e)}))}))}function Io(e,t,n,r){e.on("create.end",500,(function(e){var n=e.context,r=n.canExecute,i=n.elements,o=(n.hints||{}).autoSelect;if(r){if(!1===o)return;(0,mt.kJ)(o)?t.select(o):t.select(i.filter(Lo))}})),e.on("connect.end",500,(function(e){var n=e.context,r=n.canExecute,i=n.hover;r&&i&&t.select(i)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],i=r.get(e.context.shape.id);(0,mt.sE)(n,(function(e){return i.id===e.id}))||t.select(i)})),e.on("element.click",(function(e){var r=e.element;r===n.getRootElement()&&(r=null);var i=t.isSelected(r),o=t.get().length>1,a=Oo(e)||Po(e);if(i&&o)return a?t.deselect(r):t.select(r);i?t.deselect(r):t.select(r,a)}))}function Lo(e){return!e.hidden}Ro.$inject=["eventBus","canvas","selection","styles"],Io.$inject=["eventBus","selection","canvas","elementRegistry"];var Bo={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Co,Mo],selection:["type",Ao],selectionVisuals:["type",Ro],selectionBehavior:["type",Io]};function Fo(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Fo.prototype.next=function(){return this._prefix+ ++this._counter};var zo=new Fo("ov");function Vo(e,t,n,r){this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=zo,this._overlayDefaults=(0,mt.f0)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function(e){var t=(0,gt.H6)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(t,e.firstChild),t}(n.getContainer()),this._init()}function Ho(e,t,n){(0,mt.f0)(e.style,{left:t+"px",top:n+"px"})}function $o(e,t){e.style.display=!1===t?"none":""}function Go(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}Vo.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Vo.prototype.get=function(e){if((0,mt.HD)(e)&&(e={id:e}),(0,mt.HD)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?(0,mt.hX)(t.overlays,(0,mt.KQ)({type:e.type})):t.overlays.slice():[]}return e.type?(0,mt.hX)(this._overlays,(0,mt.KQ)({type:e.type})):e.id?this._overlays[e.id]:null},Vo.prototype.add=function(e,t,n){if((0,mt.Kn)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var r=this._ids.next();return n=(0,mt.f0)({},this._overlayDefaults,n,{id:r,type:t,element:e,html:n.html}),this._addOverlay(n),r},Vo.prototype.remove=function(e){var t=this.get(e)||[];(0,mt.kJ)(t)||(t=[t]);var n=this;(0,mt.Ed)(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&((0,gt.Od)(e.html),(0,gt.Od)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var r=t.overlays.indexOf(e);-1!==r&&t.overlays.splice(r,1)}}))},Vo.prototype.show=function(){$o(this._overlayRoot)},Vo.prototype.hide=function(){$o(this._overlayRoot,!1)},Vo.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,gt.ZH)(this._overlayRoot)},Vo.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,r=t.x,i=t.y;if(t.waypoints){var o=xn(t);r=o.x,i=o.y}Ho(n,r,i),(0,gt.Lj)(e.html,"data-container-id",t.id)},Vo.prototype._updateOverlay=function(e){var t,n,r=e.position,i=e.htmlContainer,o=e.element,a=r.left,s=r.top;void 0!==r.right&&(t=o.waypoints?xn(o).width:o.width,a=-1*r.right+t);void 0!==r.bottom&&(n=o.waypoints?xn(o).height:o.height,s=-1*r.bottom+n);Ho(i,a||0,s||0)},Vo.prototype._createOverlayContainer=function(e){var t=(0,gt.H6)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},Vo.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";Go(this._overlayRoot,n)},Vo.prototype._getOverlayContainer=function(e,t){var n=(0,mt.sE)(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},Vo.prototype._addOverlay=function(e){var t,n,r=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),(0,mt.HD)(o)&&(o=(0,gt.H6)(o)),n=this._getOverlayContainer(i),(t=(0,gt.H6)('<div class="djs-overlay" data-overlay-id="'+r+'" style="position: absolute">')).appendChild(o),e.type&&(0,gt.Sh)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[r]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},Vo.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,r=n&&n.minZoom,i=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&(((0,mt.$K)(r)&&r>t.scale||(0,mt.$K)(i)&&i<t.scale)&&(a=!1),$o(o,a)),this._updateOverlayScale(e,t)},Vo.prototype._updateOverlayScale=function(e,t){var n,r,i,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,r=1):(n=o.min,r=o.max),(0,mt.$K)(n)&&t.scale<n&&(i=(1/t.scale||1)*n),(0,mt.$K)(r)&&t.scale>r&&(i=(1/t.scale||1)*r)),(0,mt.$K)(i)&&(s="scale("+i+","+i+")"),Go(a,s)},Vo.prototype._updateOverlaysVisibilty=function(e){var t=this;(0,mt.Ed)(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},Vo.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element,r=t.get({element:n});(0,mt.Ed)(r,(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){(0,gt.Od)(i.html);var o=t._overlayContainers.indexOf(i);-1!==o&&t._overlayContainers.splice(o,1)}})),e.on("element.changed",500,(function(e){var n=e.element,r=t._getOverlayContainer(n,!0);r&&((0,mt.Ed)(r.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(r))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&(0,gt.Sh)(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)};var Uo={__init__:["overlays"],overlays:["type",Vo]},Wo='<img width="52" height="52" src="'+("data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>'))+'" />';function Xo(e){return e.join(";")}var Zo,qo='<div class="bjs-powered-by-lightbox" style="'+Xo(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+Xo(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+Xo(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+Wo+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';var Yo={width:"100%",height:"100%",position:"relative"};function Ko(e){return e+((0,mt.hj)(e)?"px":"")}function Jo(e){e=(0,mt.f0)({},Yo,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),function(e){var t='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+Wo+"</a>",n=(0,gt.H6)(t);e.appendChild(n),gt.B.bind(n,"click",(function(e){Zo||(Zo=(0,gt.H6)(qo),gt.cl.bind(Zo,".backdrop","click",(function(e){document.body.removeChild(Zo)}))),document.body.appendChild(Zo),e.preventDefault()}))}(this._container),this._init(this._container,this._moddle,e)}function Qo(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function ea(e,t){return-1!==(e=(0,mt.kJ)(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function ta(e){return e.shiftKey}yt()(Jo,ar),Jo.prototype.importXML=function(e,t,n){(0,mt.mf)(t)&&(n=t,t=null),n=n||function(){};var r=this;e=this._emit("import.parse.start",{xml:e})||e,this._moddle.fromXML(e,"bpmn:Definitions",(function(e,i,o){i=r._emit("import.parse.complete",{error:e,definitions:i,context:o})||i;var a=o.warnings;if(e)return e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]),e}(e),r._emit("import.done",{error:e,warnings:a}),n(e,a);r.importDefinitions(i,t,(function(e,t){var i=[].concat(a,t||[]);r._emit("import.done",{error:e,warnings:i}),n(e,i)}))}))},Jo.prototype.importDefinitions=function(e,t,n){return(0,mt.mf)(t)&&(n=t,t=null),n=n||function(){},this._setDefinitions(e),this.open(t,n)},Jo.prototype.open=function(e,t){(0,mt.mf)(e)&&(t=e,e=null);var n=this._definitions,r=e;if(t=t||function(){},!n)return t(new Error("no XML imported"));if("string"===typeof e&&(r=function(e,t){return t&&(0,mt.sE)(e.diagrams,(function(e){return e.id===t}))||null}(n,e),!r))return t(new Error("BPMNDiagram <"+e+"> not found"));try{this.clear()}catch(Cr){return t(Cr)}return function(e,t,n,r){var i,o,a;(0,mt.mf)(n)&&(r=n,n=null);var s,u=[];try{i=e.get("bpmnImporter"),o=e.get("eventBus"),a=e.get("translate"),o.fire("import.render.start",{definitions:t}),function(e,t){new Si({root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){u.push({message:e,context:t})}},a).handleDefinitions(e,t)}(t,n),o.fire("import.render.complete",{error:s,warnings:u})}catch(S_){s=S_}r(s,u)}(this,n,r,t)},Jo.prototype.saveXML=function(e,t){t||(t=e,e={});var n=this,r=this._definitions;if(!r)return t(new Error("no definitions loaded"));r=this._emit("saveXML.start",{definitions:r})||r,this._moddle.toXML(r,e,(function(e,r){try{r=n._emit("saveXML.serialized",{error:e,xml:r})||r,n._emit("saveXML.done",{error:e,xml:r})}catch(S_){console.error("error in saveXML life-cycle listener",S_)}t(e,r)}))},Jo.prototype.saveSVG=function(e,t){var n,r;t||(t=e,e={}),this._emit("saveSVG.start");try{var i=this.get("canvas"),o=i.getDefaultLayer(),a=(0,gt.IO)("defs",i._svg),s=Zt(o),u=a?"<defs>"+Zt(a)+"</defs>":"",c=o.getBBox();n='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+c.width+'" height="'+c.height+'" viewBox="'+c.x+" "+c.y+" "+c.width+" "+c.height+'" version="1.1">'+u+s+"</svg>"}catch(S_){r=S_}this._emit("saveSVG.done",{error:r,svg:n}),t(r,n)},Jo.prototype._setDefinitions=function(e){this._definitions=e},Jo.prototype.getModules=function(){return this._modules},Jo.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(e){var t=e.businessObject;t&&t.di&&delete t.di})),ar.prototype.clear.call(this))},Jo.prototype.destroy=function(){ar.prototype.destroy.call(this),(0,gt.Od)(this._container)},Jo.prototype.on=function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)},Jo.prototype.off=function(e,t){this.get("eventBus").off(e,t)},Jo.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"===typeof e&&(e=(0,gt.IO)(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Jo.prototype.getDefinitions=function(){return this._definitions},Jo.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},Jo.prototype._init=function(e,t,n){var r=n.modules||this.getModules(),i=n.additionalModules||[],o=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],r,i),a=(0,mt.f0)((0,mt.CE)(n,["additionalModules"]),{canvas:(0,mt.f0)({},n.canvas,{container:e}),modules:o});ar.call(this,a),n&&n.container&&this.attachTo(n.container)},Jo.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},Jo.prototype._createContainer=function(e){var t=(0,gt.H6)('<div class="bjs-container"></div>');return(0,mt.f0)(t.style,{width:Ko(e.width),height:Ko(e.height),position:e.position}),t},Jo.prototype._createModdle=function(e){var t=(0,mt.f0)({},this._moddleExtensions,e.moddleExtensions);return new xi(t)},Jo.prototype._modules=[bo,Xi.Z,Bo,Uo],Jo.prototype._moddleExtensions={};var na="keyboard.keydown";function ra(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}ra.$inject=["config.keyboard","eventBus"],ra.prototype._keydownHandler=function(e){this._keyHandler(e,na)},ra.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},ra.prototype._keyHandler=function(e,t){if(!function(e){return e&&((0,gt.wB)(e,"input, textarea")||"true"===e.contentEditable)}(e.target)){var n={keyEvent:e};this._eventBus.fire(t||na,n)&&e.preventDefault()}},ra.prototype.bind=function(e){this.unbind(),this._node=e,gt.B.bind(e,"keydown",this._keydownHandler,!0),gt.B.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},ra.prototype.getBinding=function(){return this._node},ra.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),gt.B.unbind(e,"keydown",this._keydownHandler,!0),gt.B.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},ra.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},ra.prototype.addListener=function(e,t,n){(0,mt.mf)(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||na,e,t)},ra.prototype.removeListener=function(e,t){this._eventBus.off(t||na,e)},ra.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},ra.prototype.isCmd=Qo,ra.prototype.isShift=ta,ra.prototype.isKey=ea;var ia=["c","C",67],oa=["v","V",86],aa=["y","Y",89],sa=["z","Z",90];function ua(e,t){var n=this;e.on("editorActions.init",500,(function(e){var r=e.editorActions;n.registerBindings(t,r)}))}ua.$inject=["eventBus","keyboard"],ua.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}n("undo",(function(e){var n=e.keyEvent;if(Qo(n)&&!ta(n)&&ea(sa,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(Qo(n)&&(ea(aa,n)||ea(sa,n)&&ta(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(Qo(n)&&ea(ia,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(Qo(n)&&ea(oa,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(ea(["+","Add","="],n)&&Qo(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(ea(["-","Subtract"],n)&&Qo(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(ea("0",n)&&Qo(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(ea(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var ca={__init__:["keyboard","keyboardBindings"],keyboard:["type",ra],keyboardBindings:["type",ua]},la={moveSpeed:50,moveSpeedAccelerated:200};function pa(e,t,n){var r=this;this._config=(0,mt.f0)({},la,e||{}),t.addListener((function(e){var n=e.keyEvent,i=r._config;if(!t.isCmd(n))return;if(t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?i.moveSpeedAccelerated:i.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return r.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,r=0,i=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=i;break;case"up":r=i;break;case"right":t=-i;break;case"down":r=-i}n.scroll({dx:t,dy:r})}}pa.$inject=["config.keyboardMove","keyboard","canvas"];var fa={__depends__:[ca],__init__:["keyboardMove"],keyboardMove:["type",pa]},da=/^djs-cursor-.*$/;function ha(e){var t=(0,gt.Sh)(document.body);t.removeMatching(da),e&&t.add("djs-cursor-"+e)}function ya(){ha(null)}function va(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function ma(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function ga(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ba(e,t){var n;function r(r){var i,o=n.start,a=_o(r),s=ga(a,o);(!n.dragging&&(i=s,Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))>15)&&(n.dragging=!0,va(e),ha("grab")),n.dragging)&&(s=ga(a,n.last||n.start),t.scroll({dx:s.x,dy:s.y}),n.last=a);r.preventDefault()}function i(e){gt.B.unbind(document,"mousemove",r),gt.B.unbind(document,"mouseup",i),n=null,ya()}e.on("element.mousedown",500,(function(e){return function(e){if((0,gt.oq)(e.target,".djs-draggable"))return;if(e.button||e.ctrlKey||e.shiftKey||e.altKey)return;return n={start:_o(e)},gt.B.bind(document,"mousemove",r),gt.B.bind(document,"mouseup",i),!0}(e.originalEvent)}))}ba.$inject=["eventBus","canvas"];var xa={__init__:["moveCanvas"],moveCanvas:["type",ba]};function wa(e){return Math.log(e)/Math.log(10)}function Ea(e,t){var n=wa(e.min),r=wa(e.max);return(Math.abs(n)+Math.abs(r))/t}var _a=Math.sign||function(e){return e>=0?1:-1},Sa={min:.2,max:4};function Oa(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,mt.ak)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var r=this;t.on("canvas.init",(function(t){r._init(!1!==e.enabled)}))}Oa.$inject=["config.zoomScroll","eventBus","canvas"],Oa.prototype.scroll=function(e){this._canvas.scroll(e)},Oa.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Oa.prototype.zoom=function(e,t){var n=Ea(Sa,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},Oa.prototype._handleWheel=function(e){if(!(0,gt.oq)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,i=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*_a(e.deltaY)*o,this.zoom(n,s)}else n=i?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},Oa.prototype.stepZoom=function(e,t){var n=Ea(Sa,10);this._zoom(e,t,n)},Oa.prototype._zoom=function(e,t,n){var r=this._canvas,i=e>0?1:-1,o=wa(r.zoom()),a=Math.round(o/n)*n;a+=n*i;var s=Math.pow(10,a);r.zoom(function(e,t){return Math.max(e.min,Math.min(e.max,t))}(Sa,s),t)},Oa.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return"undefined"===typeof e&&(e=!r),r!==e&&gt.B[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},Oa.prototype._init=function(e){this.toggle(e)};var Pa={__init__:["zoomScroll"],zoomScroll:["type",Oa]};function ka(e){Jo.call(this,e)}yt()(ka,Jo),ka.prototype._navigationModules=[fa,xa,Pa],ka.prototype._modules=[].concat(ka.prototype._modules,ka.prototype._navigationModules);var ja=n(4097),Ca=n.n(ja),Ta=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Ma(e,t){return t.get(e,!1)}function Aa(e){e.preventDefault(),"function"===typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"===typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"===typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function Na(e){function t(t){setTimeout((function(){(0,mt.Ed)(Ta,(function(t){gt.B.unbind(e,t,Aa,!0)}))}),500)}gt.B.bind(e,"touchstart",(function(t){(0,mt.Ed)(Ta,(function(t){gt.B.bind(e,t,Aa,!0)}))}),!0),gt.B.bind(e,"touchend",t,!0),gt.B.bind(e,"touchcancel",t,!0);var n=new(Ca().Manager)(e,{inputClass:Ca().TouchInput,recognizers:[],domEvents:!0}),r=new(Ca().Tap),i=new(Ca().Pan)({threshold:10}),o=new(Ca().Press),a=new(Ca().Pinch),s=new(Ca().Tap)({event:"doubletap",taps:2});return a.requireFailure(i),a.requireFailure(o),n.add([i,o,a,s,r]),n.reset=function(e){var t=this.recognizers,r=this.session;r.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;r.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function Da(e,t,n,r,i){var o,a=Ma("dragging",e),s=Ma("move",e),u=Ma("contextPad",e),c=Ma("palette",e);function l(e){return function(t){i.fire(e,t)}}function p(e){return(0,gt.oq)(e,"svg, .djs-element",!0)}function f(e){function n(e){var n=p(e.target),i=n&&r.get(n);if(s&&t.getRootElement()!==i)return s.start(e,i,!0);!function(e){var n=0,r=0;function i(e){var i=e.deltaX-n,o=e.deltaY-r;t.scroll({dx:i,dy:o}),n=e.deltaX,r=e.deltaY}function a(e){o.off("panmove",i),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",i),o.on("panend",a),o.on("pancancel",a)}()}(o=Na(e)).on("doubletap",l("element.dblclick")),o.on("tap",l("element.click")),o.on("panstart",n),o.on("press",n),o.on("pinchstart",(function(e){var n=t.zoom(),r=e.center;function i(e){var i=1-(1-e.scale)/1.5,o=Math.max(.2,Math.min(4,i*n));t.zoom(o,r),Aa(e)}function a(e){o.off("pinchmove",i),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",i),o.on("pinchend",a),o.on("pinchcancel",a)}))}a&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=_o(t),i=p(document.elementFromPoint(n.x,n.y)),o=i&&r.get(i);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:i}),e.hover=o,e.hoverGfx=i))}})),u&&n.on("contextPad.create",(function(e){var t=Na(e.pad.html);t.on("panstart",(function(e){u.trigger("dragstart",e,!0)})),t.on("press",(function(e){u.trigger("dragstart",e,!0)})),t.on("tap",(function(e){u.trigger("click",e)}))})),c&&n.on("palette.create",(function(e){var t=Na(e.container);t.on("panstart",(function(e){c.trigger("dragstart",e,!0)})),t.on("press",(function(e){c.trigger("dragstart",e,!0)})),t.on("tap",(function(e){c.trigger("click",e)}))})),n.on("canvas.init",(function(e){f(e.svg)}))}function Ra(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}Da.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],Ra.$inject=["canvas","eventBus"],Ra.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=Lt("rect");St(n,{x:-1e4,y:1e4,width:10,height:10}),St(n,t),wt(e,n);var r=Lt("rect");St(r,{x:1e4,y:1e4,width:10,height:10}),St(r,t),wt(e,r)};var Ia={__depends__:[{__depends__:[Co],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",Da],touchFix:["type",Ra]}]};function La(e){return e&&e[e.length-1]}function Ba(e){return e.y}function Fa(e){return e.x}var za={left:Fa,center:Fa,right:function(e){return e.x+e.width},top:Ba,middle:Ba,bottom:function(e){return e.y+e.height}};function Va(e){this._modeling=e}Va.$inject=["modeling"],Va.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},Va.prototype._isType=function(e,t){return-1!==t.indexOf(e)},Va.prototype._alignmentPosition=function(e,t){var n,r,i,o=this._getOrientationDetails(e),a=o.axis,s=o.dimension,u={},c={},l=!1;if(this._isType(e,["left","top"]))u[e]=t[0][a];else if(this._isType(e,["right","bottom"]))i=La(t),u[e]=i[a]+i[s];else if(this._isType(e,["center","middle"])){if((0,mt.Ed)(t,(function(e){var t=e[a]+Math.round(e[s]/2);c[t]?c[t].elements.push(e):c[t]={elements:[e],center:t}})),n=(0,mt.MR)(c,(function(e){return e.elements.length>1&&(l=!0),e.elements.length})),l)return u[e]=La(n).center,u;r=t[0],i=La(t=(0,mt.MR)(t,(function(e){return e[a]+e[s]}))),u[e]=function(e,t){return Math.round((e[a]+t[a]+t[s])/2)}(r,i)}return u},Va.prototype.trigger=function(e,t){var n=this._modeling,r=(0,mt.hX)(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)})),i=za[t],o=(0,mt.MR)(r,i),a=this._alignmentPosition(t,o);n.alignElements(o,a)};var Ha={__init__:["alignElements"],alignElements:["type",Va]},$a=n(6008);function Ga(e,t){return(0,Pi.is)(t,"bpmn:TextAnnotation")?function(e,t){var n=co(e),r={x:n.right+t.width/2,y:n.top-50-t.height/2};return Wa(e,t,r,{y:{margin:-30,rowSize:20}})}(e,t):(0,$a.J)(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(e,t){var n=co(e),r={x:n.right-10+t.width/2,y:n.bottom+40+t.width/2};return Wa(e,t,r,{x:{margin:30,rowSize:30}})}(e,t):(0,Pi.is)(t,"bpmn:FlowNode")?function(e,t){var n=co(e),r=po(e),i=function(e,t){var n=co(e);function r(e){return(0,Pi.is)(e,"bpmn:SequenceFlow")}function i(e){return function(t){return{shape:t,weight:e,distanceTo:function(e){return co(e).left-n.right}}}}function o(e){return function(t){return{shape:t,weight:e,distanceTo:function(e){var t=co(e);return n.left-t.right}}}}var a=(0,mt.u4)([].concat(Ya(e,r).map(i(5)),qa(e,r).map(o(1))),(function(e,t){return e[t.shape.id+"__weight_"+t.weight]=t,e}),{}),s=(0,mt.u4)(a,(function(e,t){var n,r,i,o=t.shape,a=t.weight,s=t.distanceTo,u=e.fav;return(n=s(o))<0||n>250||(r=(i=e[String(n)]=e[String(n)]||{value:n,count:0}).count+=1*a,(!u||u.count<r)&&(e.fav=i)),e}),{});return s.fav?s.fav.value:50}(e),o="left",a=80,s=30;(0,Pi.is)(e,"bpmn:BoundaryEvent")&&-1!==(o=fo(e,e.host,-25)).indexOf("top")&&(s*=-1);function u(e){return-1!=e.indexOf("top")?-1*a:-1!=e.indexOf("bottom")?a:0}var c={x:n.right+i+t.width/2,y:r.y+u(o)};return Wa(e,t,c,{y:{margin:s,rowSize:a}})}(e,t):function(e,t){var n=co(e),r=po(e);return{x:n.right+50+t.width/2,y:r.y}}(e,t)}function Ua(e,t,n){var r={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height},i=function(e,t){var n=Za(e);return e.host&&(n=n.concat(Za(e.host))),e.attachers&&(n=n.concat(e.attachers.reduce((function(e,t){return e.concat(Za(t))}),[]))),n}(e);return(0,mt.sE)(i,(function(e){return e!==n&&"intersect"===fo(e,r,10)}))}function Wa(e,t,n,r){function i(e){var i={x:n.x,y:n.y};return["x","y"].forEach((function(a){var s=r[a];if(s){var u="x"===a?"width":"height",c=s.margin,l=s.rowSize;i[a]=c<0?Math.min(e[a]+c-t[u]/2,n[a]-l+c):Math.max(o[a]+o[u]+c+t[u]/2,n[a]+l+c)}})),i}for(var o;o=Ua(e,n,t);)n=i(o);return n}function Xa(){return!0}function Za(e,t){return[].concat(Ya(e,t),qa(e,t))}function qa(e,t){return t||(t=Xa),e.incoming.filter(t).map((function(e){return e.source}))}function Ya(e,t){return t||(t=Xa),e.outgoing.filter(t).map((function(e){return e.target}))}function Ka(e,t){function n(t,n){return e.fire(t,n)}this.append=function(e,r){n("autoPlace.start",{source:e,shape:r});var i=n("autoPlace",{source:e,shape:r});i||(i=Ga(e,r));var o=t.appendShape(e,r,i,e.parent);return n("autoPlace.end",{source:e,shape:o}),o}}function Ja(e,t){e.on("autoPlace.end",500,(function(e){t.select(e.shape)}))}Ka.$inject=["eventBus","modeling"],Ja.$inject=["eventBus","selection"];var Qa={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Ka],autoPlaceSelectionBehavior:["type",Ja]};function es(e){this._eventBus=e}es.$inject=["eventBus"],es.prototype.on=function(e,t,n,r,i,o){if(((0,mt.mf)(t)||(0,mt.hj)(t))&&(o=i,i=r,r=n,n=t,t=null),(0,mt.mf)(n)&&(o=i,i=r,r=n,n=1e3),(0,mt.Kn)(i)&&(o=i,i=!1),!(0,mt.mf)(r))throw new Error("handlerFn must be a function");(0,mt.kJ)(e)||(e=[e]);var a=this._eventBus;(0,mt.Ed)(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,i?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(r,o):r,o)}))};function ts(e,t,n,r){es.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=r;var i=this;this.postExecuted(["shape.create"],(function(e){var t=e.context,n=t.hints||{},r=t.shape,o=t.parent||t.newParent;!1!==n.autoResize&&i._expand([r],o)})),this.postExecuted(["elements.move"],(function(e){var t=e.context,n=(0,mt.xH)((0,mt.VO)(t.closure.topLevel)),r=t.hints,o=!r||r.autoResize;if(!1!==o){var a=(0,mt.vM)(n,(function(e){return e.parent.id}));(0,mt.Ed)(a,(function(e,t){(0,mt.kJ)(o)&&(e=e.filter((function(e){return(0,mt.sE)(o,(0,mt.KQ)({id:e.id}))}))),i._expand(e,t)}))}})),this.postExecuted(["shape.toggleCollapse"],(function(e){var t=e.context,n=t.hints,r=t.shape;n&&!1===n.autoResize||r.collapsed||i._expand(r.children||[],r)})),this.postExecuted(["shape.resize"],(function(e){var t=e.context,n=t.hints,r=t.shape,o=r.parent;n&&!1===n.autoResize||o&&i._expand([r],o)}))}function ns(e){e.invoke(ts,this)}function rs(e){es.call(this,e),this.init()}function is(e){rs.call(this,e);var t=this;this.addRule("element.autoResize",(function(e){return t.canResize(e.elements,e.target)}))}function os(e,t){is.call(this,e),this._modeling=t}(0,mt.Ed)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){es.prototype[e]=function(t,n,r,i,o){((0,mt.mf)(t)||(0,mt.hj)(t))&&(o=i,i=r,r=n,n=t,t=null),this.on(t,e,n,r,i,o)}})),ts.$inject=["eventBus","elementRegistry","modeling","rules"],yt()(ts,es),ts.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),r=this.getPadding(t),i=co(xn(e)),o=co(t),a={};return i.top-o.top<r.top&&(a.top=i.top-n.top),i.left-o.left<r.left&&(a.left=i.left-n.left),o.right-i.right<r.right&&(a.right=i.right+n.right),o.bottom-i.bottom<r.bottom&&(a.bottom=i.bottom+n.bottom),lo((0,mt.f0)({},o,a))},ts.prototype._expand=function(e,t){if("string"===typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:e,target:t})){var n=this._getOptimalBounds(e,t);if(function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(n,t)){var r=function(e,t){var n="";e=co(e),t=co(t),e.top>t.top&&(n=n.concat("n"));e.right<t.right&&(n=n.concat("w"));e.bottom<t.bottom&&(n=n.concat("s"));e.left>t.left&&(n=n.concat("e"));return n}((0,mt.ei)(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:r});var i=t.parent;i&&this._expand([t],i)}}},ts.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},ts.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},ts.prototype.resize=function(e,t,n){this._modeling.resizeShape(e,t,null,n)},ns.$inject=["injector"],yt()(ns,ts),ns.prototype.resize=function(e,t,n){(0,Pi.is)(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,n):this._modeling.resizeShape(e,t,null,n)},rs.$inject=["eventBus"],yt()(rs,es),rs.prototype.addRule=function(e,t,n){var r=this;"string"===typeof e&&(e=[e]),e.forEach((function(e){r.canExecute(e,t,(function(e,t,r){return n(e)}),!0)}))},rs.prototype.init=function(){},is.$inject=["eventBus"],yt()(is,rs),is.prototype.canResize=function(e,t){return!1},yt()(os,is),os.$inject=["eventBus","modeling"],os.prototype.canResize=function(e,t){if(!(0,Pi.is)(t,"bpmn:Participant")&&!(0,Pi.is)(t,"bpmn:Lane")&&!(0,Pi.is)(t,"bpmn:SubProcess"))return!1;var n=!0;return(0,mt.Ed)(e,(function(e){((0,Pi.is)(e,"bpmn:Lane")||e.labelTarget)&&(n=!1)})),n};var as={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",ns],bpmnAutoResizeProvider:["type",os]};function ss(e,t,n){var r=this,i=n.get("dragging",!1);i&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,o=r._findTargetGfx(n),a=o&&e.get(o);o&&a&&(t.stopPropagation(),i.hover({element:a,gfx:o}),i.move(n))}}(t)}))})),function(){var e,n;t.on("element.hover",(function(t){e=t.gfx,n=t.element})),t.on("element.hover",1500,(function(r){n&&t.fire("element.out",{element:n,gfx:e})})),t.on("element.out",(function(){e=null,n=null}))}(),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=_o(e),function(e){return(0,gt.oq)(e,"svg, .djs-element",!0)}(document.elementFromPoint(t.x,t.y))}}ss.$inject=["elementRegistry","eventBus","injector"];var us={__init__:["hoverFix"],hoverFix:["type",ss]},cs=Math.round,ls="djs-drag-active";function ps(e){e.preventDefault()}function fs(e,t,n,r){var i,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),r=t._container.getBoundingClientRect();return{x:n.x+(e.x-r.left)/n.scale,y:n.y+(e.y-r.top)/n.scale}}function s(t,n){n=n||i;var r=e.createEvent((0,mt.f0)({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,r)&&e.fire(n.prefix+"."+t,r)}function u(e,r){var o,u=i.payload,c=i.displacement,l=i.globalStart,p=_o(e),f=ga(p,l),d=i.localStart,h=a(p),v=ga(h,d);if(!i.active&&(r||(o=f,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>i.threshold))){if((0,mt.f0)(u,{x:cs(d.x+c.x),y:cs(d.y+c.y),dx:0,dy:0},{originalEvent:e}),!1===s("start"))return y();i.active=!0,i.keepSelection||(u.previousSelection=n.get(),n.select(null)),i.cursor&&ha(i.cursor),t.addMarker(t.getRootElement(),ls)}Eo(e),i.active&&((0,mt.f0)(u,{x:cs(h.x+c.x),y:cs(h.y+c.y),dx:cs(v.x),dy:cs(v.y)},{originalEvent:e}),s("move"))}function c(e){var t=!0;i.active&&(e&&(i.payload.originalEvent=e,Eo(e)),t=s("end")),!1===t&&s("rejected"),s("ended",v(!0!==t))}function l(e){27===e.which&&(ps(e),y())}function p(t){var n;i.active&&(n=va(e),setTimeout(n,400),ps(t)),c(t)}function f(e){u(e)}function d(e){var t=i.payload;t.hoverGfx=e.gfx,t.hover=e.element,s("hover")}function h(e){s("out");var t=i.payload;t.hoverGfx=null,t.hover=null}function y(e){var t;if(i){var n=i.active;n&&s("cancel"),t=v(e),n&&s("canceled",t)}}function v(o){var a,v;s("cleanup"),ya(),v=i.trapClick?p:c,gt.B.unbind(document,"mousemove",u),gt.B.unbind(document,"dragstart",ps),gt.B.unbind(document,"selectstart",ps),gt.B.unbind(document,"mousedown",v,!0),gt.B.unbind(document,"mouseup",v,!0),gt.B.unbind(document,"keyup",l),gt.B.unbind(document,"touchstart",f,!0),gt.B.unbind(document,"touchcancel",y,!0),gt.B.unbind(document,"touchmove",u,!0),gt.B.unbind(document,"touchend",c,!0),e.off("element.hover",d),e.off("element.out",h),t.removeMarker(t.getRootElement(),ls);var m=i.payload.previousSelection;return!1!==o&&m&&!n.get().length&&function(e){var t=e.filter((function(e){return r.get(e.id)}));t.length&&n.select(t)}(m),a=i,i=null,a}e.on("diagram.destroy",y),this.init=function(t,n,r,v){i&&y(!1),"string"===typeof n&&(v=r,r=n,n=null);var m,g,b,x,w,E=(v=(0,mt.f0)({},o,v||{})).data||{};x=v.trapClick?p:c,t?(m=wo(t)||t,g=_o(t),Eo(t),"dragstart"===m.type&&ps(m)):(m=null,g={x:0,y:0}),b=a(g),n||(n=b),w=function(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}(m),i=(0,mt.f0)({prefix:r,data:E,payload:{},globalStart:g,displacement:ga(n,b),localStart:b,isTouch:w},v),v.manual||(w?(gt.B.bind(document,"touchstart",f,!0),gt.B.bind(document,"touchcancel",y,!0),gt.B.bind(document,"touchmove",u,!0),gt.B.bind(document,"touchend",c,!0)):(gt.B.bind(document,"mousemove",u),gt.B.bind(document,"dragstart",ps),gt.B.bind(document,"selectstart",ps),gt.B.bind(document,"mousedown",x,!0),gt.B.bind(document,"mouseup",x,!0)),gt.B.bind(document,"keyup",l),e.on("element.hover",d),e.on("element.out",h)),s("init"),v.autoActivate&&u(t,!0)},this.move=u,this.hover=d,this.out=h,this.end=c,this.cancel=y,this.context=function(){return i},this.setOptions=function(e){(0,mt.f0)(o,e)}}fs.$inject=["eventBus","canvas","selection","elementRegistry"];var ds={__depends__:[us,Bo],dragging:["type",fs]};function hs(e,t,n){this._canvas=n,this._opts=(0,mt.f0)({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var r=this;t.on("drag.move",(function(e){var t=r._toBorderPoint(e);r.startScroll(t)})),t.on(["drag.cleanup"],(function(){r.stopScroll()}))}function ys(e,t,n){return t<e&&e<n}hs.$inject=["config.autoScroll","eventBus","canvas"],hs.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,r=this,i=t.getContainer().getBoundingClientRect(),o=[e.x,e.y,i.width-e.x,i.height-e.y];this.stopScroll();for(var a=0,s=0,u=0;u<4;u++)ys(o[u],n.scrollThresholdOut[u],n.scrollThresholdIn[u])&&(0===u?a=n.scrollStep:1==u?s=n.scrollStep:2==u?a=-n.scrollStep:3==u&&(s=-n.scrollStep));0===a&&0===s||(t.scroll({dx:a,dy:s}),this._scrolling=setTimeout((function(){r.startScroll(e)}),n.scrollRepeatTimeout))},hs.prototype.stopScroll=function(){clearTimeout(this._scrolling)},hs.prototype.setOptions=function(e){this._opts=(0,mt.f0)({},this._opts,e)},hs.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=_o(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};var vs={__depends__:[ds],__init__:["autoScroll"],autoScroll:["type",hs]};function ms(e){this._commandStack=e.get("commandStack",!1)}ms.$inject=["injector"],ms.prototype.allowed=function(e,t){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(e,t)),void 0===n||n};var gs={__init__:["rules"],rules:["type",ms]},bs=Math.round,xs=Math.max;function ws(e,t){return function(e,t){var n,r;for(n=0;r=e[n];n++)if(eo(r,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,r=ao()(function(e,t){return[["M",e.x,e.y],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}(t,10),function(e){var t=[];return e.forEach((function(e,n){t.push([0===n?"M":"L",e.x,e.y])})),t}(e)),i=r[0],o=r[r.length-1];return i?i!==o?i.segment2!==o.segment2?{point:e[n=xs(i.segment2,o.segment2)-1],bendpoint:!0,index:n}:{point:{x:bs(i.x+o.x)/2,y:bs(i.y+o.y)/2},index:i.segment2}:{point:{x:bs(i.x),y:bs(i.y)},index:i.segment2}:null}(e,t)}var Es="djs-bendpoint",_s="djs-segment-dragger";function Ss(e,t,n){var r=function(e,t){var n,r=_o(t),i=e._container.getBoundingClientRect();n={x:i.left,y:i.top};var o=e.viewbox();return{x:o.x+(r.x-n.x)/o.scale,y:o.y+(r.y-n.y)/o.scale}}(e,n);return ws(t,r)}function Os(e,t){var n=Lt("g");Ct(n).add(Es),wt(e,n);var r=Lt("circle");St(r,{cx:0,cy:0,r:4}),Ct(r).add("djs-visual"),wt(n,r);var i=Lt("circle");return St(i,{cx:0,cy:0,r:10}),Ct(i).add("djs-hit"),wt(n,i),t&&Ct(n).add(t),n}function Ps(e,t,n,r){var i=Lt("g");wt(e,i);var o=function(e,t,n){var r=t.x-e.x,i=t.y-e.y;return js("h"===n?r:i)}(t,n,r),a=Lt("rect");St(a,{x:-7,y:-1.5,width:14,height:3}),Ct(a).add("djs-visual"),wt(i,a);var s=Lt("rect");return St(s,{x:-o/2,y:-7,width:o,height:14}),Ct(s).add("djs-hit"),wt(i,s),tr(i,"v"===r?90:0),i}function ks(e,t,n){var r=Lt("g"),i=io(t,n),o=no(t,n);return wt(e,r),Ps(r,t,n,o),Ct(r).add(_s),Ct(r).add("h"===o?"horizontal":"vertical"),er(r,i.x,i.y),r}function js(e){return Math.abs(Math.round(2*e/3))}var Cs=n(7063),Ts=n.n(Cs);function Ms(e,t,n,r,i){function o(e,n){var o,a=n.waypoints,s=Ss(t,a,e);if(s)return o=function(e,t){var n,r,i=e.waypoints;return t.index<=0||t.bendpoint?null:(r=no((n={start:i[t.index-1],end:i[t.index]}).start,n.end))?js("h"===r?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,s),!function(e,t,n){var r,i,o,a,s,u,c=e.index,l=e.point;return!(c<=0||e.bendpoint)&&(o=io(r=t[c-1],i=t[c]),a=no(r,i),s=Math.abs(l.x-o.x),u=Math.abs(l.y-o.y),a&&s<=n&&u<=n)}(s,a,o)?r.start(e,n,s.index,!s.bendpoint):i.start(e,n,s.index),!0}function a(e,t,r){gt.B.bind(e,t,(function(e){n.triggerMouseEvent(t,e,r),e.stopPropagation()}))}function s(e,n){var r=t.getLayer("overlays"),i=(0,gt.IO)('.djs-bendpoints[data-element-id="'+Ts()(e.id)+'"]',r);return!i&&n&&(St(i=Lt("g"),{"data-element-id":e.id}),Ct(i).add("djs-bendpoints"),wt(r,i),a(i,"mousedown",e),a(i,"click",e),a(i,"dblclick",e)),i}function u(e,t){return(0,gt.IO)('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function c(e,t){t.waypoints.forEach((function(t,n){var r=Os(e);wt(e,r),er(r,t.x,t.y)})),Os(e,"floating")}function l(e,t){for(var n,r,i,o=t.waypoints,s=1;s<o.length;s++)no(n=o[s-1],r=o[s])&&(St(i=ks(e,n,r),{"data-segment-idx":s}),a(i,"mousemove",t))}function p(e){var t=s(e);return t||(c(t=s(e,!0),e),l(t,e)),t}function f(e){var t=s(e);t&&(!function(e){(0,mt.Ed)((0,gt.Kt)(".djs-segment-dragger",e),(function(e){Mt(e)}))}(t),function(e){(0,mt.Ed)((0,gt.Kt)(".djs-bendpoint",e),(function(e){Mt(e)}))}(t),l(t,e),c(t,e))}function d(e,t,n){var r,i,o=u(t.index,e),a=n[t.index-1],s=n[t.index],c=t.point,l=io(a,s),p=no(a,s);o&&(r=function(e){return(0,gt.IO)(".djs-visual",e)}(o),i={x:c.x-l.x,y:c.y-l.y},"v"===p&&(i={x:i.y,y:i.x}),er(r,i.x,i.y))}e.on("connection.changed",(function(e){f(e.element)})),e.on("connection.remove",(function(e){var t=s(e.element);t&&Mt(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=p(n),e.add?Ct(t).add(e.marker):Ct(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,r,i=e.element,o=i.waypoints;if(o){if(n=s(i,!0),!(r=Ss(t,o,e.originalEvent)))return;!function(e,t){var n=(0,gt.IO)(".floating",e),r=t.point;n&&er(n,r.x,r.y)}(n,r),r.bendpoint||d(n,r,o)}})),e.on("element.mousedown",(function(e){var t=e.originalEvent,n=e.element;if(n.waypoints)return o(t,n)})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&p(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(p(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var r=s(t);r&&St(r,{"data-element-id":n})}})),this.addHandles=p,this.updateHandles=f,this.getBendpointsContainer=s,this.getSegmentDragger=u}Ms.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var As=Math.round,Ns="reconnectStart",Ds="reconnectEnd",Rs="updateWaypoints";function Is(e,t,n,r,i,o){this._injector=e,this.start=function(e,t,o,a){var s,u=n.getGraphics(t),c=t.source,l=t.target,p=t.waypoints,f=(s=a||0!==o?a||o!==p.length-1?Rs:Ds:Ns)===Rs?"connection.updateWaypoints":"connection.reconnect",d=i.allowed(f,{connection:t,source:c,target:l});!1===d&&(d=i.allowed(f,{connection:t,source:l,target:c})),!1!==d&&r.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:u,context:{allowed:d,bendpointIndex:o,connection:t,source:c,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,r=n.connection,o=r.source,a=r.target,s=e.hover,u=n.type;if(n.hover=s,s){var c=u===Rs?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=i.allowed(c,{connection:r,source:u===Ns?s:o,target:u===Ds?s:a}))return n.source=u===Ns?s:o,void(n.target=u===Ds?s:a);!1===t&&(t=n.allowed=i.allowed(c,{connection:r,source:u===Ds?s:a,target:u===Ns?s:o})),t&&(n.source=u===Ds?s:a,n.target=u===Ns?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.allowed=!1})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,r=t.bendpointIndex,i=t.connection,a=t.insert,s=i.waypoints.slice(),u=t.source,c=t.target,l=t.type,p=t.hints||{},f={x:As(e.x),y:As(e.y)};if(!n)return!1;l===Rs?(a?s.splice(r,0,f):s[r]=f,p.bendpointMove={insert:a,bendpointIndex:r},s=this.cropWaypoints(i,s),o.updateWaypoints(i,function(e){e=e.slice();for(var t,n,r,i=0;e[i];)t=e[i],n=e[i-1],0===eo(t,r=e[i+1])||to(n,r,t)?e.splice(i,1):i++;return e}(s),p)):(l===Ns?(p.docking="source",Ls(t)&&(p.docking="target",p.newWaypoints=s.reverse())):l===Ds&&(p.docking="target",Ls(t)&&(p.docking="source",p.newWaypoints=s.reverse())),o.reconnect(i,u,c,f,p))}),this)}function Ls(e){var t=e.hover,n=e.source,r=e.target,i=e.type;return i===Ns?t&&r&&t===r&&n!==r:i===Ds?t&&n&&t===n&&n!==r:void 0}Is.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Is.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var r=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=r,t};var Bs="updateWaypoints",Fs="connect-ok",zs="connect-not-ok",Vs="connect-hover",Hs="djs-updating",$s="djs-element-hidden";function Gs(e,t,n,r){this._injector=t;var i=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,i=t.connection,o=t.insert,a=i.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),i.waypoints=s,Ct(t.draggerGfx=Os(r.getLayer("overlays"))).add("djs-dragging"),r.addMarker(i,$s),r.addMarker(i,Hs)})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,i=t.hover,o=t.type;if(i){if(r.addMarker(i,Vs),o===Bs)return;n?(r.removeMarker(i,zs),r.addMarker(i,Fs)):!1===n&&(r.removeMarker(i,Fs),r.addMarker(i,zs))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,i=t.target;n&&(r.removeMarker(n,Vs),r.removeMarker(n,i?Fs:zs))})),n.on("bendpoint.move.move",(function(t){var n=t.context,r=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,u=n.type,c=n.connection,l=c.source,p=c.target,f=c.waypoints.slice(),d={x:t.x,y:t.y},h=n.hints||{},y={};i&&(h.connectionStart&&(y.connectionStart=h.connectionStart),h.connectionEnd&&(y.connectionEnd=h.connectionEnd),"reconnectStart"===u?Ls(n)?(y.connectionEnd=y.connectionEnd||d,y.source=p,y.target=s||l,f=f.reverse()):(y.connectionStart=y.connectionStart||d,y.source=s||l,y.target=p):"reconnectEnd"===u?Ls(n)?(y.connectionStart=y.connectionStart||d,y.source=s||p,y.target=l,f=f.reverse()):(y.connectionEnd=y.connectionEnd||d,y.source=l,y.target=s||p):(y.noCropping=!0,y.noLayout=!0,f[o]=d),u===Bs&&(f=e.cropWaypoints(c,f)),y.waypoints=f,i.drawPreview(n,r,y)),er(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,u=t.waypoints;n.waypoints=u,Mt(o),r.removeMarker(n,Hs),r.removeMarker(n,$s),a&&(r.removeMarker(a,Fs),r.removeMarker(a,s?Fs:zs)),i&&i.cleanUp(t)}))}Gs.$inject=["bendpointMove","injector","eventBus","canvas"];var Us="connect-hover",Ws="djs-updating";function Xs(e,t,n){return Zs(e,t,e[t]+n)}function Zs(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function qs(e){return"x"===e?"y":"x"}function Ys(e,t,n){var r,i;return e.original?e.original:(r=po(t),Zs(e,i=qs(n),r[i]))}function Ks(e,t,n,r,i,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,r=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=r,n}function u(e){i.update("connection",e.connection,e.connectionGfx)}function c(e,t,n){var r=e.newWaypoints,i=function(e,t,n,r){var i=Math.max(t[r],n[r]),o=Math.min(t[r],n[r]);return Zs(t,r,Math.min(Math.max(o+20,e[r]),i-20))}(n,r[e.segmentStartIndex+t],r[e.segmentEndIndex+t],qs(e.axis));er(e.draggerGfx,i.x,i.y)}this.start=function(e,t,i){var o,a,s,u,c=n.getGraphics(t),l=i-1,p=i,f=t.waypoints,d=f[l],h=f[p],y=Ss(n,f,e);(a=no(d,h))&&(s="v"===a?"x":"y",0===l&&(d=Ys(d,t.source,s)),p===f.length-1&&(h=Ys(h,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:p,segmentStart:d,segmentEnd:h,axis:s,dragPosition:u=y?y.point:{x:(d.x+h.x)/2,y:(d.y+h.y)/2}},r.init(e,u,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:c,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,r=e.connection,i=n.getLayer("overlays");t.originalWaypoints=r.waypoints.slice(),t.draggerGfx=ks(i,t.segmentStart,t.segmentEnd),Ct(t.draggerGfx).add("djs-dragging"),n.addMarker(r,Ws)})),t.on("connectionSegment.move.move",(function(e){var t,n,r=e.context,i=r.connection,o=r.segmentStartIndex,a=r.segmentEndIndex,l=r.segmentStart,p=r.segmentEnd,f=r.axis,d=r.originalWaypoints.slice(),h=Xs(l,f,e["d"+f]),y=Xs(p,f,e["d"+f]),v=d.length,m=0;d[o]=h,d[a]=y,o<2&&(t=fo(i.source,h),1===o?"intersect"===t&&(d.shift(),d[0]=h,m--):"intersect"!==t&&(d.unshift(l),m++)),a>v-3&&(n=fo(i.target,y),a===v-2?"intersect"===n&&(d.pop(),d[d.length-1]=y):"intersect"!==n&&d.push(p)),r.newWaypoints=i.waypoints=s(i,d),c(r,m,e),r.newSegmentStartIndex=o+m,u(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,Us)})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,Us)})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,r=t.connection;t.draggerGfx&&Mt(t.draggerGfx),n.removeMarker(r,Ws)})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,u(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,r=t.newWaypoints,i=t.newSegmentStartIndex;r=r.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}}));var a=function(e,t){var n=0,r=e.filter((function(r,i){return!to(e[i-1],e[i+1],r)||(n=i<=t?n-1:n,!1)}));return{waypoints:r,segmentOffset:n}}(r,i),u=s(n,a.waypoints),c=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:i+c}};o.updateWaypoints(n,u,l)}))}Ks.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Js=Math.abs,Qs=Math.round;function eu(e){return{x:e.x,y:e.y}}function tu(e){return{x:e.x+e.width,y:e.y+e.height}}function nu(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:Qs(e.x+e.width/2),y:Qs(e.y+e.height/2)}}function ru(e,t){var n=e.snapped;return!!n&&("string"===typeof t?n[t]:n.x&&n.y)}function iu(e,t,n){if("string"!==typeof t)throw new Error("axis must be in [x, y]");if("number"!==typeof n&&!1!==n)throw new Error("value must be Number or false");var r,i=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,r=n-i,e[t]+=r,e["d"+t]+=r),i}function ou(e){return e.children||[]}var au=Math.abs,su=Math.round;function uu(e){function t(e,t){if((0,mt.kJ)(e)){for(var n=e.length;n--;)if(au(e[n]-t)<=10)return e[n]}else{var r=t%(e=+e);if(r<10)return t-r;if(r>e-10)return t-r+e}return t}function n(e){if(e.width)return{x:su(e.width/2+e.x),y:su(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,(function(e){var r,i,o=function(e){var t=e.snapPoints,r=e.connection,i=r.waypoints,o=e.segmentStart,a=e.segmentStartIndex,s=e.segmentEnd,u=e.segmentEndIndex,c=e.axis;if(t)return t;var l=[i[a-1],o,s,i[u+1]];return a<2&&l.unshift(n(r.source)),u>i.length-3&&l.unshift(n(r.target)),e.snapPoints=t={horizontal:[],vertical:[]},(0,mt.Ed)(l,(function(e){e&&(e=e.original||e,"y"===c&&t.horizontal.push(e.y),"x"===c&&t.vertical.push(e.x))})),t}(e.context),a=e.x,s=e.y;if(o){var u=a-(r=t(o.vertical,a)),c=s-(i=t(o.horizontal,s));(0,mt.f0)(e,{dx:e.dx-u,dy:e.dy-c,x:r,y:i}),(u||-1!==o.vertical.indexOf(a))&&iu(e,"x",r),(c||-1!==o.horizontal.indexOf(s))&&iu(e,"y",i)}})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var r,i,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,r=e.bendpointIndex;if(t)return t;var i=[n[r-1],n[r+1]];return e.snapPoints=t={horizontal:[],vertical:[]},(0,mt.Ed)(i,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),s=o.hover,u=s&&n(s),c=e.x,l=e.y;if(a){var p=c-(r=t(u?a.vertical.concat([u.x]):a.vertical,c)),f=l-(i=t(u?a.horizontal.concat([u.y]):a.horizontal,l));(0,mt.f0)(e,{dx:e.dx-p,dy:e.dy-f,x:e.x-p,y:e.y-f}),(p||-1!==a.vertical.indexOf(c))&&iu(e,"x",r),(f||-1!==a.horizontal.indexOf(l))&&iu(e,"y",i)}}))}uu.$inject=["eventBus"];var cu={__depends__:[ds,gs],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",Ms],bendpointMove:["type",Is],bendpointMovePreview:["type",Gs],connectionSegmentMove:["type",Ks],bendpointSnapping:["type",uu]};function lu(e,t,n,r){function i(e,t){return r.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,r=n.start,o=e.hover;if(n.hover=o,t=n.canExecute=i(r,o),!(0,mt.kK)(t)){if(!1!==t)return n.source=r,void(n.target=o);t=n.canExecute=i(o,r),(0,mt.kK)(t)||!1!==t&&(n.source=o,n.target=r)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,r=t.canExecute,i=t.connectionStart,o={x:e.x,y:e.y},a=t.source,s=t.target;if(!r)return!1;var u=null,c={connectionStart:pu(t)?o:i,connectionEnd:pu(t)?i:o};(0,mt.Kn)(r)&&(u=r),n.connect(a,s,u,c)})),this.start=function(e,n,r,i){(0,mt.Kn)(r)||(i=r,r=po(n)),t.init(e,"connect",{autoActivate:i,data:{shape:n,context:{start:n,connectionStart:r}}})}}function pu(e){var t=e.hover,n=e.source,r=e.target;return t&&n&&t===n&&n!==r}lu.$inject=["eventBus","dragging","modeling","rules"];var fu="connect-ok",du="connect-not-ok";function hu(e,t,n){var r=e.get("connectionPreview",!1);r&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,i=t.hover,o=t.source,a=t.start,s=t.startPosition,u=t.connectionStart,c=t.connectionEnd,l=t.target;u||(u=pu(t)?{x:e.x,y:e.y}:s),c||(c=pu(t)?s:{x:e.x,y:e.y}),r.drawPreview(t,n,{source:o||a,target:l||i,connectionStart:u,connectionEnd:c})})),t.on("connect.hover",900,(function(e){var t=e.context,r=e.hover,i=t.canExecute;null!==i&&n.addMarker(r,i?fu:du)})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,fu),n.removeMarker(t,du))})),r&&t.on("connect.cleanup",(function(e){r.cleanUp(e.context)}))}hu.$inject=["injector","eventBus","canvas"];var yu={__depends__:[Bo,gs,ds],__init__:["connectPreview"],connect:["type",lu],connectPreview:["type",hu]};function vu(e,t,n,r){this._canvas=t,this._graphicsFactory=n,this._elementFactory=r,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}vu.$inject=["injector","canvas","graphicsFactory","elementFactory"],vu.prototype.drawPreview=function(e,t,n){n=n||{};var r,i=e.connectionPreviewGfx,o=e.getConnection,a=n.source,s=n.target,u=n.waypoints,c=n.connectionStart,l=n.connectionEnd,p=n.noLayout,f=n.noCropping,d=n.noNoop,h=this;i||(i=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),At(i),o||(o=e.getConnection=function(e){var t={};return function(n){var r=JSON.stringify(n),i=t[r];return i||(i=t[r]=e.apply(null,arguments)),i}}((function(e,t,n){return h.getConnection(e,t,n)}))),t&&(r=o(t,a,s)),r?(r.waypoints=u||[],this._layouter&&!p&&(r.waypoints=this._layouter.layoutConnection(r,{source:a,target:s,connectionStart:c,connectionEnd:l,waypoints:n.waypoints||r.waypoints})),r.waypoints&&r.waypoints.length||(r.waypoints=[a?po(a):c,s?po(s):l]),this._connectionDocking&&(a||s)&&!f&&(r.waypoints=this._connectionDocking.getCroppedWaypoints(r,a,s)),this._graphicsFactory.drawConnection(i,r)):!d&&this.drawNoopPreview(i,n)},vu.prototype.drawNoopPreview=function(e,t){var n=t.source,r=t.target,i=t.connectionStart||po(n),o=t.connectionEnd||po(r),a=this.cropWaypoints(i,o,n,r);wt(e,this.createNoopConnection(a[0],a[1]))},vu.prototype.cropWaypoints=function(e,t,n,r){var i=this._graphicsFactory,o=n&&i.getShapePath(n),a=r&&i.getShapePath(r),s=i.getConnectionPath({waypoints:[e,t]});return[e=n&&ho(o,s,!0)||e,t=r&&ho(a,s,!1)||t]},vu.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Mt(e.connectionPreviewGfx)},vu.prototype.getConnection=function(e){var t=function(e){return(0,mt.Kn)(e)?e:{}}(e);return this._elementFactory.createConnection(t)},vu.prototype.createConnectionPreviewGfx=function(){var e=Lt("g");return St(e,{pointerEvents:"none"}),Ct(e).add("djs-connection-preview"),wt(this._canvas.getDefaultLayer(),e),e},vu.prototype.createNoopConnection=function(e,t){var n=Lt("polyline");return St(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),St(n,{points:[e.x,e.y,t.x,t.y]}),n};var mu={__init__:["connectionPreview"],connectionPreview:["type",vu]},gu=Math.min,bu=Math.max;function xu(e){e.preventDefault()}function wu(e){e.stopPropagation()}function Eu(e){this.container=e.container,this.parent=(0,gt.H6)('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=(0,gt.IO)("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=(0,mt.ak)(this.autoResize,this),this.handlePaste=(0,mt.ak)(this.handlePaste,this)}function _u(e,t){this._eventBus=e,this._providers=[],this._textbox=new Eu({container:t.getContainer(),keyHandler:(0,mt.ak)(this._handleKey,this),resizeHandler:(0,mt.ak)(this._handleResize,this)})}Eu.prototype.create=function(e,t,n,r){var i=this.parent,o=this.content,a=this.container;r=this.options=r||{},t=this.style=t||{};var s=(0,mt.ei)(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);(0,mt.f0)(i.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var u=(0,mt.ei)(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return(0,mt.f0)(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},u),r.centerVertically&&(0,mt.f0)(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},u),o.innerText=n,gt.B.bind(o,"keydown",this.keyHandler),gt.B.bind(o,"mousedown",wu),gt.B.bind(o,"paste",this.handlePaste),r.autoResize&&gt.B.bind(o,"input",this.autoResize),r.resizable&&this.resizable(t),a.appendChild(i),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),i},Eu.prototype.handlePaste=function(e){var t,n=this.options,r=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var i=this.autoResize(r);i&&this.resizeHandler(i)}},Eu.prototype.insertText=function(e){e=function(e){return e.replace(/\r\n|\r|\n/g,"\n")}(e),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},Eu.prototype._insertTextIE=function(e){var t,n,r,i=this.getSelection(),o=i.startContainer,a=i.endContainer,s=i.startOffset,u=i.endOffset,c=i.commonAncestorContainer,l=(t=c.childNodes,[].slice.call(t));if(function(e){return e.nodeType===Node.TEXT_NODE}(c)){var p=o.textContent;o.textContent=p.substring(0,s)+e+p.substring(u),n=o,r=s+e.length}else if(o===this.content&&a===this.content){var f=document.createTextNode(e);this.content.insertBefore(f,l[s]),n=f,r=f.textContent.length}else{var d=l.indexOf(o),h=l.indexOf(a);l.forEach((function(t,n){n===d?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(u):n>d&&n<=h&&(0,gt.Od)(t)})),n=o,r=s+e.length}n&&void 0!==r&&setTimeout((function(){self.setSelection(n,r)}))},Eu.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var r=e.getBoundingClientRect(),i=t.scrollHeight;e.style.height=i+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:i-r.height})}},Eu.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,u,c,l;n=this.resizeHandle=(0,gt.H6)('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){xu(n),wu(n);var p=gu(bu(c+n.clientX-s,r),o),f=gu(bu(l+n.clientY-u,i),a);t.style.width=p+"px",t.style.height=f+"px",e.resizeHandler({width:c,height:l,dx:n.clientX-s,dy:n.clientY-u})},f=function e(t){xu(t),wu(t),gt.B.unbind(document,"mousemove",p,!1),gt.B.unbind(document,"mouseup",e,!1)};gt.B.bind(n,"mousedown",(function(e){xu(e),wu(e),s=e.clientX,u=e.clientY;var n=t.getBoundingClientRect();c=n.width,l=n.height,gt.B.bind(document,"mousemove",p),gt.B.bind(document,"mouseup",f)}))}(0,mt.f0)(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},Eu.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),gt.B.unbind(t,"keydown",this.keyHandler),gt.B.unbind(t,"mousedown",wu),gt.B.unbind(t,"input",this.autoResize),gt.B.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),(0,gt.Od)(n)),(0,gt.Od)(e)},Eu.prototype.getValue=function(){return this.content.innerText.trim()},Eu.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Eu.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)},_u.$inject=["eventBus","canvas"],_u.prototype.registerProvider=function(e){this._providers.push(e)},_u.prototype.isActive=function(e){return!(!this._active||e&&this._active.element!==e)},_u.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},_u.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},_u.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},_u.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,r=this.$textbox.getBoundingClientRect(),i=this.getValue();i===e.context.text&&r.height===n.height&&r.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,i,e.context.text,{x:r.left-t.left,y:r.top-t.top,width:r.width,height:r.height})),this._fire("complete"),this.close()}},_u.prototype.getValue=function(){return this._textbox.getValue()},_u.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},_u.prototype._handleResize=function(e){this._fire("resize",e)},_u.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=(0,mt.sE)(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};var Su={__depends__:[Co],__init__:["directEditing"],directEditing:["type",_u]},Ou=".entry";function Pu(e,t,n){this._eventBus=t,this._overlays=n;var r=(0,mt.$K)(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:r},this._current=null,this._init()}Pu.$inject=["config.contextPad","eventBus","overlays"],Pu.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",(function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()})),e.on("elements.delete",(function(e){var n=e.elements;(0,mt.Ed)(n,(function(e){t.isOpen(e)&&t.close()}))})),e.on("element.changed",(function(e){var n=e.element,r=t._current;r&&r.element===n&&t.open(n,!0)}))},Pu.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},Pu.prototype.getEntries=function(e){var t=this._getProviders(),n={};return(0,mt.Ed)(t,(function(t){var r=t.getContextPadEntries(e);(0,mt.mf)(r)?n=r(n):(0,mt.Ed)(r,(function(e,t){n[t]=e}))})),n},Pu.prototype.trigger=function(e,t,n){var r,i,o=this._current.element,a=this._current.entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(r=a[(0,gt.Lj)(s,"data-action")].action,i=t.originalEvent||t,(0,mt.mf)(r)){if("click"===e)return r(i,o,n)}else if(r[e])return r[e](i,o,n);t.preventDefault()},Pu.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},Pu.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Pu.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),r=n.html;(0,mt.Ed)(t,(function(e,t){var n,i=e.group||"default",o=(0,gt.H6)(e.html||'<div class="entry" draggable="true"></div>');(0,gt.Lj)(o,"data-action",t),(n=(0,gt.IO)("[data-group="+i+"]",r))||(n=(0,gt.H6)('<div class="group" data-group="'+i+'"></div>'),r.appendChild(n)),n.appendChild(o),e.className&&function(e,t){var n=(0,gt.Sh)(e);((0,mt.kJ)(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(o,e.className),e.title&&(0,gt.Lj)(o,"title",e.title),e.imageUrl&&o.appendChild((0,gt.H6)('<img src="'+e.imageUrl+'">'))})),(0,gt.Sh)(r).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},Pu.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,r=(0,gt.H6)('<div class="djs-context-pad"></div>'),i=(0,mt.f0)({html:r},this._overlaysConfig);gt.cl.bind(r,Ou,"click",(function(e){t.trigger("click",e)})),gt.cl.bind(r,Ou,"dragstart",(function(e){t.trigger("dragstart",e)})),gt.B.bind(r,"mousedown",(function(e){e.stopPropagation()})),this._overlayId=n.add(e,"context-pad",i);var o=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:o}),o},Pu.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Pu.prototype.isOpen=function(e){return!!this._current&&(!e||this._current.element===e)};var ku={__depends__:[Co,Uo],contextPad:["type",Pu]},ju=["marker-start","marker-mid","marker-end"],Cu=["circle","ellipse","line","path","polygon","polyline","rect"];function Tu(e,t,n,r){this._elementRegistry=e,this._canvas=n,this._styles=r,this._clonedMarkers={};var i=this;t.on("drag.cleanup",(function(){(0,mt.Ed)(i._clonedMarkers,(function(e){Mt(e)})),i._clonedMarkers={}}))}Tu.$inject=["elementRegistry","eventBus","canvas","styles"],Tu.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},Tu.prototype.addDragger=function(e,t,n){var r=Nt(n=n||this.getGfx(e)),i=n.getBoundingClientRect();return this._cloneMarkers(Jn(r)),St(r,this._styles.cls("djs-dragger",[],{x:i.top,y:i.left})),wt(t,r),r},Tu.prototype.addFrame=function(e,t){var n=Lt("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return wt(t,n),n},Tu.prototype._cloneMarkers=function(e){var t=this;if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)t._cloneMarkers(e.childNodes[n]);(function(e){return-1!==Cu.indexOf(e.nodeName)})(e)&&ju.forEach((function(n){if(St(e,n)){var r=function(e,t,n){var r=(i=St(e,t),i.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]);var i;return(0,gt.IO)("marker#"+r,n||document)}(e,n,t._canvas.getContainer());t._cloneMarker(e,r,n)}}))},Tu.prototype._cloneMarker=function(e,t,n){var r=t.id,i=this._clonedMarkers[r];if(!i){var o=r+"-clone";(i=Nt(t)).id=o,Ct(i).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[r]=i;var a=(0,gt.IO)("defs",this._canvas._svg);a||(a=Lt("defs"),wt(this._canvas._svg,a)),wt(a,i)}var s=function(e){return"url(#"+e+")"}(this._clonedMarkers[r].id);St(e,n,s)};var Mu={__init__:["previewSupport"],previewSupport:["type",Tu]},Au="drop-ok",Nu="drop-not-ok",Du="attach-ok",Ru="new-parent",Iu="create";function Lu(e,t,n,r,i){function o(t,n){[Du,Au,Nu,Ru].forEach((function(r){r===n?e.addMarker(t,r):e.removeMarker(t,r)}))}function a(){var e=t.context();e&&e.prefix===Iu&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,r=e.hover,a=t.source,s=t.hints||{};if(!r)return t.canExecute=!1,void(t.target=null);Bu(e);var u={x:e.x,y:e.y},c=t.canExecute=r&&function(e,t,n,r,o){if(!t)return!1;e=(0,mt.hX)(e,(function(t){var n=t.labelTarget;return!t.parent&&!(function(e){return!!e.labelTarget}(t)&&-1!==e.indexOf(n))}));var a=(0,mt.sE)(e,(function(e){return!Fu(e)})),s=!1,u=!1,c=!1;zu(e)&&(s=i.allowed("shape.attach",{position:n,shape:a,target:t})),s||(c=zu(e)?i.allowed("shape.create",{position:n,shape:a,source:r,target:t}):i.allowed("elements.create",{elements:e,position:n,target:t}));var l=o.connectionTarget;return c||s?(a&&r&&(u=i.allowed("connection.create",{source:l===r?a:r,target:l===r?r:a,hints:{targetParent:t,targetAttach:s}})),{attach:s,connect:u}):(null===c||null===s)&&null}(n,r,u,a,s);r&&null!==c&&(t.target=r,c&&c.attach?o(r,Du):o(r,c?Ru:Nu))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,i=t.shape,o=t.elements,a=t.target,s=t.canExecute,u=s&&s.attach,c=s&&s.connect,l=t.hints||{};if(!1===s||!a)return!1;Bu(e);var p={x:e.x,y:e.y};c?i=r.appendShape(n,i,p,a,{attach:u,connection:!0===c?{}:c,connectionTarget:l.connectionTarget}):(o=r.createElements(o,p,a,(0,mt.f0)({},l,{attach:u})),i=(0,mt.sE)(o,(function(e){return!Fu(e)}))),(0,mt.f0)(t,{elements:o,shape:i}),(0,mt.f0)(e,{elements:o,shape:i})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,r){(0,mt.kJ)(n)||(n=[n]);var i=(0,mt.sE)(n,(function(e){return!Fu(e)}));if(i){r=(0,mt.f0)({elements:n,hints:{},shape:i},r||{}),(0,mt.Ed)(n,(function(e){(0,mt.hj)(e.x)||(e.x=0),(0,mt.hj)(e.y)||(e.y=0)}));var o=xn(n);(0,mt.Ed)(n,(function(e){Fu(e)&&(e.waypoints=(0,mt.UI)(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),(0,mt.f0)(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,Iu,{cursor:"grabbing",autoActivate:!0,data:{shape:i,elements:n,context:r}})}}}function Bu(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function Fu(e){return!!e.waypoints}function zu(e){return e&&1===e.length&&!Fu(e[0])}Lu.$inject=["canvas","dragging","eventBus","modeling","rules"];function Vu(e,t,n,r,i){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,u=a.dragGroup;u||(u=a.dragGroup=function(e){var t=Lt("g");St(t,i.cls("djs-drag-group",["no-events"]));var o=Lt("g");return e.forEach((function(e){var i;e.hidden||(e.waypoints?(i=n._createContainer("connection",o),n.drawConnection(Jn(i),e)):(i=n._createContainer("shape",o),n.drawShape(Jn(i),e),er(i,e.x,e.y)),r.addDragger(e,t,i))})),t}(s)),o?(u.parentNode||wt(e.getDefaultLayer(),u),er(u,t.x,t.y)):Mt(u)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&Mt(t)}))}Vu.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var Hu={__depends__:[ds,Mu,gs,Bo],__init__:["create","createPreview"],create:["type",Lu],createPreview:["type",Vu]},$u="data-id",Gu=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Uu(e,t,n){var r=(0,mt.$K)(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}Uu.$inject=["config.popupMenu","eventBus","canvas"],Uu.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,(function(e){e.providers.push(n)}))},Uu.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._getProviders(t);if(!n)return!0;var r=this._getEntries(e,n),i=this._getHeaderEntries(e,n),o=(0,mt.dp)(r)>0,a=i&&(0,mt.dp)(i)>0;return!o&&!a},Uu.prototype.open=function(e,t,n){var r=this._getProviders(t);if(!e)throw new Error("Element is missing");if(!r||!r.length)throw new Error("No registered providers for: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var i=this._current={className:t,element:e,position:n},o=this._getEntries(e,r),a=this._getHeaderEntries(e,r);i.entries=(0,mt.f0)({},o,a),i.container=this._createContainer(),(0,mt.dp)(a)&&i.container.appendChild(this._createEntries(a,"djs-popup-header")),(0,mt.dp)(o)&&i.container.appendChild(this._createEntries(o,"djs-popup-body"));var s=this._canvas.getContainer();this._attachContainer(i.container,s,n.cursor),this._bindAutoClose()},Uu.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,gt.Od)(this._current.container),this._current.container=null)},Uu.prototype.isOpen=function(){return!!this._current.container},Uu.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,n=(0,gt.Lj)(t,$u),r=this._getEntry(n);if(r.action)return r.action.call(null,e,r)},Uu.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers},Uu.prototype._getEntries=function(e,t){var n={};return(0,mt.Ed)(t,(function(t){if(t.getPopupMenuEntries){var r=t.getPopupMenuEntries(e);(0,mt.mf)(r)?n=r(n):(0,mt.Ed)(r,(function(e,t){n[t]=e}))}else(0,mt.Ed)(t.getEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=(0,mt.CE)(e,["id"])}))})),n},Uu.prototype._getHeaderEntries=function(e,t){var n={};return(0,mt.Ed)(t,(function(t){if(t.getPopupMenuHeaderEntries){var r=t.getPopupMenuHeaderEntries(e);(0,mt.mf)(r)?n=r(n):(0,mt.Ed)(r,(function(e,t){n[t]=e}))}else{if(!t.getHeaderEntries)return;(0,mt.Ed)(t.getHeaderEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=(0,mt.CE)(e,["id"])}))}})),n},Uu.prototype._getEntry=function(e){var t=this._current.entries[e];if(!t)throw new Error("entry not found");return t},Uu.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},Uu.prototype._createContainer=function(){var e=(0,gt.H6)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return(0,mt.f0)(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),(0,gt.Sh)(e).add(n),e},Uu.prototype._attachContainer=function(e,t,n){var r=this;gt.cl.bind(e,".entry","click",(function(e){r.trigger(e)})),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n)},Uu.prototype._updateScale=function(e){var t,n,r=this._canvas.zoom(),i=this._config.scale,o=r;!0!==i&&(!1===i?(t=1,n=1):(t=i.min,n=i.max),(0,mt.$K)(t)&&r<t&&(o=t),(0,mt.$K)(n)&&r>n&&(o=n)),function(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}(e,"scale("+o+")")},Uu.prototype._assureIsInbounds=function(e,t){var n,r,i=this._canvas._container.getBoundingClientRect(),o=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,u=e.scrollHeight,c={},l=t.x-i.left,p=t.y-i.top;o+s>i.width&&(c.x=!0),a+u>i.height&&(c.y=!0),c.x&&c.y?(n=l-s+"px",r=p-u+"px"):c.x?(n=l-s+"px",r=p+"px"):c.y&&p<u?(n=l+"px",r="10px"):c.y&&(n=l+"px",r=p-u+"px"),(0,mt.f0)(e.style,{left:n,top:r},{visibility:"visible","z-index":1e3})},Uu.prototype._createEntries=function(e,t){var n=(0,gt.H6)("<div>"),r=this;return(0,gt.Sh)(n).add(t),(0,mt.Ed)(e,(function(e,t){var i=r._createEntry(e,t);n.appendChild(i)})),n},Uu.prototype._createEntry=function(e,t){var n=(0,gt.H6)("<div>"),r=(0,gt.Sh)(n);if(r.add("entry"),e.className&&e.className.split(" ").forEach((function(e){r.add(e)})),(0,gt.Lj)(n,$u,t),e.label){var i=(0,gt.H6)("<span>");i.textContent=e.label,n.appendChild(i)}return e.imageUrl&&n.appendChild((0,gt.H6)('<img src="'+e.imageUrl+'" />')),!0===e.active&&r.add("active"),!0===e.disabled&&r.add("disabled"),e.title&&(n.title=e.title),n},Uu.prototype._bindAutoClose=function(){this._eventBus.once(Gu,this.close,this)},Uu.prototype._unbindAutoClose=function(){this._eventBus.off(Gu,this.close,this)};var Wu={__init__:["popupMenu"],popupMenu:["type",Uu]};function Xu(){}Xu.prototype.get=function(){return this._data},Xu.prototype.set=function(e){this._data=e},Xu.prototype.clear=function(){var e=this._data;return delete this._data,e},Xu.prototype.isEmpty=function(){return!this._data};var Zu={clipboard:["type",Xu]};function qu(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}qu.$inject=["eventBus"],qu.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent"),r=e,i=t,o=e,a=t;n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,r,i,o,a,!1,!1,!1,!1,0,null);return n}(0,0)};var Yu={__init__:["mouse"],mouse:["type",qu]};function Ku(e,t,n,r,i,o,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=r,this._eventBus=i,this._modeling=o,this._mouse=a,this._rules=s,i.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,r=e.elements;t.priority=1,t.id=n.id;var i=(0,mt.sE)(r,(function(e){return e===n.parent}));i&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),Ju(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return(0,mt.UI)(e.waypoints,(function(e){return(e=ec(e)).original&&(e.original=ec(e.original)),e}))}(n)),Qu(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),(0,mt.Ed)(["x","y","width","height"],(function(e){(0,mt.hj)(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),i.on("copyPaste.pasteElements",(function(e){var t=e.hints;(0,mt.f0)(t,{createElementsBehavior:!1})}))}function Ju(e){return!!e.waypoints}function Qu(e){return!!e.labelTarget}function ec(e){return(0,mt.f0)({},e)}function tc(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}Ku.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Ku.prototype.copy=function(e){var t,n;return(0,mt.kJ)(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree((0,mt.kJ)(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},Ku.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var r=this._createElements(t);if(e&&e.element&&e.point)return this._paste(r,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),r,{hints:n||{}})}},Ku.prototype._paste=function(e,t,n,r){(0,mt.Ed)(e,(function(e){(0,mt.hj)(e.x)||(e.x=0),(0,mt.hj)(e.y)||(e.y=0)}));var i=xn(e);return(0,mt.Ed)(e,(function(e){Ju(e)&&(e.waypoints=(0,mt.UI)(e.waypoints,(function(e){return{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2}}))),(0,mt.f0)(e,{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2})})),this._modeling.createElements(e,n,t,(0,mt.f0)({},r))},Ku.prototype._createElements=function(e){var t=this,n=this._eventBus,r={},i=[];return(0,mt.Ed)(e,(function(e,o){o=parseInt(o,10),e=(0,mt.MR)(e,"priority"),(0,mt.Ed)(e,(function(e){var o,a=(0,mt.f0)({},(0,mt.CE)(e,["priority"]));return r[e.parent]?a.parent=r[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:r,descriptor:a}),Ju(a)?(a.source=r[e.source],a.target=r[e.target],o=r[e.id]=t.createConnection(a),void i.push(o)):Qu(a)?(a.labelTarget=r[a.labelTarget],o=r[e.id]=t.createLabel(a),void i.push(o)):(a.host&&(a.host=r[a.host]),o=r[e.id]=t.createShape(a),void i.push(o))}))})),i},Ku.prototype.createConnection=function(e){return this._elementFactory.createConnection((0,mt.CE)(e,["id"]))},Ku.prototype.createLabel=function(e){return this._elementFactory.createLabel((0,mt.CE)(e,["id"]))},Ku.prototype.createShape=function(e){return this._elementFactory.createShape((0,mt.CE)(e,["id"]))},Ku.prototype.hasRelations=function(e,t){var n,r;return!(Ju(e)&&(n=(0,mt.sE)(t,(0,mt.KQ)({id:e.source.id})),r=(0,mt.sE)(t,(0,mt.KQ)({id:e.target.id})),!n||!r))&&!(Qu(e)&&!(0,mt.sE)(t,(0,mt.KQ)({id:e.labelTarget.id})))},Ku.prototype.createTree=function(e){var t=this._rules,n=this,r={},i=[];function o(e,t){var n=(0,mt.sE)(i,(function(t){return e===t.element}));n?n.depth<t&&(i=function(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1);return t}(n,i),i.push({element:n.element,depth:t})):i.push({element:e,depth:t})}return mn(hn(e),(function(e,t,n){if(!Qu(e))return(0,mt.Ed)(e.labels,(function(e){o(e,n)})),(0,mt.Ed)([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&(0,mt.Ed)(e,(function(e){(0,mt.Ed)(e.labels,(function(e){o(e,n)})),o(e,n)}))})),o(e,n),e.children})),e=(0,mt.UI)(i,(function(e){return e.element})),i=(0,mt.UI)(i,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),i=(0,mt.MR)(i,(function(e){return e.descriptor.priority})),e=(0,mt.UI)(i,(function(e){return e.element})),(0,mt.Ed)(i,(function(i){var o=i.depth;n.hasRelations(i.element,e)?!function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(i.element,e)?tc(i.element,e):(r[o]||(r[o]=[]),r[o].push(i.descriptor)):tc(i.element,e)})),r};var nc={__depends__:[Zu,Hu,Yu,gs],__init__:["copyPaste"],copyPaste:["type",Ku]};function rc(e,t,n){(0,mt.kJ)(n)||(n=[n]),(0,mt.Ed)(n,(function(n){(0,mt.o8)(e[n])||(t[n]=e[n])}))}function ic(e,t,n){var r;t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,r=t.oldBusinessObject=(0,Pi.getBusinessObject)(n);if(t.type=n.type,rc(r,t,"name"),t.di={},rc(r.di,t.di,["fill","stroke"]),rc(r.di,t,"isExpanded"),oc(t))return t;r.default&&(t.default=r.default.id)})),t.on("moddleCopy.canCopyProperty",(function(t){var r,i=t.parent,o=t.property;if("processRef"===t.propertyName&&(0,Pi.is)(i,"bpmn:Participant")&&(0,Pi.is)(o,"bpmn:Process"))return r=e.create("bpmn:Process"),n.copyElement(o,r)})),t.on("copyPaste.pasteElements",(function(){r={}})),t.on("copyPaste.pasteElement",(function(t){var i,o,a,s=t.cache,u=t.descriptor,c=u.oldBusinessObject;oc(u)?u.businessObject=(0,Pi.getBusinessObject)(s[u.labelTarget]):(i=e.create(c.$type),u.businessObject=n.copyElement(c,i),function(e,t){var n=(0,Pi.getBusinessObject)(e);e.default&&(r[e.default]={element:n,property:"default"}),e.host&&((0,Pi.getBusinessObject)(e).attachedToRef=(0,Pi.getBusinessObject)(t[e.host])),r=(0,mt.CE)(r,(0,mt.u4)(r,(function(t,r,i){var o=r.element,a=r.property;return i===e.id&&(o[a]=n,t.push(e.id)),t}),[]))}(u,s),rc(u,i,["isExpanded","name"]),o=u,a="oldBusinessObject",(0,mt.kJ)(a)||(a=[a]),(0,mt.Ed)(a,(function(e){o[e]&&delete o[e]})))}))}function oc(e){return!!e.labelTarget}ic.$inject=["bpmnFactory","eventBus","moddleCopy"];var ac=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing"];function sc(e,t,n){this._bpmnFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return(0,mt.MR)(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=(0,mt.Kn)(t)&&t.$descriptor,r=e.propertyName;return(!r||-1===ac.indexOf(r))&&(!(r&&n&&!(0,mt.sE)(n.properties,(0,mt.KQ)({name:r})))&&void 0)})),e.on("moddleCopy.canSetCopiedProperty",(function(e){var t=e.property;if(function(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}(t,"bpmn:ExtensionElements")&&(!t.values||!t.values.length))return!1}))}function uc(e,t){return(0,mt.u4)(e.properties,(function(e,n){return t&&n.default?e:e.concat(n.name)}),[])}sc.$inject=["eventBus","bpmnFactory","moddle"],sc.prototype.copyElement=function(e,t,n){var r=this;n&&!(0,mt.kJ)(n)&&(n=[n]),n=n||uc(e.$descriptor);var i=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t});return!1===i||((0,mt.kJ)(i)&&(n=i),(0,mt.Ed)(n,(function(n){var i;(0,mt.e$)(e,n)&&(i=e.get(n));var o=r.copyProperty(i,t,n);!1!==r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:parent,property:o,propertyName:n})&&(0,mt.$K)(o)&&t.set(n,o)}))),t},sc.prototype.copyProperty=function(e,t,n){var r=this,i=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n});if(!1!==i){if(i)return(0,mt.Kn)(i)&&i.$type&&!i.$parent&&(i.$parent=t),i;var o=this._moddle.getPropertyDescriptor(t,n);if(!o.isId&&!o.isReference){if((0,mt.kJ)(e))return(0,mt.u4)(e,(function(e,o){return(i=r.copyProperty(o,t,n))?(i.$parent=t,e.concat(i)):e}),[]);if((0,mt.Kn)(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(i=r._bpmnFactory.create(e.$type)).$parent=t,i=r.copyElement(e,i)}return e}}};var cc={__depends__:[nc],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",ic],moddleCopy:["type",sc]},lc=Math.round;function pc(e){this._modeling=e}pc.$inject=["modeling"],pc.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var r=this._modeling,i=t.width||e.width,o=t.height||e.height,a=t.x||e.x,s=t.y||e.y,u=lc(a+i/2),c=lc(s+o/2);return r.replaceShape(e,(0,mt.f0)({},t,{x:u,y:c,width:i,height:o}),n)};var fc={__init__:["replace"],replace:["type",pc]};var dc=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function hc(e,t,n,r,i,o){this.replaceElement=function(a,s,u){u=u||{};var c=s.type,l=a.businessObject;if(yc(l)&&"bpmn:SubProcess"===c&&function(e,t){var n=e&&(0,mt.e$)(e,"collapsed")?e.collapsed:!(0,Oi.ul)(e);return n!==(t&&((0,mt.e$)(t,"collapsed")||(0,mt.e$)(t,"isExpanded"))?(0,mt.e$)(t,"collapsed")?t.collapsed:!t.isExpanded:n)&&(e.collapsed=n,!0)}(a,s))return r.toggleCollapse(a),a;var p,f=e.create(c),d={type:c,businessObject:f},h=uc(l.$descriptor),y=uc(f.$descriptor,!0),v=(p=y,h.filter((function(e){return-1!==p.indexOf(e)})));(0,mt.f0)(f,(0,mt.ei)(s,dc));var m=(0,mt.hX)(v,(function(e){return"eventDefinitions"===e?vc(a,s.eventDefinitionType):"loopCharacteristics"===e?!(0,Oi.J5)(f):!f.hasOwnProperty(e)&&(("processRef"!==e||!1!==s.isExpanded)&&"triggeredByEvent"!==e)}));return f=n.copyElement(l,f,m),s.eventDefinitionType&&(vc(f,s.eventDefinitionType)||(d.eventDefinitionType=s.eventDefinitionType)),(0,Pi.is)(l,"bpmn:Activity")&&(yc(l)?d.isExpanded=(0,Oi.ul)(l):s&&(0,mt.e$)(s,"isExpanded")&&(d.isExpanded=s.isExpanded),(0,Oi.ul)(l)&&!(0,Pi.is)(l,"bpmn:Task")&&d.isExpanded&&(d.width=a.width,d.height=a.height)),yc(l)&&!yc(f)&&(u.moveChildren=!1),(0,Pi.is)(l,"bpmn:Participant")&&(!0===s.isExpanded?f.processRef=e.create("bpmn:Process"):u.moveChildren=!1,d.width=a.width,d.height=t._getDefaultSize(f).height),f.name=l.name,(0,$a.J)(l,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(0,$a.J)(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(f.default=l.default),s.host&&!(0,Pi.is)(l,"bpmn:BoundaryEvent")&&(0,Pi.is)(f,"bpmn:BoundaryEvent")&&(d.host=s.host),d.di={},function(e,t,n){(0,mt.kJ)(n)||(n=[n]),(0,mt.Ed)(n,(function(n){(0,mt.o8)(e[n])||(t[n]=e[n])}))}(l.di,d.di,["fill","stroke"]),d=i.replaceElement(a,d,u),!1!==u.select&&o.select(d),d}}function yc(e){return(0,Pi.is)(e,"bpmn:SubProcess")}function vc(e,t){var n=(0,Pi.getBusinessObject)(e);return t&&n.get("eventDefinitions").some((function(e){return(0,Pi.is)(e,t)}))}hc.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","selection"];var mc={__depends__:[cc,fc,Bo],bpmnReplace:["type",hc]};function gc(e){return function(t){var n=t.target,r=(0,Pi.getBusinessObject)(e),i=r.eventDefinitions&&r.eventDefinitions[0],o=r.$type===n.type,a=(i&&i.$type)===n.eventDefinitionType,s=r.triggeredByEvent===n.triggeredByEvent,u=void 0===n.isExpanded||n.isExpanded===(0,Oi.ul)(r);return!o||!a||!s||!u}}var bc=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],xc=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],wc=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],Ec=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],_c=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Sc=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Oc=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}],Pc=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],kc=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],jc=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Cc=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],Tc=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Collapsed Pool",actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function Mc(e,t,n,r,i,o){this._popupMenu=e,this._modeling=t,this._moddle=n,this._bpmnReplace=r,this._rules=i,this._translate=o,this.register()}Mc.$inject=["popupMenu","modeling","moddle","bpmnReplace","rules","translate"],Mc.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Mc.prototype.getEntries=function(e){var t,n=e.businessObject;if(!this._rules.allowed("shape.replace",{element:e}))return[];var r=gc(e);return(0,Pi.is)(n,"bpmn:StartEvent")&&!(0,Oi.J5)(n.$parent)?(t=(0,mt.hX)(bc,r),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:Participant")?(t=(0,mt.hX)(Tc,(function(e){return(0,Oi.ul)(n)!==e.target.isExpanded})),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:StartEvent")&&(0,Oi.J5)(n.$parent)?(t=(0,mt.hX)(jc,(function(t){var n=!1!==t.target.isInterrupting,i=(0,Pi.getBusinessObject)(e).isInterrupting===n;return r(t)||!r(t)&&!i})),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:EndEvent")?(t=(0,mt.hX)(wc,(function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!(0,Pi.is)(n.$parent,"bpmn:Transaction"))&&r(e)})),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:BoundaryEvent")?(t=(0,mt.hX)(kc,(function(e){var t=e.target;if("bpmn:CancelEventDefinition"==t.eventDefinition&&!(0,Pi.is)(n.attachedToRef,"bpmn:Transaction"))return!1;var i=!1!==t.cancelActivity,o=n.cancelActivity==i;return r(e)||!r(e)&&!o})),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:IntermediateCatchEvent")||(0,Pi.is)(n,"bpmn:IntermediateThrowEvent")?(t=(0,mt.hX)(xc,r),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:Gateway")?(t=(0,mt.hX)(Ec,r),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:Transaction")?(t=(0,mt.hX)(Sc,r),this._createEntries(e,t)):(0,Oi.J5)(n)&&(0,Oi.ul)(n)?(t=(0,mt.hX)(Oc,r),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:SubProcess")&&(0,Oi.ul)(n)?(t=(0,mt.hX)(_c,r),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:AdHocSubProcess")&&!(0,Oi.ul)(n)?(t=(0,mt.hX)(Pc,(function(t){var n=t.target,r="bpmn:SubProcess"===n.type,i=!0===n.isExpanded;return gc(e)&&(!r||i)})),this._createEntries(e,t)):(0,Pi.is)(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,Cc):(0,Pi.is)(n,"bpmn:FlowNode")?(t=(0,mt.hX)(Pc,r),(0,Pi.is)(n,"bpmn:SubProcess")&&!(0,Oi.ul)(n)&&(t=(0,mt.hX)(t,(function(e){return"Sub Process (collapsed)"!==e.label}))),this._createEntries(e,t)):[]},Mc.prototype.getHeaderEntries=function(e){var t=[];return(0,Pi.is)(e,"bpmn:Activity")&&!(0,Oi.J5)(e)&&(t=t.concat(this._getLoopEntries(e))),!(0,Pi.is)(e,"bpmn:SubProcess")||(0,Pi.is)(e,"bpmn:Transaction")||(0,Oi.J5)(e)||t.push(this._getAdHocEntry(e)),t},Mc.prototype._createEntries=function(e,t){var n=[],r=this;return(0,mt.Ed)(t,(function(t){var i=r._createMenuEntry(t,e);n.push(i)})),n},Mc.prototype._createSequenceFlowEntries=function(e,t){var n=(0,Pi.getBusinessObject)(e),r=[],i=this._modeling,o=this._moddle,a=this;return(0,mt.Ed)(t,(function(t){switch(t.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&((0,Pi.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,Pi.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,Pi.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,Pi.is)(n.sourceRef,"bpmn:Activity"))&&r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e.source,{default:n})})));break;case"replace-with-conditional-flow":!n.conditionExpression&&(0,Pi.is)(n.sourceRef,"bpmn:Activity")&&r.push(a._createMenuEntry(t,e,(function(){var t=o.create("bpmn:FormalExpression",{body:""});i.updateProperties(e,{conditionExpression:t})})));break;default:if((0,Pi.is)(n.sourceRef,"bpmn:Activity")&&n.conditionExpression)return r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e,{conditionExpression:void 0})})));if(((0,Pi.is)(n.sourceRef,"bpmn:ExclusiveGateway")||(0,Pi.is)(n.sourceRef,"bpmn:InclusiveGateway")||(0,Pi.is)(n.sourceRef,"bpmn:ComplexGateway")||(0,Pi.is)(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n)return r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e.source,{default:void 0})})))}})),r},Mc.prototype._createMenuEntry=function(e,t,n){var r=this._translate,i=this._bpmnReplace.replaceElement;return n=n||function(){return i(t,e.target)},{label:r(e.label),className:e.className,id:e.actionName,action:n}},Mc.prototype._getLoopEntries=function(e){var t=this,n=this._translate;function r(n,r){var i;r.active?i=void 0:(i=t._moddle.create(r.options.loopCharacteristics),r.options.isSequential&&(i.isSequential=r.options.isSequential)),t._modeling.updateProperties(e,{loopCharacteristics:i})}var i,o,a,s=(0,Pi.getBusinessObject)(e).loopCharacteristics;return s&&(i=s.isSequential,o=void 0===s.isSequential,a=void 0!==s.isSequential&&!s.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:n("Parallel Multi Instance"),active:a,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:n("Sequential Multi Instance"),active:i,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:n("Loop"),active:o,action:r,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},Mc.prototype._getAdHocEntry=function(e){var t=this._translate,n=(0,Pi.getBusinessObject)(e),r=(0,Pi.is)(n,"bpmn:AdHocSubProcess"),i=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:t("Ad-hoc"),active:r,action:function(t,n){return i(e,r?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}};var Ac={__depends__:[Wu,mc],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Mc]},Nc=Math.max,Dc=Math.min;function Rc(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function Ic(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}}function Lc(e,t,n){var r=t[e],i=n.min&&n.min[e],o=n.max&&n.max[e];return(0,mt.hj)(i)&&(r=(/top|left/.test(e)?Dc:Nc)(r,i)),(0,mt.hj)(o)&&(r=(/top|left/.test(e)?Nc:Dc)(r,o)),r}function Bc(e,t){return"undefined"!==typeof e?e:20}function Fc(e){return!e.waypoints&&"label"!==e.type}function zc(e,t){var n;if((n=void 0===e.length?(0,mt.hX)(e.children,Fc):e).length)return function(e,t){var n,r,i,o;return"object"===typeof t?(n=Bc(t.left),r=Bc(t.right),i=Bc(t.top),o=Bc(t.bottom)):n=r=i=o=Bc(t),{x:e.x-n,y:e.y-i,width:e.width+n+r,height:e.height+i+o}}(xn(n),t)}var Vc=Math.abs;var Hc=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],$c=30;function Gc(e,t){return t=t||[],e.children.filter((function(e){(0,Pi.is)(e,"bpmn:Lane")&&(Gc(e,t),t.push(e))})),t}function Uc(e){return e.children.filter((function(e){return(0,Pi.is)(e,"bpmn:Lane")}))}function Wc(e){return(0,$a.G)(e,Hc)||e}function Xc(e,t){var n=Wc(e),r=Gc(n,(0,Pi.is)(n,"bpmn:Process")?[]:[n]),i=co(e),o=co(t),a=function(e,t){return Rc(co(t),co(e))}(e,t),s=[];return r.forEach((function(t){if(t!==e){var n=0,r=a.right,u=0,c=a.left,l=co(t);a.top&&(Vc(l.bottom-i.top)<10&&(u=o.top-l.bottom),Vc(l.top-i.top)<5&&(n=o.top-l.top)),a.bottom&&(Vc(l.top-i.bottom)<10&&(n=o.bottom-l.top),Vc(l.bottom-i.bottom)<5&&(u=o.bottom-l.bottom)),(n||r||u||c)&&s.push({shape:t,newBounds:Ic(t,{top:n,right:r,bottom:u,left:c})})}})),s}function Zc(e,t,n,r,i,o,a,s,u,c,l,p){e=e||{},r.registerProvider(this),this._contextPad=r,this._modeling=i,this._elementFactory=o,this._connect=a,this._create=s,this._popupMenu=u,this._canvas=c,this._rules=l,this._translate=p,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(Oo(e)){var n=r.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}function qc(e,t,n){var r=e.$instanceOf(t),i=!1,o=e.eventDefinitions||[];return(0,mt.Ed)(o,(function(e){e.$type===n&&(i=!0)})),r&&i}Zc.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],Zc.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,r=this._elementFactory,i=this._connect,o=this._create,a=this._popupMenu,s=this._canvas,u=this._rules,c=this._autoPlace,l=this._translate,p={};if("label"===e.type)return p;var f=e.businessObject;function d(e,t){i.start(e,t)}function h(e,t,n,i){function a(t,n){var a=r.createShape((0,mt.f0)({type:e},i));o.start(t,a,{source:n})}"string"!==typeof n&&(i=n,n=l("Append {type}",{type:e.replace(/^bpmn:/,"")}));var s=c?function(t,n){var o=r.createShape((0,mt.f0)({type:e},i));c.append(n,o)}:a;return{group:"model",className:t,title:n,action:{dragstart:a,click:s}}}function y(e){return function(r,i){n.splitLane(i,e),t.open(i,!0)}}if((0,$a.J)(f,["bpmn:Lane","bpmn:Participant"])&&(0,Oi.ul)(f)){var v=Uc(e);(0,mt.f0)(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:l("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),v.length<2&&(e.height>=120&&(0,mt.f0)(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:l("Divide into two Lanes"),action:{click:y(2)}}}),e.height>=180&&(0,mt.f0)(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:l("Divide into three Lanes"),action:{click:y(3)}}})),(0,mt.f0)(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:l("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}(0,Pi.is)(f,"bpmn:FlowNode")&&((0,Pi.is)(f,"bpmn:EventBasedGateway")?(0,mt.f0)(p,{"append.receive-task":h("bpmn:ReceiveTask","bpmn-icon-receive-task"),"append.message-intermediate-event":h("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",l("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":h("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",l("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":h("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",l("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":h("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",l("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):qc(f,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?(0,mt.f0)(p,{"append.compensation-activity":h("bpmn:Task","bpmn-icon-task",l("Append compensation activity"),{isForCompensation:!0})}):(0,Pi.is)(f,"bpmn:EndEvent")||f.isForCompensation||qc(f,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||(0,Oi.J5)(f)||(0,mt.f0)(p,{"append.end-event":h("bpmn:EndEvent","bpmn-icon-end-event-none",l("Append EndEvent")),"append.gateway":h("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",l("Append Gateway")),"append.append-task":h("bpmn:Task","bpmn-icon-task",l("Append Task")),"append.intermediate-event":h("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",l("Append Intermediate/Boundary Event"))})),a.isEmpty(e,"bpmn-replace")||(0,mt.f0)(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:l("Change type"),action:{click:function(e,n){var r=(0,mt.f0)(function(e){var n=s.getContainer(),r=t.getPad(e).html,i=n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=o.top-i.top;return{x:o.left-i.left,y:a+o.height+5}}(n),{cursor:{x:e.x,y:e.y}});a.open(n,"bpmn-replace",r)}}}}),(0,$a.J)(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,mt.f0)(p,{"append.text-annotation":h("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using "+(f.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:d,dragstart:d}}}),(0,$a.J)(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,mt.f0)(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using DataInputAssociation"),action:{click:d,dragstart:d}}});var m=u.allowed("elements.delete",{elements:[e]});return(0,mt.kJ)(m)&&(m=m[0]===e),m&&(0,mt.f0)(p,{delete:{group:"edit",className:"bpmn-icon-trash",title:l("Remove"),action:{click:function(t){n.removeElements([e])}}}}),p};var Yc={__depends__:[Su,ku,Bo,yu,Hu,Ac],__init__:["contextPadProvider"],contextPadProvider:["type",Zc]},Kc={horizontal:["x","width"],vertical:["y","height"]};function Jc(e){this._modeling=e,this._filters=[],this.registerFilter((function(e,t,n){var r,i=0,o=0;return(0,mt.Ed)(e,(function(e){e.waypoints||e.labelTarget||(i+=e[n],o+=1)})),r=Math.round(i/o),(0,mt.hX)(e,(function(e){return e[n]<r+50}))}))}Jc.$inject=["modeling"],Jc.prototype.registerFilter=function(e){if("function"!==typeof e)throw new Error("the filter has to be a function");this._filters.push(e)},Jc.prototype.trigger=function(e,t){var n,r,i=this._modeling;if(!(e.length<3)&&(this._setOrientation(t),r=this._filterElements(e),!((n=this._createGroups(r)).length<=2)))return i.distributeElements(n,this._axis,this._dimension),n},Jc.prototype._filterElements=function(e){var t=this._filters,n=this._axis,r=this._dimension,i=[].concat(e);return t.length?((0,mt.Ed)(t,(function(e){i=e(i,n,r)})),i):e},Jc.prototype._createGroups=function(e){var t=[],n=this,r=this._axis,i=this._dimension;if(!r)throw new Error('must have a defined "axis" and "dimension"');var o=(0,mt.MR)(e,r);return(0,mt.Ed)(o,(function(e,o){var a,s=n._findRange(e,r,i),u=t[t.length-1];u&&n._hasIntersection(u.range,s)?t[t.length-1].elements.push(e):(a={range:s,elements:[e]},t.push(a))})),t},Jc.prototype._setOrientation=function(e){var t=Kc[e];this._axis=t[0],this._dimension=t[1]},Jc.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)},Jc.prototype._findRange=function(e){var t=e[this._axis];return{min:t+5,max:t+e[this._dimension]-5}};var Qc={__init__:["distributeElements"],distributeElements:["type",Jc]};function el(e){e.registerFilter((function(e){return(0,mt.hX)(e,(function(e){var t=(0,$a.J)(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:Participant","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||t)}))}))}el.$inject=["distributeElements"];var tl={__depends__:[Qc],__init__:["bpmnDistributeElements"],bpmnDistributeElements:["type",el]},nl="is not a registered action";function rl(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function il(e,t){return new Error(e+" "+t)}rl.$inject=["eventBus","injector"],rl.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),r=e.get("selection",!1),i=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),u=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&r&&this.register("copy",(function(){var e=r.get();o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),i&&this.register("stepZoom",(function(e){i.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&r&&s&&this.register("removeSelection",(function(){var e=r.get();if(e.length){var t,i=s.allowed("elements.delete",{elements:e});!1!==i&&(t=(0,mt.kJ)(i)?i:e).length&&n.removeElements(t.slice())}})),u&&this.register("moveCanvas",(function(e){u.moveCanvas(e)})),c&&this.register("moveSelection",(function(e){c.moveSelection(e.direction,e.accelerated)}))},rl.prototype.trigger=function(e,t){if(!this._actions[e])throw il(e,nl);return this._actions[e](t)},rl.prototype.register=function(e,t){var n=this;if("string"===typeof e)return this._registerAction(e,t);(0,mt.Ed)(e,(function(e,t){n._registerAction(t,e)}))},rl.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw il(e,"is already registered");this._actions[e]=t},rl.prototype.unregister=function(e){if(!this.isRegistered(e))throw il(e,nl);this._actions[e]=void 0},rl.prototype.getActions=function(){return Object.keys(this._actions)},rl.prototype.isRegistered=function(e){return!!this._actions[e]};var ol={__init__:["editorActions"],editorActions:["type",rl]};function al(e){e.invoke(rl,this)}yt()(al,rl),al.$inject=["injector"],al.prototype._registerDefaultActions=function(e){rl.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),r=e.get("selection",!1),i=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("globalConnect",!1),u=e.get("distributeElements",!1),c=e.get("alignElements",!1),l=e.get("directEditing",!1),p=e.get("searchPad",!1),f=e.get("modeling",!1);t&&n&&r&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),i=n.filter((function(t){return t!==e}));return r.select(i),i})),i&&this._registerAction("spaceTool",(function(){i.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),s&&this._registerAction("globalConnectTool",(function(){s.toggle()})),r&&u&&this._registerAction("distributeElements",(function(e){var t=r.get(),n=e.type;t.length&&u.trigger(t,n)})),r&&c&&this._registerAction("alignElements",(function(e){var t=r.get(),n=[],i=e.type;t.length&&(n=(0,mt.hX)(t,(function(e){return!(0,Pi.is)(e,"bpmn:Lane")})),c.trigger(n,i))})),r&&f&&this._registerAction("setColor",(function(e){var t=r.get();t.length&&f.setColor(t,e)})),r&&l&&this._registerAction("directEditing",(function(){var e=r.get();e.length&&l.activate(e[0])})),p&&this._registerAction("find",(function(){p.toggle()})),t&&f&&this._registerAction("moveToOrigin",(function(){var e,r,i=t.getRootElement();e=xn(r=(0,Pi.is)(i,"bpmn:Collaboration")?n.filter((function(e){return(0,Pi.is)(e.parent,"bpmn:Collaboration")})):n.filter((function(e){return e!==i&&!(0,Pi.is)(e.parent,"bpmn:SubProcess")}))),f.moveElements(r,{x:-e.x,y:-e.y},i)}))};var sl={__depends__:[ol],editorActions:["type",al]};function ul(e){e.on(["create.init","shape.move.init"],(function(e){var t=e.context,n=e.shape;(0,$a.J)(n,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(t.gridSnappingContext||(t.gridSnappingContext={}),t.gridSnappingContext.snapLocation="top-left")}))}ul.$inject=["eventBus"];function cl(e,t,n){return n||(n="round"),Math[n](e/t)*t}function ll(e,t,n){var r=!n||!1!==n.active;this._eventBus=t;var i=this;t.on("diagram.init",800,(function(){i.setActive(r)})),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,(function(t){var n=t.originalEvent;if(!(!i.active||n&&Qo(n))){var r=t.context,o=r.gridSnappingContext;o||(o=r.gridSnappingContext={}),["x","y"].forEach((function(n){var r={},o=function(e,t,n){var r=e.context,i=e.shape,o=r.gridSnappingContext,a=o.snapLocation,s=o.snapOffset;if(s&&(0,mt.hj)(s[t]))return s[t];s||(s=o.snapOffset={});(0,mt.hj)(s[t])||(s[t]=0);if(!i)return s[t];n.get(i.id)||(pl(t)?s[t]+=i[t]+i.width/2:s[t]+=i[t]+i.height/2);if(!a)return s[t];"x"===t?/left/.test(a)?s[t]-=i.width/2:/right/.test(a)&&(s[t]+=i.width/2):/top/.test(a)?s[t]-=i.height/2:/bottom/.test(a)&&(s[t]+=i.height/2);return s[t]}(t,n,e);o&&(r.offset=o);var a=function(e,t){var n=e.context,r=n.createConstraints,i=n.resizeConstraints||{},o=n.gridSnappingContext,a=o.snapConstraints;if(a&&a[t])return a[t];a||(a=o.snapConstraints={});a[t]||(a[t]={});var s=n.direction;r&&(pl(t)?(a.x.min=r.left,a.x.max=r.right):(a.y.min=r.top,a.y.max=r.bottom));var u=i.min,c=i.max;u&&(pl(t)?dl(s)?a.x.max=u.left:a.x.min=u.right:fl(s)?a.y.max=u.top:a.y.min=u.bottom);c&&(pl(t)?dl(s)?a.x.min=c.left:a.x.max=c.right:fl(s)?a.y.min=c.top:a.y.max=c.bottom);return a[t]}(t,n);a&&(0,mt.f0)(r,a),ru(t,n)||i.snapEvent(t,n,r)}))}}))}function pl(e){return"x"===e}function fl(e){return-1!==e.indexOf("n")}function dl(e){return-1!==e.indexOf("w")}function hl(e,t){es.call(this,e),this._gridSnapping=t;var n=this;this.preExecute("shape.resize",(function(e){var t=e.context,r=(t.hints||{}).autoResize;if(r){var i=t.shape,o=t.newBounds;(0,mt.HD)(r)?t.newBounds=n.snapComplex(o,r):t.newBounds=n.snapSimple(i,o)}}))}ll.prototype.snapEvent=function(e,t,n){iu(e,t,this.snapValue(e[t],n))},ll.prototype.getGridSpacing=function(){return 10},ll.prototype.snapValue=function(e,t){var n,r,i=0;return t&&t.offset&&(i=t.offset),e=cl(e+=i,10),t&&t.min&&(n=t.min,(0,mt.hj)(n)&&(n=cl(n+i,10,"ceil"),e=Math.max(e,n))),t&&t.max&&(r=t.max,(0,mt.hj)(r)&&(r=cl(r+i,10,"floor"),e=Math.min(e,r))),e-=i},ll.prototype.isActive=function(){return this.active},ll.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},ll.prototype.toggleActive=function(){this.setActive(!this.active)},ll.$inject=["elementRegistry","eventBus","config.gridSnapping"],hl.$inject=["eventBus","gridSnapping","modeling"],yt()(hl,es),hl.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t},hl.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e},hl.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,r=/w/.test(t),i=/e/.test(t),o={};return o.width=n.snapValue(e.width,{min:e.width}),i&&(r?(o.x=n.snapValue(e.x,{max:e.x}),o.width+=n.snapValue(e.x-o.x,{min:e.x-o.x})):e.x=e.x+e.width-o.width),(0,mt.f0)(e,o),e},hl.prototype.snapVertically=function(e,t){var n=this._gridSnapping,r=/n/.test(t),i=/s/.test(t),o={};return o.height=n.snapValue(e.height,{min:e.height}),r&&(i?(o.y=n.snapValue(e.y,{max:e.y}),o.height+=n.snapValue(e.y-o.y,{min:e.y-o.y})):e.y=e.y+e.height-o.height),(0,mt.f0)(e,o),e};function yl(e,t){e.on(["spaceTool.move","spaceTool.end"],2e3,(function(e){var n,r=e.context;r.initialized&&("x"===r.axis?(n=t.snapValue(e.dx),e.x=e.x+n-e.dx,e.dx=n):(n=t.snapValue(e.dy),e.y=e.y+n-e.dy,e.dy=n))}))}yl.$inject=["eventBus","gridSnapping"];var vl={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",hl],gridSnappingSpaceToolBehavior:["type",yl]}],__init__:["gridSnapping"],gridSnapping:["type",ll]};function ml(e,t){e.on("autoPlace",(function(e){var n=e.source,r=po(n),i=e.shape,o=Ga(n,i);return["x","y"].forEach((function(e){var n={};o[e]!==r[e]&&(o[e]>r[e]?n.min=o[e]:n.max=o[e],(0,Pi.is)(i,"bpmn:TextAnnotation")&&(!function(e){return"x"===e}(e)?n.offset=-i.height/2:n.offset=-i.width/2),o[e]=t.snapValue(o[e],n))})),o}))}ml.$inject=["eventBus","gridSnapping"];function gl(e,t,n){t.on(["create.start","shape.move.start"],1750,(function(t){var r=t.context,i=r.shape,o=e.getRootElement();(0,Pi.is)(i,"bpmn:Participant")&&(0,Pi.is)(o,"bpmn:Process")&&o.children.length&&(r.createConstraints&&(i.width=n.snapValue(i.width,{min:i.width}),i.height=n.snapValue(i.height,{min:i.height})))}))}gl.$inject=["canvas","eventBus","gridSnapping"];function bl(e,t,n){es.call(this,e),this._gridSnapping=t;var r=this;this.postExecuted(["connection.create","connection.layout"],3e3,(function(e){var t=e.context,i=t.connection,o=t.hints||{},a=i.waypoints;o.connectionStart||o.connectionEnd||function(e){return e.length>3}(a)&&n.updateWaypoints(i,r.snapMiddleSegments(a))}))}function xl(e,t,n){var r=no(t,n),i={};return function(e){return"h"===e}(r)&&(i.y=e.snapValue(t.y)),function(e){return"v"===e}(r)&&(i.x=e.snapValue(t.x)),("x"in i||"y"in i)&&(t=(0,mt.f0)({},t,i),n=(0,mt.f0)({},n,i)),[t,n]}bl.$inject=["eventBus","gridSnapping","modeling"],yt()(bl,es),bl.prototype.snapMiddleSegments=function(e){var t,n=this._gridSnapping;e=e.slice();for(var r=1;r<e.length-2;r++)t=xl(n,e[r],e[r+1]),e[r]=t[0],e[r+1]=t[1];return e};var wl={__depends__:[vl,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingCreateParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",ml],gridSnappingCreateParticipantBehavior:["type",gl],gridSnappingLayoutConnectionBehavior:["type",bl]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",ul]};function El(e,t){this._interactionEvents=t;var n=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],(function(e){var t=e.element,r=e.gfx;return(0,Pi.is)(t,"bpmn:Lane")?n.createParticipantHit(t,r):(0,Pi.is)(t,"bpmn:Participant")?(0,Oi.ul)(t)?n.createParticipantHit(t,r):n.createDefaultHit(t,r):(0,Pi.is)(t,"bpmn:SubProcess")?(0,Oi.ul)(t)?n.createSubProcessHit(t,r):n.createDefaultHit(t,r):void 0}))}El.$inject=["eventBus","interactionEvents"],El.prototype.createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0},El.prototype.createParticipantHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:30,height:e.height}),!0},El.prototype.createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:30}),!0};var _l={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",El]};function Sl(e){e.invoke(ua,this)}yt()(Sl,ua),Sl.$inject=["injector"],Sl.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}ua.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var r=n.keyEvent;if(e.isKey(["a","A"],r)&&e.isCmd(r))return t.trigger("selectElements"),!0})),n("find",(function(n){var r=n.keyEvent;if(e.isKey(["f","F"],r)&&e.isCmd(r))return t.trigger("find"),!0})),n("spaceTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["s","S"],r)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["l","L"],r)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["h","H"],r)?(t.trigger("handTool"),!0):void 0})),n("globalConnectTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["c","C"],r)?(t.trigger("globalConnectTool"),!0):void 0})),n("directEditing",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["e","E"],r)?(t.trigger("directEditing"),!0):void 0}))};var Ol={__depends__:[ca],__init__:["keyboardBindings"],keyboardBindings:["type",Sl]},Pl={moveSpeed:1,moveSpeedAccelerated:10},kl="left",jl="right",Cl="down",Tl={ArrowLeft:kl,Left:kl,ArrowUp:"up",Up:"up",ArrowRight:jl,Right:jl,ArrowDown:Cl,Down:Cl},Ml={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function Al(e,t,n,r,i){var o=this;this._config=(0,mt.f0)({},Pl,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,r=Tl[n.key];if(r&&!t.isCmd(n)){var i=t.isShift(n);return o.moveSelection(r,i),!0}})),this.moveSelection=function(e,t){var o=i.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=Ml[e](a);r.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}Al.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Nl={__depends__:[ca,Bo],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Al]};function Dl(e,t,n,r){e.on("element.changed",(function(r){var i=r.element;(i.parent||i===t.getRootElement())&&(r.gfx=n.getGraphics(i)),r.gfx&&e.fire(wn(i)+".changed",r)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),r.updateContainments(n)})),e.on("shape.changed",(function(e){r.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){r.update("connection",e.element,e.gfx)}))}Dl.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var Rl={__init__:["changeSupport"],changeSupport:["type",Dl]};function Il(e,t,n,r){this._dragging=r,this._rules=t;var i=this;function o(e,t){var n,r=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var r=n.x,i=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+i,o.height=e.height-i):-1!==t.indexOf("s")&&(o.height=e.height+i),-1!==t.indexOf("e")?o.width=e.width+r:-1!==t.indexOf("w")&&(o.x=e.x+r,o.width=e.width-r),o}(r,o,t),e.newBounds=function(e,t){if(!t)return e;var n=co(e);return lo({top:Lc("top",n,t),right:Lc("right",n,t),bottom:Lc("bottom",n,t),left:Lc("left",n,t)})}(n,a),e.canExecute=i.canResize(e)}e.on("resize.start",(function(e){!function(e){var t=e.resizeConstraints,n=e.minBounds;void 0===t&&(void 0===n&&(n=i.computeMinResizeBox(e)),e.resizeConstraints={min:co(n)})}(e.context)})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};o(e.context,t)})),e.on("resize.end",(function(e){!function(e){var t=e.shape,r=e.canExecute,i=e.newBounds;if(r){if(!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(t,i=so(i)))return;n.resizeShape(t,i)}}(e.context)}))}function Ll(e,t){var n=po(e),r=co(e),i={x:n.x,y:n.y};return-1!==t.indexOf("n")?i.y=r.top:-1!==t.indexOf("s")&&(i.y=r.bottom),-1!==t.indexOf("e")?i.x=r.right:-1!==t.indexOf("w")&&(i.x=r.left),i}function Bl(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}Il.prototype.canResize=function(e){var t=this._rules,n=(0,mt.ei)(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},Il.prototype.activate=function(e,t,n){var r,i,o=this._dragging;if("string"===typeof n&&(n={direction:n}),!(i=(r=(0,mt.f0)({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,Ll(t,i),"resize",{autoActivate:!0,cursor:Bl(i),data:{shape:t,context:r}})},Il.prototype.computeMinResizeBox=function(e){var t=e.shape;return function(e,t,n,r){var i=co(t),o={top:/n/.test(e)?i.bottom-n.height:i.top,left:/w/.test(e)?i.right-n.width:i.left,bottom:/s/.test(e)?i.top+n.height:i.bottom,right:/e/.test(e)?i.left+n.width:i.right},a=r?co(r):o;return lo({top:Dc(o.top,a.top),left:Dc(o.left,a.left),bottom:Nc(o.bottom,a.bottom),right:Nc(o.right,a.right)})}(e.direction,t,e.minDimensions||{width:10,height:10},zc(t,e.childrenBoxPadding))},Il.$inject=["eventBus","rules","modeling","dragging"];var Fl="djs-resizing",zl="resize-not-ok";function Vl(e,t,n){e.on("resize.move",500,(function(e){!function(e){var r=e.shape,i=e.newBounds,o=e.frame;o||(o=e.frame=n.addFrame(r,t.getDefaultLayer()),t.addMarker(r,Fl)),i.width>5&&St(o,{x:i.x,width:i.width}),i.height>5&&St(o,{y:i.y,height:i.height}),e.canExecute?Ct(o).remove(zl):Ct(o).add(zl)}(e.context)})),e.on("resize.cleanup",(function(e){!function(e){var n=e.shape;e.frame&&Mt(e.frame),t.removeMarker(n,Fl)}(e.context)}))}Vl.$inject=["eventBus","canvas","previewSupport"];var Hl=-6,$l="djs-resizer",Gl=["n","w","s","e","nw","ne","se","sw"];function Ul(e,t,n,r){this._resize=r,this._canvas=t;var i=this;e.on("selection.changed",(function(e){var t=e.newSelection;i.removeResizers(),1===t.length&&(0,mt.Ed)(t,(0,mt.ak)(i.addResizer,i))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(i.removeResizers(),i.addResizer(t))}))}Ul.prototype.makeDraggable=function(e,t,n){var r=this._resize;function i(t){So(t)&&r.activate(t,e,n)}gt.B.bind(t,"mousedown",i),gt.B.bind(t,"touchstart",i)},Ul.prototype._createResizer=function(e,t,n,r){var i=this._getResizersParent(),o=function(e){var t={x:0,y:0};-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=Hl);-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=Hl);return t}(r),a=Lt("g");Ct(a).add($l),Ct(a).add("djs-resizer-"+e.id),Ct(a).add("djs-resizer-"+r),wt(i,a);var s=Lt("rect");St(s,{x:-2+o.x,y:-2+o.y,width:4,height:4}),Ct(s).add("djs-resizer-visual"),wt(a,s);var u=Lt("rect");return St(u,{x:-10+o.x,y:-10+o.y,width:20,height:20}),Ct(u).add("djs-resizer-hit"),wt(a,u),Qn(a,t,n),a},Ul.prototype.createResizer=function(e,t){var n=Ll(e,t),r=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,r,t)},Ul.prototype.addResizer=function(e){var t=this;this._resize.canResize({shape:e})&&(0,mt.Ed)(Gl,(function(n){t.createResizer(e,n)}))},Ul.prototype.removeResizers=function(){At(this._getResizersParent())},Ul.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Ul.$inject=["eventBus","canvas","selection","resize"];var Wl={__depends__:[gs,ds,Mu],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Il],resizePreview:["type",Vl],resizeHandles:["type",Ul]};function Xl(e,t){var n=t.create("bpmn:CategoryValue"),r=t.create("bpmn:Category",{categoryValue:[n]});return(0,Pn.IH)(e.get("rootElements"),r),(0,Pi.getBusinessObject)(r).$parent=e,(0,Pi.getBusinessObject)(n).$parent=r,n}function Zl(e,t,n,r,i,o,a){function s(e,t){(t||(0,$a.J)(e,["bpmn:Task","bpmn:TextAnnotation","bpmn:Group"])||ql(e))&&r.activate(e)}this._bpmnFactory=t,this._canvas=n,this._modeling=i,this._textRenderer=a,r.registerProvider(this),e.on("element.dblclick",(function(e){s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],(function(e){r.isActive()&&r.complete()})),e.on(["commandStack.changed"],(function(e){r.isActive()&&r.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,r=e.context.canExecute;e.isTouch||r&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))})),e.on("autoPlace.end",500,(function(e){s(e.shape)}))}function ql(e){return(0,Pi.is)(e,"bpmn:SubProcess")&&!(0,Oi.ul)(e)}Zl.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Zl.prototype.activate=function(e){var t=ji(e);if(void 0!==t){var n={text:t},r=this.getEditingBBox(e);(0,mt.f0)(n,r);var i={};return((0,$a.J)(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||ql(e))&&(0,mt.f0)(i,{centerVertically:!0}),qi(e)&&(0,mt.f0)(i,{autoResize:!0}),(0,Pi.is)(e,"bpmn:TextAnnotation")&&(0,mt.f0)(i,{resizable:!0,autoResize:!0}),(0,mt.f0)(n,{options:i}),n}},Zl.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,r=t.getAbsoluteBBox(n),i=r.x+r.width/2,o=r.y+r.height/2,a={x:r.x,y:r.y},s=t.zoom(),u=this._textRenderer.getDefaultStyle(),c=this._textRenderer.getExternalStyle(),l=c.fontSize*s,p=c.lineHeight,f=u.fontSize*s,d=u.lineHeight,h={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};((0,Pi.is)(e,"bpmn:Lane")||function(e){return(0,Pi.is)(e,"bpmn:Participant")&&(0,Oi.ul)(e)}(e))&&((0,mt.f0)(a,{width:r.height,height:30*s,x:r.x-r.height/2+15*s,y:o-30*s/2}),(0,mt.f0)(h,{fontSize:f+"px",lineHeight:d,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:"rotate(-90deg)"})),((0,$a.J)(e,["bpmn:Task","bpmn:CallActivity"])||function(e){return(0,Pi.is)(e,"bpmn:Participant")&&!(0,Oi.ul)(e)}(e)||ql(e))&&((0,mt.f0)(a,{width:r.width,height:r.height}),(0,mt.f0)(h,{fontSize:f+"px",lineHeight:d,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),function(e){return(0,Pi.is)(e,"bpmn:SubProcess")&&(0,Oi.ul)(e)}(e)&&((0,mt.f0)(a,{width:r.width,x:r.x}),(0,mt.f0)(h,{fontSize:f+"px",lineHeight:d,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var y=90*s,v=7*s,m=4*s;if(n.labelTarget&&((0,mt.f0)(a,{width:y,height:r.height+v+m,x:i-y/2,y:r.y-v}),(0,mt.f0)(h,{fontSize:l+"px",lineHeight:p,paddingTop:v+"px",paddingBottom:m+"px"})),qi(n)&&!Yi(n)&&!Qi(n)){var g=Ji(e),b=t.getAbsoluteBBox({x:g.x,y:g.y,width:0,height:0}),x=l+v+m;(0,mt.f0)(a,{width:y,height:x,x:b.x-y/2,y:b.y-x/2}),(0,mt.f0)(h,{fontSize:l+"px",lineHeight:p,paddingTop:v+"px",paddingBottom:m+"px"})}return(0,Pi.is)(e,"bpmn:TextAnnotation")&&((0,mt.f0)(a,{width:r.width,height:r.height,minWidth:30*s,minHeight:10*s}),(0,mt.f0)(h,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:f+"px",lineHeight:d})),{bounds:a,style:h}},Zl.prototype.update=function(e,t,n,r){var i,o,a;if(((0,Pi.is)(e,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(e),i={x:e.x,y:e.y,width:e.width/o.width*r.width,height:e.height/o.height*r.height}),(0,Pi.is)(e,"bpmn:Group"))&&!(0,Pi.getBusinessObject)(e).categoryValueRef){var s=this._canvas.getRootElement(),u=Xl((0,Pi.getBusinessObject)(s).$parent,this._bpmnFactory);(0,Pi.getBusinessObject)(e).categoryValueRef=u}(a=t)&&a.trim()||(t=null),this._modeling.updateLabel(e,t,i)};var Yl="djs-element-hidden",Kl="djs-label-hidden";function Jl(e,t,n,r){var i,o,a,s=this,u=t.getDefaultLayer();e.on("directEditing.activate",(function(e){var n=e.active;if(i=n.element.label||n.element,(0,Pi.is)(i,"bpmn:TextAnnotation")){o=t.getAbsoluteBBox(i),a=Lt("g");var c=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:i.height,position:{mx:0,my:0}}),l=s.path=Lt("path");St(l,{d:c,strokeWidth:2,stroke:Ql(i)}),wt(a,l),wt(u,a),er(a,i.x,i.y)}(0,Pi.is)(i,"bpmn:TextAnnotation")||i.labelTarget?t.addMarker(i,Yl):((0,Pi.is)(i,"bpmn:Task")||(0,Pi.is)(i,"bpmn:CallActivity")||(0,Pi.is)(i,"bpmn:SubProcess")||(0,Pi.is)(i,"bpmn:Participant"))&&t.addMarker(i,Kl)})),e.on("directEditing.resize",(function(e){if((0,Pi.is)(i,"bpmn:TextAnnotation")){var t=e.height,n=e.dy,a=Math.max(i.height/o.height*(t+n),0),u=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:a,position:{mx:0,my:0}});St(s.path,{d:u})}})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,Yl),t.removeMarker(i,Kl)),i=void 0,o=void 0,a&&(Mt(a),a=void 0)}))}function Ql(e,t){return(0,Pi.getBusinessObject)(e).di.get("stroke")||t||"black"}Jl.$inject=["eventBus","canvas","elementRegistry","pathMap"];var ep={__depends__:[Rl,Wl,Su],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Zl],labelEditingPreview:["type",Jl]},tp=["top","bottom","left","right"],np=10;function rp(e,t){function n(e){if(Yi(e)){var n=function(e){var t=po(e.label),n=ip(po(e),t);if(r=n,-1===tp.indexOf(r))return;var r;var i=function(e){var t=po(e),n=[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return ip(t,e)}));return n}(e);if(e.host){var o=function(e){var t,n=e.host,r=fo(po(e),n);t=r.indexOf("-")>=0?r.split("-"):[r];return tp.filter((function(e){return-1===t.indexOf(e)}))}(e);i=i.concat(o)}var a=tp.filter((function(e){return-1===i.indexOf(e)}));if(-1!==a.indexOf(n))return;return a[0]}(e);n&&function(e,n){var r=po(e),i=e.label,o=po(i);if(!i.parent)return;var a,s=co(e);switch(n){case"top":a={x:r.x,y:s.top-np-i.height/2};break;case"left":a={x:s.left-np-i.width/2,y:r.y};break;case"bottom":a={x:r.x,y:s.bottom+np+i.height/2};break;case"right":a={x:s.right+np+i.width/2,y:r.y}}var u=ga(a,o);t.moveShape(i,u)}(e,n)}}es.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context.connection,r=t.source,i=t.target;n(r),n(i)})),this.postExecuted(["label.create"],(function(e){n(e.context.shape.labelTarget)})),this.postExecuted(["elements.create"],(function(e){e.context.elements.forEach((function(e){n(e)}))}))}function ip(e,t){return fo(t,e,5)}function op(e,t,n){es.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||((0,Pi.is)(n,"bpmn:TextAnnotation")?e.position={x:t.x+t.width/2+75,y:t.y-50-n.height/2}:e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}function ap(e,t){e.invoke(es,this),this.postExecute("shape.move",(function(e){var n=e.newParent,r=e.shape,i=(0,mt.hX)(r.incoming.concat(r.outgoing),(function(e){return(0,Pi.is)(e,"bpmn:Association")}));(0,mt.Ed)(i,(function(e){t.moveConnection(e,{x:0,y:0},n)}))}),!0)}yt()(rp,es),rp.$inject=["eventBus","modeling"],yt()(op,es),op.$inject=["eventBus","elementFactory","bpmnRules"],yt()(ap,es),ap.$inject=["injector","modeling"];function sp(e,t){t.invoke(es,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;1===(t=t.filter((function(e){return up(e,e.host)}))).length&&t.map((function(e){return t.indexOf(e)})).forEach((function(r){var i=t[r];e.elements[r]=n.replaceShape(t[r],i)}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,r=e.newHost;if(1===t.length){var i=t[0];up(i,r)&&(e.shapes=[n.replaceShape(i,r)])}}),!0)}function up(e,t){return!Qi(e)&&(0,$a.J)(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function cp(e,t){function n(e){return(0,mt.hX)(e.attachers,(function(e){return(0,Pi.is)(e,"bpmn:BoundaryEvent")}))}es.call(this,e),this.postExecute("connection.create",(function(e){var r=e.context.source,i=e.context.target,o=n(i);(0,Pi.is)(r,"bpmn:EventBasedGateway")&&(0,Pi.is)(i,"bpmn:ReceiveTask")&&o.length>0&&t.removeElements(o)})),this.postExecute("connection.reconnect",(function(e){var r=e.context.oldSource,i=e.context.newSource;(0,Pi.is)(r,"bpmn:Gateway")&&(0,Pi.is)(i,"bpmn:EventBasedGateway")&&(0,mt.Ed)(i.outgoing,(function(e){var r=e.target,i=n(r);(0,Pi.is)(r,"bpmn:ReceiveTask")&&i.length>0&&t.removeElements(i)}))}))}function lp(e){e.invoke(es,this),this.preExecute("shape.create",1500,(function(e){var t=e.context,n=t.parent;(0,Pi.is)(n,"bpmn:Lane")&&(t.parent=(0,$a.G)(n,"bpmn:Participant"))}))}sp.$inject=["bpmnReplace","injector"],yt()(sp,es),sp.prototype.replaceShape=function(e,t){var n=function(e){var t=(0,Pi.getBusinessObject)(e).eventDefinitions;return t&&t[0]}(e),r={type:"bpmn:BoundaryEvent",host:t};return n&&(r.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(e,r,{layoutConnection:!1})},cp.$inject=["eventBus","modeling"],yt()(cp,es),lp.$inject=["injector"],yt()(lp,es);var pp=1500;function fp(e,t,n){t.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],pp,(function(t){var r=t.context.shape||t.shape,i=t.hover;(0,Pi.is)(i,"bpmn:Lane")&&!(0,$a.J)(r,["bpmn:Lane","bpmn:Participant"])&&(t.hover=Wc(i),t.hoverGfx=e.getGraphics(t.hover));var o=n.getRootElement();i!==o&&(r.labelTarget||(0,Pi.is)(r,"bpmn:Group"))&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],pp,(function(t){var n=t.hover;(0,Pi.is)(n,"bpmn:Lane")&&(t.hover=Wc(n)||n,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["bendpoint.move.hover"],pp,(function(t){var n=t.context,r=t.hover,i=n.type;(0,Pi.is)(r,"bpmn:Lane")&&/reconnect/.test(i)&&(t.hover=Wc(r)||r,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.start"],pp,(function(e){var t=e.context,n=t.start;(0,Pi.is)(n,"bpmn:Lane")&&(t.start=Wc(n)||n)})),t.on("shape.move.start",2e3,(function(e){var t=e.shape;(0,Pi.is)(t,"bpmn:Lane")&&(e.shape=Wc(t)||t)}))}function dp(e,t,n){es.call(this,e),this.preExecute("shape.create",(function(e){var n=e.context.shape;if((0,Pi.is)(n,"bpmn:DataObjectReference")&&"label"!==n.type){var r=t.create("bpmn:DataObject");n.businessObject.dataObjectRef=r}}))}fp.$inject=["elementRegistry","eventBus","canvas"],dp.$inject=["eventBus","bpmnFactory","moddle"],yt()(dp,es);var hp=20,yp=20,vp=2e3;function mp(e,t,n){function r(t){var r,i=t.parent,o=e.getRootElement();(0,Pi.is)(o,"bpmn:Collaboration")?r=o:(r=n.makeCollaboration(),t.process=i),t.parent=r}es.call(this,t),t.on(["create.start","shape.move.start"],vp,(function(t){var n=t.context,r=n.shape,i=e.getRootElement();if((0,Pi.is)(r,"bpmn:Participant")&&(0,Pi.is)(i,"bpmn:Process")&&i.children.length){var o=i.children.filter((function(e){return!(0,Pi.is)(e,"bpmn:Group")&&!Qi(e)&&!function(e){return!!e.waypoints}(e)}));if(o.length){var a=xn(o),s=function(e,t){t={width:t.width+40+30,height:t.height+40};var n=Math.max(e.width,t.width),r=Math.max(e.height,t.height);return{x:-n/2,y:-r/2,width:n,height:r}}(r,a);(0,mt.f0)(r,s),n.createConstraints=function(e,t){return{bottom:(t=co(t)).top+e.height/2-yp,left:t.right-e.width/2+hp,top:t.bottom-e.height/2+yp,right:t.left+e.width/2-hp-30}}(r,a)}}})),t.on("create.start",vp,(function(n){var r=n.context.shape,i=e.getRootElement(),o=e.getGraphics(i);function a(e){e.element=i,e.gfx=o}(0,Pi.is)(r,"bpmn:Participant")&&(0,Pi.is)(i,"bpmn:Process")&&(t.on("element.hover",vp,a),t.once("create.cleanup",(function(){t.off("element.hover",a)})))})),this.preExecute("shape.create",(function(e){var t=e.parent,n=e.shape;(0,Pi.is)(n,"bpmn:Participant")&&(0,Pi.is)(t,"bpmn:Process")&&r(e)}),!0),this.execute("shape.create",(function(e){var t=e.process,n=e.shape;t&&(e.oldProcessRef=n.businessObject.processRef,n.businessObject.processRef=t.businessObject)}),!0),this.revert("shape.create",(function(e){var t=e.process,n=e.shape;t&&(n.businessObject.processRef=e.oldProcessRef)}),!0),this.postExecute("shape.create",(function(e){var t=e.process,r=e.shape;if(t){var i=t.children.slice();n.moveElements(i,{x:0,y:0},r)}}),!0),this.preExecute("elements.create",vp,(function(e){var t,n=e.elements,i=e.parent;gp(n)&&(0,Pi.is)(i,"bpmn:Process")&&(r(e),t=gp(n),e.oldProcessRef=t.businessObject.processRef,t.businessObject.processRef=i.businessObject)}),!0),this.revert("elements.create",(function(e){var t=e.elements;e.process&&(gp(t).businessObject.processRef=e.oldProcessRef)}),!0),this.postExecute("elements.create",(function(e){var t,r=e.elements,i=e.process;if(i){t=gp(r);var o=i.children.slice();n.moveElements(o,{x:0,y:0},t)}}),!0)}function gp(e){return(0,mt.sE)(e,(function(e){return(0,Pi.is)(e,"bpmn:Participant")}))}mp.$inject=["canvas","eventBus","modeling"],yt()(mp,es);var bp="__targetRef_placeholder";function xp(e,t){function n(e,n){var r=e.get("properties"),i=(0,mt.sE)(r,(function(e){return e.name===bp}));return!i&&n&&(i=t.create("bpmn:Property",{name:bp}),(0,Pn.IH)(r,i)),i}function r(e,t){var r=n(e);r&&(function(e,t,n){var r=e.get("dataInputAssociations");return(0,mt.sE)(r,(function(e){return e!==n&&e.targetRef===t}))}(e,r,t)||(0,Pn.Od)(e.get("properties"),r))}function i(e){var t,i=e.context,o=i.connection,a=o.businessObject,s=o.target,u=s&&s.businessObject,c=i.newTarget,l=c&&c.businessObject,p=i.oldTarget||i.target,f=p&&p.businessObject,d=o.businessObject;f&&f!==u&&r(f,a),l&&l!==u&&r(l,a),u?(t=n(u,!0),d.targetRef=t):d.targetRef=null}es.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],wp(i)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],wp(i))}function wp(e){return function(t){var n=t.context.connection;if((0,Pi.is)(n,"bpmn:DataInputAssociation"))return e(t)}}function Ep(e){this._bpmnUpdater=e}function _p(e,t,n,r){function i(e){return e.children.filter((function(e){return(0,Pi.is)(e,"bpmn:DataStoreReference")&&!e.labelTarget}))}function o(e,r){var i=e.businessObject||e;if(r=r||n.filter((function(e){return(0,Pi.is)(e,"bpmn:Participant")}))[0]){var o=r.businessObject||r;t.execute("dataStore.updateContainment",{dataStoreBo:i,newSemanticParent:o.processRef||o,newDiParent:o.di})}}es.call(this,r),t.registerHandler("dataStore.updateContainment",Ep),this.preExecute("shape.create",(function(e){var t=e.context,n=t.shape;(0,Pi.is)(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(t.hints||(t.hints={}),t.hints.autoResize=!1)})),this.preExecute("elements.move",(function(e){var t=e.context,n=t.shapes;n.filter((function(e){return(0,Pi.is)(e,"bpmn:DataStoreReference")})).length&&(t.hints||(t.hints={}),t.hints.autoResize=n.filter((function(e){return!(0,Pi.is)(e,"bpmn:DataStoreReference")})))})),this.postExecute("shape.create",(function(e){var t=e.context.shape,n=t.parent;(0,Pi.is)(t,"bpmn:DataStoreReference")&&"label"!==t.type&&(0,Pi.is)(n,"bpmn:Collaboration")&&o(t)})),this.postExecute("shape.move",(function(e){var t=e.context,n=t.shape,r=t.oldParent,i=n.parent;if(!(0,Pi.is)(r,"bpmn:Collaboration")&&(0,Pi.is)(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(0,Pi.is)(i,"bpmn:Collaboration")){var a=(0,Pi.is)(r,"bpmn:Participant")?r:function(e,t){for(;e.parent;){if((0,Pi.is)(e.parent,t))return e.parent;e=e.parent}}(r,"bpmn:Participant");o(n,a)}})),this.postExecute("shape.delete",(function(t){var n=t.context.shape,r=e.getRootElement();(0,$a.J)(n,["bpmn:Participant","bpmn:SubProcess"])&&(0,Pi.is)(r,"bpmn:Collaboration")&&i(r).filter((function(e){return function(e,t){var n=e.businessObject||e,r=t.businessObject||t;for(;n.$parent;){if(n.$parent===r.processRef||r)return!0;n=n.$parent}return!1}(e,n)})).forEach((function(e){o(e)}))})),this.postExecute("canvas.updateRoot",(function(e){var t=e.context,n=t.oldRoot,r=t.newRoot;i(n).forEach((function(e){(0,Pi.is)(r,"bpmn:Process")&&o(e,r)}))}))}xp.$inject=["eventBus","bpmnFactory"],yt()(xp,es),Ep.$inject=["bpmnUpdater"],Ep.prototype.execute=function(e){var t=e.dataStoreBo,n=e.newSemanticParent,r=e.newDiParent;e.oldSemanticParent=t.$parent,e.oldDiParent=t.di.$parent,this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(t.di,r)},Ep.prototype.revert=function(e){var t=e.dataStoreBo,n=e.oldSemanticParent,r=e.oldDiParent;this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(t.di,r)},_p.$inject=["canvas","commandStack","elementRegistry","eventBus"],yt()(_p,es);function Sp(e,t,n){es.call(this,e),this.postExecuted("shape.delete",500,(function(e){var t=e.context,r=t.hints,i=t.shape,o=t.oldParent;(0,Pi.is)(i,"bpmn:Lane")&&(r&&r.nested||function(e,t){var r,i,o,a=Uc(t),s=[],u=[];mn(a,(function(t){return t.y>e.y?u.push(t):s.push(t),t.children})),a.length&&(r=u.length&&s.length?e.height/2:e.height,s.length&&(i=n.calculateAdjustments(s,"y",r,e.y-10),n.makeSpace(i.movingShapes,i.resizingShapes,{x:0,y:r},"s")),u.length&&(o=n.calculateAdjustments(u,"y",-r,e.y+e.height+10),n.makeSpace(o.movingShapes,o.resizingShapes,{x:0,y:-r},"n")))}(i,o))}))}Sp.$inject=["eventBus","modeling","spaceTool"],yt()(Sp,es);function Op(e,t){t.invoke(es,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;t.filter((function(e){return Pp(e,e.host)})).map((function(e){return t.indexOf(e)})).forEach((function(r){e.elements[r]=n.replaceShape(t[r])}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,r=e.newHost;t.forEach((function(e,i){var o=e.host;Pp(e,function(e,t){return-1!==e.indexOf(t)}(t,o)?o:r)&&(t[i]=n.replaceShape(e))}))}),!0)}function Pp(e,t){return!Qi(e)&&(0,Pi.is)(e,"bpmn:BoundaryEvent")&&!t}function kp(e,t,n){function r(e,r,i){var o,a,s,u,c,l,p,f,d=r.waypoints,h=e.outgoing.slice(),y=e.incoming.slice(),v=ws(d,f=(0,mt.hj)(i.width)?po(i):i);if(v){if(o=d.slice(0,v.index),a=d.slice(v.index+(v.bendpoint?1:0)),!o.length||!a.length)return;s=v.bendpoint?d[v.index]:f,jp(e,o[o.length-1])||o.push(Cp(s)),jp(e,a[0])||a.unshift(Cp(s))}u=r.source,c=r.target,t.canConnect(u,e,r)&&(n.reconnectEnd(r,e,o||f),l=r),t.canConnect(e,c,r)&&(l?p=n.connect(e,c,{type:r.type,waypoints:a}):(n.reconnectStart(r,e,a||f),p=r));var m=[].concat(l&&(0,mt.hX)(y,(function(e){return e.source===l.source}))||[],p&&(0,mt.hX)(h,(function(e){return e.source===p.source}))||[]);m.length&&n.removeElements(m)}es.call(this,e),this.preExecute("elements.move",(function(e){var n=e.newParent,r=e.shapes,i=e.delta,o=r[0];if(o&&n){n&&n.waypoints&&(e.newParent=n=n.parent);var a=po(o),s={x:a.x+i.x,y:a.y+i.y},u=(0,mt.sE)(n.children,(function(e){return t.canInsert(r,e)&&ws(e.waypoints,s)}));u&&(e.targetFlow=u,e.position=s)}}),!0),this.postExecuted("elements.move",(function(e){var t=e.shapes,n=e.targetFlow,i=e.position;n&&r(t[0],n,i)}),!0),this.preExecute("shape.create",(function(e){var n=e.parent,r=e.shape;t.canInsert(r,n)&&(e.targetFlow=n,e.parent=n.parent)}),!0),this.postExecuted("shape.create",(function(e){var t=e.shape,n=e.targetFlow,i=e.position;n&&r(t,n,i)}),!0)}function jp(e,t){var n=t.x,r=t.y;return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function Cp(e){return(0,mt.f0)({},e)}function Tp(e,t){es.call(this,e),this.preExecuted("connection.create",(function(e){var n=e.context,r=n.source,i=n.target,o=i.incoming.slice();n.hints&&!1===n.hints.createElementsBehavior||(0,Pi.is)(r,"bpmn:EventBasedGateway")&&i.incoming.length&&o.filter(Mp).forEach((function(e){t.removeConnection(e)}))})),this.preExecuted("shape.replace",(function(e){var n,r=e.context.newShape;(0,Pi.is)(r,"bpmn:EventBasedGateway")&&(n=r.outgoing.filter(Mp).map((function(e){return e.target})),n.reduce((function(e,t){var n=t.incoming.filter(Mp);return e.concat(n)}),[]).forEach((function(e){e.source!==r&&t.removeConnection(e)})))}))}function Mp(e){return(0,Pi.is)(e,"bpmn:SequenceFlow")}Op.$inject=["bpmnReplace","injector"],yt()(Op,es),Op.prototype.replaceShape=function(e){var t,n=function(e){var t=(0,Pi.getBusinessObject)(e).eventDefinitions;return t&&t[0]}(e);return t=n?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:n.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,t,{layoutConnection:!1})},yt()(kp,es),kp.$inject=["eventBus","bpmnRules","modeling"],Tp.$inject=["eventBus","modeling"],yt()(Tp,es);function Ap(e,t,n,r,i,o){function a(){var e=t.getRootElement();return(0,Pi.getBusinessObject)(e).$parent}function s(e){var t=(0,Pi.getBusinessObject)(e).categoryValueRef;if(t){var n=t.$parent;t&&((0,Pn.Od)(n.categoryValue,t),n&&!n.categoryValue.length&&function(e){var t=a();(0,Pn.Od)(t.get("rootElements"),e)}(n))}}i.invoke(es,this),this.executed("shape.delete",(function(e){var t,r=e.context.shape;if((0,Pi.is)(r,"bpmn:Group")){var i=(0,Pi.getBusinessObject)(r).categoryValueRef,o=n.filter((function(e){return(0,Pi.is)(e,"bpmn:Group")}));t=i,o.some((function(e){var n=(0,Pi.getBusinessObject)(e);return n.categoryValueRef&&n.categoryValueRef===t}))||s(r)}})),this.reverted("shape.delete",(function(e){var t=e.context.shape;if((0,Pi.is)(t,"bpmn:Group")){var n=(0,Pi.getBusinessObject)(t).categoryValueRef,r=a(),i=n?n.$parent:null;(0,Pn.IH)(i.get("categoryValue"),n),(0,Pn.IH)(r.get("rootElements"),i)}})),this.execute("shape.create",(function(t){var n=t.context.shape,r=(0,Pi.getBusinessObject)(n);if((0,Pi.is)(r,"bpmn:Group")&&!r.categoryValueRef){var i=Xl(a(),e);r.categoryValueRef=i}})),this.revert("shape.create",(function(e){var t=e.context.shape;(0,Pi.is)(t,"bpmn:Group")&&(s(t),delete(0,Pi.getBusinessObject)(t).categoryValueRef)})),r.on("moddleCopy.canCopyProperty",2e3,(function(t){var n,r=t.property;if((0,Pi.is)(r,"bpmn:CategoryValue"))return n=Xl(a(),e),o.copyElement(r,n)}))}function Np(e,t,n,r){var i,o,a,s;return 0==(i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((r.x-n.x)*o-(r.y-n.y)*a)/i,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function Dp(e){function t(e,t,n){var r,i={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=Np(e,t,n,i),s=Np(e,t,n,o);r=a&&s?Rp(a,n)>Rp(s,n)?s:a:a||s,e.original=r}e.on("bpmnElement.added",(function(e){var n=e.element;n.waypoints&&function(e){var n=e.waypoints;t(n[0],n[1],po(e.source)),t(n[n.length-1],n[n.length-2],po(e.target))}(n)}))}function Rp(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ip(e){es.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],(function(e){var n=(0,Pi.getBusinessObject)(e.context.shape);(0,$a.J)(n,t)&&!n.di.get("isHorizontal")&&n.di.set("isHorizontal",!0)}))}function Lp(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function Bp(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function Fp(e,t){var n=t[0],r=t[1],i={x:r.x-n.x,y:r.y-n.y},o=function(e,t,n){var r=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(r[0].n*t[0]+r[1].n*t[1])/(r[0].lambda*t[0]+r[1].lambda*t[1])}([n.x,n.y],[i.x,i.y],[e.x,e.y]);return{x:n.x+o*i.x,y:n.y+o*i.y}}function zp(e,t){var n=Fp(e,t);return Lp({x:n.x-e.x,y:n.y-e.y})}function Vp(e,t){return Lp({x:e.x-t.x,y:e.y-t.y})}Ap.$inject=["bpmnFactory","canvas","elementRegistry","eventBus","injector","moddleCopy"],yt()(Ap,es),Dp.$inject=["eventBus"],Ip.$inject=["eventBus"],yt()(Ip,es);var Hp=Math.sqrt,$p=Math.min,Gp=Math.max,Up=Math.abs;function Wp(e){return Math.pow(e,2)}function Xp(e,t){return Hp(Wp(e.x-t.x)+Wp(e.y-t.y))}function Zp(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=i*i+o*o,c=(i*a+o*s)/u,l=c*c-(a*a+s*s-r*r)/u;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=Hp(l),f=-c+p,d=-c-p,h={x:e.x-i*f,y:e.y-o*f};return 0===l?[h]:[h,{x:e.x-i*d,y:e.y-o*d}].filter((function(n){return function(e,t,n){return qp(e.x,t.x,n.x)&&qp(e.y,t.y,n.y)}(n,e,t)}))}function qp(e,t,n){return e>=$p(t,n)-Yp&&e<=Gp(t,n)+Yp}var Yp=.1;function Kp(e,t){return Up(e.x-t.x)<=Yp&&Up(e.y-t.y)<=Yp}function Jp(e,t,n,r){var i=0,o=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=function(e,t){var n,r,i,o,a,s,u,c,l,p,f,d,h=0;for(h=0;h<t.length-1;h++){if(Kp(n=t[h],r=t[h+1])?s=[n]:(i=Xp(e,n),o=Xp(e,r),s=Zp(n,r,e,$p(i,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(u={type:"bendpoint",position:s[0],segmentIndex:h,bendpointIndex:Kp(n,s[0])?h:h+1}),2===s.length&&(f=s[0],d=s[1],u={type:"segment",position:a={x:(f.x+d.x)/2,y:(f.y+d.y)/2},segmentIndex:h,relativeLocation:Xp(n,a)/Xp(n,r)}),c=Xp(u.position,e),(!p||l>c)&&(p=u,l=c)}return p}(a,n),u=s.segmentIndex,c=function(e,t,n,r){var i=n.segmentIndex,o=t.length-e.length;if(r.segmentMove){var a=r.segmentMove.segmentStartIndex,s=r.segmentMove.newSegmentStartIndex;return i===a?s:i>=s?i+o<s?s:i+o:i}if(r.bendpointMove){var u,c=r.bendpointMove.insert,l=r.bendpointMove.bendpointIndex;return 0===o?i:(i>=l&&(u=c?i+1:i-1),i<l&&(u=i,c&&"bendpoint"!==n.type&&l-1===i&&Qp(t,l)<n.relativeLocation&&u++),u)}return 0===o?i:r.connectionStart?0===i?0:null:r.connectionEnd&&i===e.length-2?t.length-2:null}(n,t,s,r);if(null===c)return{x:i,y:o};if(c<0||c>t.length-2)return{x:i,y:o};var l=ef(n,u),p=ef(t,c),f=s.position,d=function(e,t){var n=Vp(e[0],e[1]),r=Vp(e[0],t);return 0===n?0:r/n}(l,f),h=function(e,t){var n=Bp(e);return Bp(t)-n}(l,p);if("bendpoint"===s.type){var y=t.length-n.length,v=s.bendpointIndex,m=n[v];if(-1!==t.indexOf(m))return{x:i,y:o};if(0===y){var g=t[v];return{x:g.x-s.position.x,y:g.y-s.position.y}}y<0&&0!==v&&v<n.length-1&&(d=Qp(n,v))}var b,x,w=(p[1].x-p[0].x)*d+p[0].x,E=(p[1].y-p[0].y)*d+p[0].y,_=(b={x:a.x-f.x,y:a.y-f.y},(x=h)?{x:Math.cos(x)*b.x-Math.sin(x)*b.y,y:Math.sin(x)*b.x+Math.cos(x)*b.y}:b);return uo({x:i=w+_.x-a.x,y:o=E+_.y-a.y})}function Qp(e,t){var n=Vp(e[t-1],e[t]);return n/(n+Vp(e[t],e[t+1]))}function ef(e,t){return[e[t],e[t+1]]}function tf(e,t,n){var r=ma(t),i=ma(n),o=ga(e,r),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return uo({x:i.x+a,y:i.y+s})}function nf(e,t,n){var r=ma(e),i=ma(t),o=ma(n),a=ga(e,r),s=ga(r,i),u=function(e,t,n){var r=co(t),i=co(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(r,i))return null;var o,a,s=fo(t,e);if("top"===s)o={x:0,y:i.bottom-r.bottom};else if("bottom"===s)o={x:0,y:i.top-r.top};else if("right"===s)o={x:i.left-r.left,y:0};else{if("left"!==s)return null;o={x:i.right-r.right,y:0}}if(a={x:e.x+o.x,y:e.y+o.y},fo(n,a)!==s)return null;return o}(r,t,n);if(u)return u;var c=s.x*(n.width/t.width),l=s.y*(n.height/t.height),p=o.x+c,f=o.y+l;return uo({x:p+a.x-e.x,y:f+a.y-e.y})}var rf={width:90,height:20},of="name",af="text";function sf(e,t,n,r){es.call(this,e),this.postExecute("element.updateProperties",(function(e){var n=e.context,i=n.element,o=n.properties;if(of in o&&t.updateLabel(i,o.name),af in o&&(0,Pi.is)(i,"bpmn:TextAnnotation")){var a=r.getTextAnnotationBounds({x:i.x,y:i.y,width:i.width,height:i.height},o.text||"");t.updateLabel(i,o.text,a)}})),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var i=n.shape||n.connection,o=i.businessObject;if(qi(i)&&ji(i)){var a=Ji(i),s=r.getExternalLabelBounds(rf,ji(i));t.createLabel(i,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}})),this.postExecute("shape.delete",(function(e){var n=e.context,r=n.labelTarget,i=n.hints||{};r&&!1!==i.unsetLabel&&t.updateLabel(r,null,null,{removeShape:!1})})),this.postExecute(["label.create"],(function(e){var t,r=e.context.shape;r.labelTarget&&(0,Pi.is)(r.labelTarget||r,"bpmn:BaseElement")&&((t=r.businessObject.di).label||(t.label=n.create("bpmndi:BPMNLabel",{bounds:n.create("dc:Bounds")})),(0,mt.f0)(t.label.bounds,{x:r.x,y:r.y,width:r.width,height:r.height}))})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n,r=e.context.connection.label;r&&r.parent&&(n=function(e){var t=e.context,n=t.connection,r=n.label,i=(0,mt.f0)({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return"undefined"===typeof i.startChanged&&(i.startChanged=!!i.connectionStart),"undefined"===typeof i.endChanged&&(i.endChanged=!!i.connectionEnd),Jp(r,o,a,i)}(e),t.moveShape(r,n))})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,r=t.oldShape,i=(0,Pi.getBusinessObject)(n);i&&qi(i)&&r.label&&n.label&&(n.label.x=r.label.x,n.label.y=r.label.y)})),this.postExecute("shape.resize",(function(e){var n,r=e.context,i=r.shape,o=r.newBounds,a=r.oldBounds;if(Yi(i)){var s=i.label,u=function(e,t){if(!t.length)return;var n=function(e,t){var n=t.map((function(t){return{line:t,distance:zp(e,t)}}));return(0,mt.MR)(n,"distance")[0].line}(e,t);return Fp(e,n)}(po(s),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),c=function(e,t,n){return uo(ga(tf(e,t,n),e))}(u,a,o);t.moveShape(s,c)}}))}yt()(sf,es),sf.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];var uf="flow elements must be children of pools/participants";function cf(e,t,n){function r(e,n,r){t.add({position:{x:e.x+5,y:e.y+5},type:"error",timeout:r||2e3,html:"<div>"+n+"</div>"})}e.on(["shape.move.rejected","create.rejected"],(function(e){var t=e.context,i=t.shape,o=t.target;(0,Pi.is)(o,"bpmn:Collaboration")&&(0,Pi.is)(i,"bpmn:FlowNode")&&r(e,n(uf))})),e.on(["elements.paste.rejected"],(function(e){var t=e.context,i=t.position,o=t.target;(0,Pi.is)(o,"bpmn:Collaboration")&&r(i,n(uf)),(0,Pi.is)(o,"bpmn:Process")&&r(i,n("participants cannot be pasted onto a non-empty process diagram"),3e3)}))}function lf(e,t,n,r){es.call(this,e);var i=r.get("dragging",!1);function o(e){var r,i,o=e.source,a=e.target;e.parent&&((0,Pi.is)(e,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(o,a)||(i=!0),n.canConnectMessageFlow(o,a)&&(r="bpmn:MessageFlow")),(0,Pi.is)(e,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(o,a)||(i=!0),n.canConnectSequenceFlow(o,a)&&(r="bpmn:SequenceFlow")),(0,Pi.is)(e,"bpmn:Association")&&!n.canConnectAssociation(o,a)&&(i=!0),i&&t.removeConnection(e),r&&t.connect(o,a,{type:r,waypoints:e.waypoints.slice()}))}this.postExecuted("elements.move",(function(e){var t=e.closure.allConnections;(0,mt.Ed)(t,o)}),!0),this.preExecute("connection.reconnect",(function(e){var r,o,a=e.context,s=a.connection,u=a.newSource||s.source,c=a.newTarget||s.target;(r=n.canConnect(u,c))&&r.type!==s.type&&(o=t.connect(u,c,{type:r.type,waypoints:s.waypoints.slice()}),t.removeConnection(s),a.connection=o,i&&function(e,t){var n,r=i.context(),o=r&&r.payload.previousSelection;if(!o||!o.length)return;if(-1===(n=o.indexOf(e)))return;o.splice(n,1,t)}(s,o))})),this.postExecuted("element.updateProperties",(function(e){var n,r=e.context,i=r.properties,o=r.element,a=o.businessObject;i.default&&(n=(0,mt.sE)(o.outgoing,(0,mt.KQ)({id:o.businessObject.default.id})))&&t.updateProperties(n,{conditionExpression:void 0}),i.conditionExpression&&a.sourceRef.default===a&&t.updateProperties(o.source,{default:void 0})}))}function pf(e,t){es.call(this,e),this.preExecute("shape.delete",(function(e){var t=e.shape,n=t.parent;(0,Pi.is)(t,"bpmn:Participant")&&(e.collaborationRoot=n)}),!0),this.postExecute("shape.delete",(function(e){var n=e.collaborationRoot;n&&!n.businessObject.participants.length&&t.makeProcess()}),!0)}function ff(e,t,n,r,i,o){r.invoke(es,this),this._bpmnReplace=e,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.move"],500,(function(e){var n=e.context,r=n.newParent,i=n.newHost,o=[];(0,mt.Ed)(n.closure.topLevel,(function(e){o=(0,Oi.J5)(e)?o.concat(e.children):o.concat(e)})),1===o.length&&i&&(r=i);var a=t.canReplace(o,r);a&&this.replaceElements(o,a.replacements,i)}),this),this.postExecute(["shape.replace"],1500,(function(e){var n,r=e.context,i=r.oldShape,o=r.newShape,a=i.attachers;a&&a.length&&(n=t.canReplace(a,o),this.replaceElements(a,n.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(e){var t=e.context,n=t.oldShape,r=t.newShape;i.unclaimId(n.businessObject.id,n.businessObject),i.updateProperties(r,{id:n.id})}))}cf.$inject=["eventBus","tooltips","translate"],yt()(lf,es),lf.$inject=["eventBus","modeling","bpmnRules","injector"],pf.$inject=["eventBus","modeling"],yt()(pf,es),yt()(ff,es),ff.prototype.replaceElements=function(e,t){var n=this._elementRegistry,r=this._bpmnReplace,i=this._selection;(0,mt.Ed)(t,(function(t){var i={type:t.newElementType},o=n.get(t.oldElementId),a=e.indexOf(o);e[a]=r.replaceElement(o,i,{select:!1})})),t&&i.select(e)},ff.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var df=Math.abs,hf=Math.min,yf=Math.max;function vf(e,t,n,r){var i=e[t];e[t]=void 0===i?n:r(n,i)}function mf(e,t,n){return vf(e,t,n,hf)}function gf(e,t,n){return vf(e,t,n,yf)}var bf={width:300,height:150},xf={width:140,height:120},wf={width:50,height:30};function Ef(e){e.on("resize.start",1500,(function(e){var t=e.context,n=t.shape,r=t.direction,i=t.balanced;((0,Pi.is)(n,"bpmn:Lane")||(0,Pi.is)(n,"bpmn:Participant"))&&(t.resizeConstraints=function(e,t,n){var r=Wc(e),i=!0,o=!0,a=Gc(r,[r]),s=co(e),u={},c={};/e/.test(t)?c.right=s.left+300:/w/.test(t)&&(c.left=s.right-300),a.forEach((function(e){var r=co(e);/n/.test(t)&&(r.top<s.top-10&&(i=!1),n&&df(s.top-r.bottom)<10&&gf(u,"top",r.top+60),df(s.top-r.top)<5&&mf(c,"top",r.bottom-60)),/s/.test(t)&&(r.bottom>s.bottom+10&&(o=!1),n&&df(s.bottom-r.top)<10&&mf(u,"bottom",r.bottom-60),df(s.bottom-r.bottom)<5&&gf(c,"bottom",r.top+60))}));var l=r.children.filter((function(e){return!e.hidden&&!e.waypoints&&((0,Pi.is)(e,"bpmn:FlowElement")||(0,Pi.is)(e,"bpmn:Artifact"))}));return l.forEach((function(e){var n=co(e);i&&/n/.test(t)&&mf(c,"top",n.top-20),/e/.test(t)&&gf(c,"right",n.right+20),o&&/s/.test(t)&&gf(c,"bottom",n.bottom+20),/w/.test(t)&&mf(c,"left",n.left-50)})),{min:c,max:u}}(n,r,i)),(0,Pi.is)(n,"bpmn:Participant")&&(t.minDimensions=bf),(0,Pi.is)(n,"bpmn:SubProcess")&&(0,Oi.ul)(n)&&(t.minDimensions=xf),(0,Pi.is)(n,"bpmn:TextAnnotation")&&(t.minDimensions=wf)}))}Ef.$inject=["eventBus"];function _f(e,t){e.on("resize.start",1501,(function(e){var t=e.context,n=t.shape;((0,Pi.is)(n,"bpmn:Lane")||(0,Pi.is)(n,"bpmn:Participant"))&&(t.balanced=!Oo(e))})),e.on("resize.end",1001,(function(e){var n=e.context,r=n.shape,i=n.canExecute,o=n.newBounds;if((0,Pi.is)(r,"bpmn:Lane")||(0,Pi.is)(r,"bpmn:Participant"))return i&&(o=so(o),t.resizeLane(r,o,n.balanced)),!1}))}function Sf(e,t,n){es.call(this,e),this.preExecute("shape.delete",(function(e){var r=e.context.shape;if(1===r.incoming.length&&1===r.outgoing.length){var i=r.incoming[0],o=r.outgoing[0];if((0,Pi.is)(i,"bpmn:SequenceFlow")&&(0,Pi.is)(o,"bpmn:SequenceFlow")&&t.canConnect(i.source,o.target,i)){var a=function(e,t){var n=Np(Of(e[e.length-2]),Of(e[e.length-1]),Of(t[1]),Of(t[0]));return n?[].concat(e.slice(0,e.length-1),[n],t.slice(1)):[Of(e[0]),Of(t[t.length-1])]}(i.waypoints,o.waypoints);n.reconnectEnd(i,o.target,a)}}}))}function Of(e){return e.original||e}function Pf(e,t){e.invoke(es,this),this.postExecuted("shape.replace",(function(e){var n=e.context.oldShape,r=e.context.newShape;if((0,Pi.is)(r,"bpmn:SubProcess")&&(0,Pi.is)(n,"bpmn:Task")&&(0,Oi.ul)(r)){var i,o={x:(i=r).x+i.width/6,y:i.y+i.height/2};t.createShape({type:"bpmn:StartEvent"},o,r)}}))}_f.$inject=["eventBus","modeling"],yt()(Sf,es),Sf.$inject=["eventBus","bpmnRules","modeling"],Pf.$inject=["injector","modeling"],yt()(Pf,es);function kf(e,t,n,r){es.call(this,e),this.executed(["shape.toggleCollapse"],500,(function(e){var t,n=e.context.shape;(0,Pi.is)(n,"bpmn:SubProcess")&&(n.collapsed?(0,Pi.getBusinessObject)(n).di.isExpanded=!1:((t=n.children).length&&t.forEach((function(e){"label"!==e.type||e.businessObject.name||(e.hidden=!0)})),(0,Pi.getBusinessObject)(n).di.isExpanded=!0))})),this.reverted(["shape.toggleCollapse"],500,(function(e){var t=e.context.shape;t.collapsed?(0,Pi.getBusinessObject)(t).di.isExpanded=!1:(0,Pi.getBusinessObject)(t).di.isExpanded=!0})),this.postExecuted(["shape.toggleCollapse"],500,(function(e){var r,i=e.context.shape,o=t._getDefaultSize(i);r=i.collapsed?function(e,t){return{x:e.x+(e.width-t.width)/2,y:e.y+(e.height-t.height)/2,width:t.width,height:t.height}}(i,o):function(e,t){var n,r,i,o=e.children,a=t;return n=(i=o,i.filter((function(e){return!e.hidden}))).concat([e]),(r=zc(n))?(a.width=Math.max(r.width,a.width),a.height=Math.max(r.height,a.height),a.x=r.x+(r.width-a.width)/2,a.y=r.y+(r.height-a.height)/2):(a.x=e.x+(e.width-a.width)/2,a.y=e.y+(e.height-a.height)/2),a}(i,o),n.resizeShape(i,r,null,{autoResize:!i.collapsed&&"nwse"})}))}function jf(e,t,n,r){t.invoke(es,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,i=t.businessObject;Qi(t)||((0,Pi.is)(t,"bpmn:Participant")&&(0,Oi.ul)(t)&&n.ids.unclaim(i.processRef.id),r.unclaimId(i.id,i))})),this.preExecute("connection.delete",(function(e){var t=e.context.connection.businessObject;r.unclaimId(t.id,t)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement().businessObject;n.ids.unclaim(t.id)}))}yt()(kf,es),kf.$inject=["eventBus","elementFactory","modeling"],yt()(jf,es),jf.$inject=["canvas","injector","moddle","modeling"];function Cf(e,t,n){var r;function i(){if(!r)throw new Error(n("out of bounds release"));return r}es.call(this,e);var o=["spaceTool","lane.add","lane.resize","lane.split","elements.move","elements.delete","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(o,5e3,(function(e){(r=r||new Tf).enter()})),this.postExecuted(o,500,(function(e){!function(){if(!r)throw new Error(n("out of bounds release"));var e=r.leave();e&&(t.updateLaneRefs(r.flowNodes,r.lanes),r=null)}()})),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],(function(e){var t=e.context.shape,n=i();t.labelTarget||((0,Pi.is)(t,"bpmn:Lane")&&n.addLane(t),(0,Pi.is)(t,"bpmn:FlowNode")&&n.addFlowNode(t))}))}function Tf(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function Mf(e,t){es.call(this,e),this.preExecute("connection.delete",(function(e){var n=e.context.connection,r=n.source;(function(e,t){if(!(0,Pi.is)(e,"bpmn:SequenceFlow"))return!1;var n=(0,Pi.getBusinessObject)(t),r=(0,Pi.getBusinessObject)(e);return n.get("default")===r})(n,r)&&t.updateProperties(r,{default:null})}))}Cf.$inject=["eventBus","modeling","translate"],yt()(Cf,es),yt()(Mf,es),Mf.$inject=["eventBus","modeling"];var Af={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","fixHoverBehavior","createDataObjectBehavior","createParticipantBehavior","dataStoreBehavior","dataInputAssociationBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","modelingFeedback","removeElementBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","toggleElementCollapseBehaviour","subProcessStartEventBehavior","unclaimIdBehavior","unsetDefaultFlowBehavior","updateFlowNodeRefsBehavior"],adaptiveLabelPositioningBehavior:["type",rp],appendBehavior:["type",op],associationBehavior:["type",ap],attachEventBehavior:["type",sp],boundaryEventBehavior:["type",cp],createBehavior:["type",lp],fixHoverBehavior:["type",fp],createDataObjectBehavior:["type",dp],createParticipantBehavior:["type",mp],dataInputAssociationBehavior:["type",xp],dataStoreBehavior:["type",_p],deleteLaneBehavior:["type",Sp],detachEventBehavior:["type",Op],dropOnFlowBehavior:["type",kp],eventBasedGatewayBehavior:["type",Tp],groupBehavior:["type",Ap],importDockingFix:["type",Dp],isHorizontalFix:["type",Ip],labelBehavior:["type",sf],modelingFeedback:["type",cf],replaceConnectionBehavior:["type",lf],removeParticipantBehavior:["type",pf],replaceElementBehaviour:["type",ff],resizeBehavior:["type",Ef],resizeLaneBehavior:["type",_f],removeElementBehavior:["type",Sf],toggleElementCollapseBehaviour:["type",kf],subProcessStartEventBehavior:["type",Pf],unclaimIdBehavior:["type",jf],updateFlowNodeRefsBehavior:["type",Cf],unsetDefaultFlowBehavior:["type",Mf]};function Nf(e,t){var n=fo(e,t,-15);return"intersect"!==n?n:null}function Df(e){rs.call(this,e)}function Rf(e){return!e||Qi(e)}function If(e){do{if((0,Pi.is)(e,"bpmn:Process"))return(0,Pi.getBusinessObject)(e);if((0,Pi.is)(e,"bpmn:Participant"))return(0,Pi.getBusinessObject)(e).processRef||(0,Pi.getBusinessObject)(e)}while(e=e.parent)}function Lf(e){return(0,Pi.is)(e,"bpmn:TextAnnotation")}function Bf(e){return(0,Pi.is)(e,"bpmn:Group")&&!e.labelTarget}function Ff(e){return(0,Pi.is)(e,"bpmn:BoundaryEvent")&&Hf(e,"bpmn:CompensateEventDefinition")}function zf(e){return(0,Pi.getBusinessObject)(e).isForCompensation}function Vf(e){for(var t=e;t=t.parent;){if((0,Pi.is)(t,"bpmn:FlowElementsContainer"))return(0,Pi.getBusinessObject)(t);if((0,Pi.is)(t,"bpmn:Participant"))return(0,Pi.getBusinessObject)(t).processRef}return null}function Hf(e,t){var n=(0,Pi.getBusinessObject)(e);return!!(0,mt.sE)(n.eventDefinitions||[],(function(e){return(0,Pi.is)(e,t)}))}function $f(e,t){return((0,Pi.getBusinessObject)(e).eventDefinitions||[]).every((function(e){return(0,Pi.is)(e,t)}))}function Gf(e){return(0,Pi.is)(e,"bpmn:ReceiveTask")||(0,Pi.is)(e,"bpmn:IntermediateCatchEvent")&&(Hf(e,"bpmn:MessageEventDefinition")||Hf(e,"bpmn:TimerEventDefinition")||Hf(e,"bpmn:ConditionalEventDefinition")||Hf(e,"bpmn:SignalEventDefinition"))}function Uf(e){return e.waypoints}function Wf(e,t){var n=function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t);return-1!==n.indexOf(e)}function Xf(e,t,n){if(Rf(e)||Rf(t))return null;if(!(0,Pi.is)(n,"bpmn:DataAssociation")){if(od(e,t))return{type:"bpmn:MessageFlow"};if(ad(e,t))return{type:"bpmn:SequenceFlow"}}var r=sd(e,t);return r||(Ff(e)&&zf(t)?{type:"bpmn:Association",associationDirection:"One"}:!!id(e,t)&&{type:"bpmn:Association"})}function Zf(e,t,n){return!(!Qi(e)&&!Bf(e))||!((0,Pi.is)(t,"bpmn:Participant")&&!(0,Oi.ul)(t))&&((0,Pi.is)(e,"bpmn:Participant")?(0,Pi.is)(t,"bpmn:Process")||(0,Pi.is)(t,"bpmn:Collaboration"):(0,$a.J)(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:(0,Pi.is)(e,"bpmn:Lane")?(0,Pi.is)(t,"bpmn:Participant")||(0,Pi.is)(t,"bpmn:Lane"):!((0,Pi.is)(e,"bpmn:BoundaryEvent")&&(r=e,!(0,Pi.getBusinessObject)(r).cancelActivity||!Kf(r)&&!Jf(r)))&&((0,Pi.is)(e,"bpmn:FlowElement")&&!(0,Pi.is)(e,"bpmn:DataStoreReference")?(0,Pi.is)(t,"bpmn:FlowElementsContainer")?(0,Oi.ul)(t):(0,$a.J)(t,["bpmn:Participant","bpmn:Lane"]):(0,$a.J)(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?(0,$a.J)(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!(0,Pi.is)(e,"bpmn:MessageFlow")&&((0,Pi.is)(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t)));var r}function qf(e){return(0,Pi.is)(e,"bpmn:Lane")}function Yf(e){return!!function(e){return!Qi(e)&&(0,Pi.is)(e,"bpmn:BoundaryEvent")}(e)||(!(!(0,Pi.is)(e,"bpmn:IntermediateThrowEvent")||!Kf(e))||(0,Pi.is)(e,"bpmn:IntermediateCatchEvent")&&Jf(e))}function Kf(e){var t=(0,Pi.getBusinessObject)(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function Jf(e){return function(e,t){return t.some((function(t){return Hf(e,t)}))}(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function Qf(e,t,n,r){if(Array.isArray(e)||(e=[e]),1!==e.length)return!1;var i=e[0];return!Qi(i)&&(!!Yf(i)&&(!(0,Oi.J5)(t)&&(!(!(0,Pi.is)(t,"bpmn:Activity")||zf(t))&&(!(r&&!Nf(r,t))&&(!function(e){return(0,Pi.is)(e,"bpmn:ReceiveTask")&&(0,mt.sE)(e.incoming,(function(e){return(0,Pi.is)(e.source,"bpmn:EventBasedGateway")}))}(t)&&"attach")))))}function ed(e,t,n){if(!t)return!1;var r={replacements:[]};return(0,mt.Ed)(e,(function(e){(0,Oi.J5)(t)||(0,Pi.is)(e,"bpmn:StartEvent")&&"label"!==e.type&&Zf(e,t)&&((0,Oi.yU)(e)||r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),((0,Oi.sm)(e)||(0,Oi.wQ)(e)||(0,Oi._Z)(e))&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"})),(0,Pi.is)(t,"bpmn:Transaction")||Hf(e,"bpmn:CancelEventDefinition")&&"label"!==e.type&&((0,Pi.is)(e,"bpmn:EndEvent")&&Zf(e,t)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:EndEvent"}),(0,Pi.is)(e,"bpmn:BoundaryEvent")&&Qf(e,t,0,n)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:BoundaryEvent"}))})),!!r.replacements.length&&r}function td(e,t){return!(0,mt.G)(e,qf)&&(!t||e.every((function(e){return Zf(e,t)})))}function nd(e,t,n,r){return!!t&&(!(!Qi(e)&&!Bf(e))||!function(e,t){return e===t}(n,t)&&((!n||!Wf(n,t))&&(Zf(e,t)||ud(e,t,r))))}function rd(e,t){return(0,Pi.is)(e,"bpmn:SubProcess")?(0,Oi.ul)(e)&&(!t||t.width>=100&&t.height>=80):(0,Pi.is)(e,"bpmn:Lane")?!t||t.width>=130&&t.height>=60:(0,Pi.is)(e,"bpmn:Participant")?!t||t.width>=250&&t.height>=50:!!Lf(e)||!!Bf(e)}function id(e,t){return!Uf(e)&&!Uf(t)&&(!(!Ff(e)||!zf(t))||!Wf(t,e)&&!Wf(e,t)&&function(e,t){var n=Lf(e),r=Lf(t);return(n||r)&&n!==r}(e,t))}function od(e,t){return!(pd(e)&&!pd(t))&&(n=e,(0,Pi.is)(n,"bpmn:InteractionNode")&&(!(0,Pi.is)(n,"bpmn:Event")||(0,Pi.is)(n,"bpmn:ThrowEvent")&&$f(n,"bpmn:MessageEventDefinition"))&&function(e){return(0,Pi.is)(e,"bpmn:InteractionNode")&&!zf(e)&&(!(0,Pi.is)(e,"bpmn:Event")||(0,Pi.is)(e,"bpmn:CatchEvent")&&$f(e,"bpmn:MessageEventDefinition"))}(t)&&!function(e,t){return If(e)===If(t)}(e,t));var n}function ad(e,t){return!(Gf(t)&&t.incoming.length>0&&(n=t.incoming,(n=n||[]).some(ld))&&!(0,Pi.is)(e,"bpmn:EventBasedGateway"))&&(r=e,(0,Pi.is)(r,"bpmn:FlowNode")&&!(0,Pi.is)(r,"bpmn:EndEvent")&&!(0,Oi.J5)(r)&&!((0,Pi.is)(r,"bpmn:IntermediateThrowEvent")&&Hf(r,"bpmn:LinkEventDefinition"))&&!Ff(r)&&!zf(r)&&function(e){return(0,Pi.is)(e,"bpmn:FlowNode")&&!(0,Pi.is)(e,"bpmn:StartEvent")&&!(0,Pi.is)(e,"bpmn:BoundaryEvent")&&!(0,Oi.J5)(e)&&!((0,Pi.is)(e,"bpmn:IntermediateCatchEvent")&&Hf(e,"bpmn:LinkEventDefinition"))&&!zf(e)}(t)&&function(e,t){return Vf(e)===Vf(t)}(e,t)&&!((0,Pi.is)(e,"bpmn:EventBasedGateway")&&!Gf(t)));var n,r}function sd(e,t){return(0,$a.J)(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,$a.J)(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!(0,$a.J)(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!(0,$a.J)(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function ud(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return t.source!==e&&t.target!==e&&((0,$a.J)(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Qi(t)&&(0,Pi.is)(e,"bpmn:FlowNode")&&!(0,Pi.is)(e,"bpmn:BoundaryEvent")&&Zf(e,t.parent))}function cd(e,t){return!!Qi(t)||!((0,Pi.is)(t,"bpmn:Lane")&&!function(e,t){return e&&t&&-1!==e.indexOf(t)}(e,t.parent))}function ld(e){if(e&&e.source)return(0,Pi.is)(e.source,"bpmn:EventBasedGateway")}function pd(e){return(0,$a.G)(e,"bpmn:Process")||(0,$a.G)(e,"bpmn:Collaboration")}yt()(Df,rs),Df.$inject=["eventBus"],Df.prototype.init=function(){this.addRule("connection.start",(function(e){return function(e){if(Rf(e))return null;return(0,$a.J)(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])}(e.source)})),this.addRule("connection.create",(function(e){var t=e.source,n=e.target,r=e.hints||{},i=r.targetParent;if(r.targetAttach)return!1;i&&(n.parent=i);try{return Xf(t,n)}finally{i&&(n.parent=null)}})),this.addRule("connection.reconnect",(function(e){var t=e.connection;return Xf(e.source,e.target,t)})),this.addRule("connection.updateWaypoints",(function(e){return{type:e.connection.type}})),this.addRule("shape.resize",(function(e){return rd(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=e.position,r=e.target;return(0,mt.yW)(t,(function(e){return Uf(e)?Xf(e.source,e.target,e):e.host?Qf(e,e.host,null,n):nd(e,r,null,n)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes,r=e.position;return Qf(n,t,null,r)||ed(n,t,r)||td(n,t)||ud(n,t,r)})),this.addRule("shape.create",(function(e){return nd(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return Qf(e.shape,e.target,null,e.position)})),this.addRule("element.copy",(function(e){var t=e.element;return cd(e.elements,t)}))},Df.prototype.canConnectMessageFlow=od,Df.prototype.canConnectSequenceFlow=ad,Df.prototype.canConnectDataAssociation=sd,Df.prototype.canConnectAssociation=id,Df.prototype.canMove=td,Df.prototype.canAttach=Qf,Df.prototype.canReplace=ed,Df.prototype.canDrop=Zf,Df.prototype.canInsert=ud,Df.prototype.canCreate=nd,Df.prototype.canConnect=Xf,Df.prototype.canResize=rd,Df.prototype.canCopy=cd;var fd={__depends__:[gs],__init__:["bpmnRules"],bpmnRules:["type",Df]};function dd(e){es.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,r=n.shape||n.connection,i=n.parent,o=t.getOrdering(r,i);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,r=n.shape||n.connection,i=n.newParent||r.parent,o=t.getOrdering(r,i);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function hd(e,t,n){dd.call(this,e);var r=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:3,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function i(e){var t=e.order;return t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=(0,mt.sE)(r,(function(t){return(0,$a.J)(e,[t.type])}));return t&&t.order||{level:1}}(e)),t}this.getOrdering=function(e,r){if(e.labelTarget)return{parent:t.getRootElement(),index:-1};var o=i(e);o.containers&&(r=function(e,t,r){for(var i=t;i&&!(0,$a.J)(i,r);)i=i.parent;if(!i)throw new Error(n("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return i}(e,r,o.containers));var a=r.children.indexOf(e),s=(0,mt.cx)(r.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&o.level<i(t).level}));return-1!==s&&-1!==a&&a<s&&(s-=1),{index:s,parent:r}}}dd.prototype.getOrdering=function(e,t){return null},yt()(dd,es),hd.$inject=["eventBus","canvas","translate"],yt()(hd,dd);var yd={__depends__:[Xi.Z],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",hd]};function vd(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}vd.$inject=["eventBus","injector"],vd.prototype.execute=function(e,t){if(!e)throw new Error("command required");var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},vd.prototype.canExecute=function(e,t){var n={command:e,context:t},r=this._getHandler(e),i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},vd.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed")},vd.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},vd.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},vd.prototype.register=function(e,t){this._setHandler(e,t)},vd.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},vd.prototype.canUndo=function(){return!!this._getUndoAction()},vd.prototype.canRedo=function(){return!!this._getRedoAction()},vd.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},vd.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},vd.prototype._internalUndo=function(e){var t=this,n=e.command,r=e.context,i=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),i.revert&&t._markDirty(i.revert(r)),t._revertedAction(e),t._fire(n,"reverted",e)}))},vd.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var r,i,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),r=0;(i=a[r])&&(o=this._eventBus.fire("commandStack."+i,n),!n.cancelBubble);r++);return o},vd.prototype._createId=function(){return this._uid++},vd.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},vd.prototype._internalExecute=function(e,t){var n=this,r=e.command,i=e.context,o=this._getHandler(r);if(!o)throw new Error("no command handler registered for <"+r+">");this._pushAction(e),t||(this._fire(r,"preExecute",e),o.preExecute&&o.preExecute(i),this._fire(r,"preExecuted",e)),this._atomicDo((function(){n._fire(r,"execute",e),o.execute&&n._markDirty(o.execute(i)),n._executedAction(e,t),n._fire(r,"executed",e)})),t||(this._fire(r,"postExecute",e),o.postExecute&&o.postExecute(i),this._fire(r,"postExecuted",e)),this._popAction(e)},vd.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},vd.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:(0,mt.uw)("id",n.reverse())}),n.length=0,this._fire("changed"))},vd.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=(0,mt.kJ)(e)?e:[e],t.dirty=t.dirty.concat(e))},vd.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},vd.prototype._revertedAction=function(e){this._stackIdx--},vd.prototype._getHandler=function(e){return this._handlerMap[e]},vd.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var md={commandStack:["type",vd]},gd=new Fo("tt");function bd(e,t){e.style.display=!1===t?"none":""}var xd=".djs-tooltip";function wd(e,t){this._eventBus=e,this._canvas=t,this._ids=gd,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function(e){var t=(0,gt.H6)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(t,e.firstChild),t}(t.getContainer());var n=this;gt.cl.bind(this._tooltipRoot,xd,"mousedown",(function(e){e.stopPropagation()})),gt.cl.bind(this._tooltipRoot,xd,"mouseover",(function(e){n.trigger("mouseover",e)})),gt.cl.bind(this._tooltipRoot,xd,"mouseout",(function(e){n.trigger("mouseout",e)})),this._init()}wd.$inject=["eventBus","canvas"],wd.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=(0,mt.f0)({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},wd.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,r=this.get((0,gt.Lj)(n,"data-tooltip-id"));r&&("mouseover"===e&&r.timeout&&this.clearTimeout(r),"mouseout"===e&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))},wd.prototype.get=function(e){return"string"!==typeof e&&(e=e.id),this._tooltips[e]},wd.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},wd.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},wd.prototype.remove=function(e){var t=this.get(e);t&&((0,gt.Od)(t.html),(0,gt.Od)(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},wd.prototype.show=function(){bd(this._tooltipRoot)},wd.prototype.hide=function(){bd(this._tooltipRoot,!1)},wd.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,r="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r},wd.prototype._addTooltip=function(e){var t,n=e.id,r=e.html,i=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),(0,mt.HD)(r)&&(r=(0,gt.H6)(r)),(t=(0,gt.H6)('<div data-tooltip-id="'+n+'" class="'+'djs-tooltip" style="position: absolute">')).appendChild(r),e.type&&(0,gt.Sh)(t).add("djs-tooltip-"+e.type),e.className&&(0,gt.Sh)(t).add(e.className),e.htmlContainer=t,i.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},wd.prototype._updateTooltip=function(e){var t=e.position;!function(e,t,n){(0,mt.f0)(e.style,{left:t+"px",top:n+"px"})}(e.htmlContainer,t.x,t.y)},wd.prototype._updateTooltipVisibilty=function(e){(0,mt.Ed)(this._tooltips,(function(t){var n=t.show,r=t.htmlContainer,i=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(i=!1),bd(r,i))}))},wd.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};var Ed={__init__:["tooltips"],tooltips:["type",wd]};function _d(e,t){if("function"!==typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function Sd(e,t,n){es.call(this,t);var r=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,r=t.validatedShapes;t.shapes=Od(n),t.validatedShapes=Od(r)})),r&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,i=[];(0,mt.Ed)(n,(function(e){(0,mt.Ed)(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||i.push(n),e.labelTarget&&i.push(e)}))})),(0,mt.Ed)(i,(function(e){r.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,r=[];(0,mt.Ed)(n,(function(e){(0,mt.Ed)(e.labels,(function(e){n[e.id]||r.push(e)}))})),t.addAll(r)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;_d((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,r=n.labelTarget;r&&(t.labelTargetIndex=(0,Pn.cq)(r.labels,n),t.labelTarget=r,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,r=t.labelTarget,i=t.labelTargetIndex;r&&((0,Pn.IH)(r.labels,n,i),n.labelTarget=r)}))}function Od(e){return(0,mt.hX)(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}yt()(Sd,es),Sd.$inject=["injector","eventBus","modeling"];var Pd={__init__:["labelSupport"],labelSupport:["type",Sd]},kd="attach-ok";function jd(e,t,n,r,i){es.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t=e.context,n=t.shapes,r=t.validatedShapes;t.shapes=function(e){var t=Cd(e);return(0,mt.qZ)("id",e,t)}(n),t.validatedShapes=function(e){var t=(0,mt.vM)(e,"id");return(0,mt.hX)(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(r)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context,n=Cd(t.shapes);(0,mt.Ed)(n,(function(e){o.makeDraggable(t,e,!0),(0,mt.Ed)(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var r=e.context.shapes;if(1===r.length){var i=r[0].host;i&&(n.addMarker(i,kd),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(i,kd)})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure,r=Cd(t.shapes);(0,mt.Ed)(r,(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t,n=e.context,r=n.shapes,o=n.newHost;o&&1!==r.length||(t=o?r:(0,mt.hX)(r,(function(e){var t=e.host;return function(e){return!!e.host}(e)&&!function(e,t){return-1!==e.indexOf(t)}(r,t)})),(0,mt.Ed)(t,(function(e){i.updateAttachment(e,o)})))})),this.postExecuted("elements.move",(function(e){var t=e.context.shapes;(0,mt.Ed)(t,(function(e){(0,mt.Ed)(e.attachers,(function(e){(0,mt.Ed)(e.outgoing.slice(),(function(e){r.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||i.removeConnection(e)})),(0,mt.Ed)(e.incoming.slice(),(function(e){r.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||i.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,r=t.host;r&&i.updateAttachment(n,r)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;_d(n.attachers,(function(e){"attach"===r.allowed("elements.move",{target:o,shapes:[e]})?i.updateAttachment(e,o):i.removeShape(e)})),o.attachers.length&&(0,mt.Ed)(o.attachers,(function(e){var t=nf(e,n,o);i.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,r=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&(0,mt.Ed)(a,(function(e){var t=nf(e,r,o);i.moveShape(e,t,e.parent),(0,mt.Ed)(e.labels,(function(e){i.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;_d(t.attachers,(function(e){i.removeShape(e)})),t.host&&i.updateAttachment(t,null)}))}function Cd(e){return(0,mt.xH)((0,mt.UI)(e,(function(e){return e.attachers||[]})))}yt()(jd,es),jd.$inject=["injector","eventBus","canvas","rules","modeling"];var Td={__depends__:[gs],__init__:["attachSupport"],attachSupport:["type",jd]};function Md(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}Md.$inject=["eventBus","dragging"],Md.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},Md.prototype.isActive=function(e){return e&&this._active===e},Md.prototype.length=function(e){return this._tools.length},Md.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},Md.prototype.bindEvents=function(e,t){var n=this._eventBus,r=this._dragging,i=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void r.cancel();this.setActive(e)}),this),(0,mt.Ed)(t,(function(e){i.push(e+".ended"),i.push(e+".canceled")})),n.on(i,250,(function(e){var t=e.originalEvent;this._active&&(t&&(0,gt.oq)(t.target,'.group[data-group="tools"]')||this.setActive(null))}),this)};var Ad={__depends__:[ds],__init__:["toolManager"],toolManager:["type",Md]};function Nd(e,t){return-1!==e.indexOf(t)}var Dd=Math.abs,Rd=Math.round,Id={x:"width",y:"height"},Ld="crosshair",Bd={n:"top",w:"left",s:"bottom",e:"right"},Fd={n:"s",w:"e",s:"n",e:"w"};function zd(e,t,n,r,i,o){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=r,this._rules=i,this._toolManager=o;var a=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){a.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=a.init(e,t)),n&&Hd(e)})),n.on("spaceTool.end",(function(e){var t=e.context,r=t.axis,i=t.direction,o=t.movingShapes,s=t.resizingShapes,u=t.start;if(t.initialized){Hd(e);var c={x:0,y:0};c[r]=Rd(e["d"+r]),a.makeSpace(o,s,c,i,u),n.once("spaceTool.ended",(function(e){a.activateSelection(e.originalEvent,!0,!0)}))}}))}function Vd(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function Hd(e){var t,n,r=e.context.spaceToolConstraints;r&&((0,mt.hj)(r.left)&&(t=Math.max(e.x,r.left),e.dx=e.dx+t-e.x,e.x=t),(0,mt.hj)(r.right)&&(t=Math.min(e.x,r.right),e.dx=e.dx+t-e.x,e.x=t),(0,mt.hj)(r.top)&&(n=Math.max(e.y,r.top),e.dy=e.dy+n-e.y,e.y=n),(0,mt.hj)(r.bottom)&&(n=Math.min(e.y,r.bottom),e.dy=e.dy+n-e.y,e.y=n))}function $d(e,t){return-1!==e.indexOf(t)}function Gd(e){return!!e.waypoints}function Ud(e){return!!e.labelTarget}zd.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],zd.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:Ld,data:{context:{reactivate:n}},trapClick:!1})},zd.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:Ld,data:{context:{}}})},zd.prototype.makeSpace=function(e,t,n,r,i){return this._modeling.createSpace(e,t,n,r,i)},zd.prototype.init=function(e,t){var n=Dd(e.dx)>Dd(e.dy)?"x":"y",r=e["d"+n],i=e[n]-r;if(Dd(r)<5)return!1;r<0&&(r*=-1),Oo(e)&&(r*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,r),a=bn(this._canvas.getRootElement(),!0),s=this.calculateAdjustments(a,n,r,i),u=function(e,t,n,r,i){var o=e.movingShapes,a=e.resizingShapes;if(!a.length)return;var s,u,c={};return(0,mt.Ed)(a,(function(e){var l,p,f,d=co(e),h=(0,mt.hX)(e.children,(function(e){return!Gd(e)&&!Ud(e)&&!$d(o,e)&&!$d(a,e)})),y=(0,mt.hX)(e.children,(function(e){return!Gd(e)&&!Ud(e)&&$d(o,e)}));h.length&&(p=Vd(co(xn(h))),l=r-d[Bd[n]]+p[Bd[n]],"n"===n?c.bottom=u=(0,mt.hj)(u)?Math.min(u,l):l:"w"===n?c.right=u=(0,mt.hj)(u)?Math.min(u,l):l:"s"===n?c.top=s=(0,mt.hj)(s)?Math.max(s,l):l:"e"===n&&(c.left=s=(0,mt.hj)(s)?Math.max(s,l):l)),y.length&&(f=Vd(co(xn(y))),l=r-f[Bd[Fd[n]]]+d[Bd[Fd[n]]],"n"===n?c.bottom=u=(0,mt.hj)(u)?Math.min(u,l):l:"w"===n?c.right=u=(0,mt.hj)(u)?Math.min(u,l):l:"s"===n?c.top=s=(0,mt.hj)(s)?Math.max(s,l):l:"e"===n&&(c.left=s=(0,mt.hj)(s)?Math.max(s,l):l));var v=i&&i[e.id];v&&("n"===n?(l=r+e[Id[t]]-v[Id[t]],c.bottom=u=(0,mt.hj)(u)?Math.min(u,l):l):"w"===n?(l=r+e[Id[t]]-v[Id[t]],c.right=u=(0,mt.hj)(u)?Math.min(u,l):l):"s"===n?(l=r-e[Id[t]]+v[Id[t]],c.top=s=(0,mt.hj)(s)?Math.max(s,l):l):"e"===n&&(l=r-e[Id[t]]+v[Id[t]],c.left=s=(0,mt.hj)(s)?Math.max(s,l):l))})),c}(s,n,o,i,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:s.resizingShapes,start:i}));return(0,mt.f0)(t,s,{axis:n,direction:o,spaceToolConstraints:u,start:i}),ha("resize-"+("x"===n?"ew":"ns")),!0},zd.prototype.calculateAdjustments=function(e,t,n,r){var i=this._rules,o=[],a=[];return(0,mt.Ed)(e,(function(e){if(e.parent&&!Gd(e)){var s=e[t],u=s+e[Id[t]];return n>0&&s>r||n<0&&u<r?o.push(e):s<r&&u>r&&i.allowed("shape.resize",{shape:e})?a.push(e):void 0}})),{movingShapes:o,resizingShapes:a}},zd.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},zd.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var Wd="djs-dragging",Xd="djs-resizing",Zd=Math.max;function qd(e,t,n,r,i){function o(e,t){(0,mt.Ed)(e,(function(e){i.addDragger(e,t),n.addMarker(e,Wd)}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),i=e.context,o="M 0,-10000 L 0,10000",a="M -10000,0 L 10000,0",s=Lt("g");St(s,r.cls("djs-crosshair-group",["no-events"])),wt(t,s);var u=Lt("path");St(u,"d",o),Ct(u).add("djs-crosshair"),wt(s,u);var c=Lt("path");St(c,"d",a),Ct(c).add("djs-crosshair"),wt(s,c),i.crosshairGroup=s})),e.on("spaceTool.selection.move",(function(e){er(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&Mt(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,s=a.line,u=a.axis,c=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");St(s=Lt("path"),"d","M0,0 L0,0"),Ct(s).add("djs-crosshair"),wt(p,s),a.line=s;var f=Lt("g");St(f,r.cls("djs-drag-group",["no-events"])),wt(n.getDefaultLayer(),f),o(c,f),o(a.movingConnections=t.filter((function(e){var t=!1;(0,mt.Ed)(c,(function(n){(0,mt.Ed)(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;(0,mt.Ed)(c,(function(t){(0,mt.Ed)(t.incoming,(function(t){e===t&&(n=!0)}))}));var r=!1;(0,mt.Ed)(l,(function(t){(0,mt.Ed)(t.outgoing,(function(t){e===t&&(r=!0)}))}));var i=!1;return(0,mt.Ed)(l,(function(t){(0,mt.Ed)(t.incoming,(function(t){e===t&&(i=!0)}))})),function(e){return e.waypoints}(e)&&(t||r)&&(n||i)})),f),a.dragGroup=f}if(!a.frameGroup){var d=Lt("g");St(d,r.cls("djs-frame-group",["no-events"])),wt(n.getDefaultLayer(),d);var h=[];(0,mt.Ed)(l,(function(e){var t=i.addFrame(e,d),r=t.getBBox();h.push({element:t,initialBounds:r}),n.addMarker(e,Xd)})),a.frameGroup=d,a.frames=h}St(s,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[u]});var y={x:e.dx,y:e.dy};y[{x:"y",y:"x"}[a.axis]]=0,er(a.dragGroup,y.x,y.y),(0,mt.Ed)(a.frames,(function(e){var t,n,r=e.element,i=e.initialBounds;"e"===a.direction?St(r,{width:Zd(i.width+y.x,5)}):St(r,{width:t=Zd(i.width-y.x,5),x:i.x+i.width-t}),"s"===a.direction?St(r,{height:Zd(i.height+y.y,5)}):St(r,{height:n=Zd(i.height-y.y,5),y:i.y+i.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,r=t.movingShapes,i=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,u=t.frameGroup;(0,mt.Ed)(r,(function(e){n.removeMarker(e,Wd)})),(0,mt.Ed)(i,(function(e){n.removeMarker(e,Wd)})),s&&(Mt(a),Mt(s)),(0,mt.Ed)(o,(function(e){n.removeMarker(e,Xd)})),u&&Mt(u)}))}qd.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Yd={__init__:["spaceToolPreview"],__depends__:[ds,gs,Ad,Mu],spaceTool:["type",zd],spaceToolPreview:["type",qd]};function Kd(e){this._model=e}function Jd(e,t,n,r){es.call(this,e),this._bpmnFactory=t,this._translate=r;var i=this;function o(e){var t=e.context.oldRoot.children;(0,mt.Ed)(t,(function(e){(0,Pi.is)(e,"bpmn:BaseElement")&&i.updateParent(e)}))}function a(e){var t=e.context.shape;(0,Pi.is)(t,"bpmn:BaseElement")&&i.updateBounds(t)}function s(e){i.updateConnection(e.context)}function u(e){i.updateConnectionWaypoints(e.context.connection)}function c(e){i.updateAttachment(e.context)}this.executed(["connection.layout","connection.create"],(function(e){var t,r=e.context;r.cropped||((t=r.connection).waypoints=n.getCroppedWaypoints(t),r.cropped=!0)})),this.reverted(["connection.layout"],(function(e){delete e.context.cropped})),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Qd((function(e){var t=e.context;i.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Qd((function(e){var t=e.context,n=t.shape||t.connection,r=t.parent||t.newParent;i.updateParent(n,r)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],Qd((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],Qd((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})})),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Qd(s)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Qd(s)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Qd(u)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Qd(u)),this.executed("connection.reconnect",Qd((function(e){var t=e.context,n=t.connection,r=t.oldSource,i=t.newSource,o=(0,Pi.getBusinessObject)(n),a=(0,Pi.getBusinessObject)(r),s=(0,Pi.getBusinessObject)(i);o.conditionExpression&&!(0,$a.J)(s,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(t.oldConditionExpression=o.conditionExpression,delete o.conditionExpression),r!==i&&a.default===o&&(t.oldDefault=a.default,delete a.default)}))),this.reverted("connection.reconnect",Qd((function(e){var t=e.context,n=t.connection,r=t.oldSource,i=t.newSource,o=(0,Pi.getBusinessObject)(n),a=(0,Pi.getBusinessObject)(r),s=(0,Pi.getBusinessObject)(i);t.oldConditionExpression&&(o.conditionExpression=t.oldConditionExpression),t.oldDefault&&(a.default=t.oldDefault,delete s.default)}))),this.executed(["element.updateAttachment"],Qd(c)),this.reverted(["element.updateAttachment"],Qd(c))}function Qd(e){return function(t){var n=t.context,r=n.shape||n.connection;(0,Pi.is)(r,"bpmn:BaseElement")&&e(t)}}function eh(e,t,n){Zn.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}function th(e,t,n){e[n]=t[n],delete t[n]}function nh(e,t){this._modeling=e,this._canvas=t}function rh(e){this._modeling=e}function ih(e,t){this._canvas=e,this._layouter=t}Kd.$inject=["moddle"],Kd.prototype._needsId=function(e){return(0,$a.J)(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Kd.prototype._ensureId=function(e){var t=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},Kd.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},Kd.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Kd.prototype.createDiShape=function(e,t,n){return this.create("bpmndi:BPMNShape",(0,mt.f0)({bpmnElement:e,bounds:this.createDiBounds(t)},n))},Kd.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},Kd.prototype.createDiWaypoints=function(e){var t=this;return(0,mt.UI)(e,(function(e){return t.createDiWaypoint(e)}))},Kd.prototype.createDiWaypoint=function(e){return this.create("dc:Point",(0,mt.ei)(e,["x","y"]))},Kd.prototype.createDiEdge=function(e,t,n){return this.create("bpmndi:BPMNEdge",(0,mt.f0)({bpmnElement:e},n))},Kd.prototype.createDiPlane=function(e){return this.create("bpmndi:BPMNPlane",{bpmnElement:e})},yt()(Jd,es),Jd.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],Jd.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,r=t.host;n.attachedToRef=r&&r.businessObject},Jd.prototype.updateParent=function(e,t){if(!(e instanceof Un)&&!((0,Pi.is)(e,"bpmn:DataStoreReference")&&e.parent&&(0,Pi.is)(e.parent,"bpmn:Collaboration"))){var n=e.parent,r=e.businessObject,i=n&&n.businessObject,o=i&&i.di;(0,Pi.is)(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(r,i,t&&t.businessObject),(0,Pi.is)(e,"bpmn:DataOutputAssociation")&&(i=e.source?e.source.businessObject:null),(0,Pi.is)(e,"bpmn:DataInputAssociation")&&(i=e.target?e.target.businessObject:null),this.updateSemanticParent(r,i),(0,Pi.is)(e,"bpmn:DataObjectReference")&&r.dataObjectRef&&this.updateSemanticParent(r.dataObjectRef,i),this.updateDiParent(r.di,o)}},Jd.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof Un?this._getLabel(t):t,r=n.bounds;r||(r=this._bpmnFactory.createDiBounds(),n.set("bounds",r)),(0,mt.f0)(r,{x:e.x,y:e.y,width:e.width,height:e.height})},Jd.prototype.updateFlowNodeRefs=function(e,t,n){var r,i;n!==t&&((0,Pi.is)(n,"bpmn:Lane")&&(r=n.get("flowNodeRef"),(0,Pn.Od)(r,e)),(0,Pi.is)(t,"bpmn:Lane")&&(i=t.get("flowNodeRef"),(0,Pn.IH)(i,e)))},Jd.prototype.updateDiConnection=function(e,t,n){e.sourceElement&&e.sourceElement.bpmnElement!==t&&(e.sourceElement=t&&t.di),e.targetElement&&e.targetElement.bpmnElement!==n&&(e.targetElement=n&&n.di)},Jd.prototype.updateDiParent=function(e,t){if(t&&!(0,Pi.is)(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):((0,Pn.Od)(n,e),e.$parent=null)}},Jd.prototype.getLaneSet=function(e){var t,n;return(0,Pi.is)(e,"bpmn:Lane")?((t=e.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):((0,Pi.is)(e,"bpmn:Participant")&&(e=e.processRef),(t=(n=e.get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,n.push(t)),t)},Jd.prototype.updateSemanticParent=function(e,t,n){var r,i=this._translate;if(e.$parent!==t&&(!(0,Pi.is)(e,"bpmn:DataInput")&&!(0,Pi.is)(e,"bpmn:DataOutput")||((0,Pi.is)(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),!("ioSpecification"in t)||t.ioSpecification!==e.$parent))){if((0,Pi.is)(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),r="lanes";else if((0,Pi.is)(e,"bpmn:FlowElement")){if(t)if((0,Pi.is)(t,"bpmn:Participant"))t=t.processRef;else if((0,Pi.is)(t,"bpmn:Lane"))do{t=t.$parent.$parent}while((0,Pi.is)(t,"bpmn:Lane"));r="flowElements"}else if((0,Pi.is)(e,"bpmn:Artifact")){for(;t&&!(0,Pi.is)(t,"bpmn:Process")&&!(0,Pi.is)(t,"bpmn:SubProcess")&&!(0,Pi.is)(t,"bpmn:Collaboration");){if((0,Pi.is)(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}r="artifacts"}else if((0,Pi.is)(e,"bpmn:MessageFlow"))r="messageFlows";else if((0,Pi.is)(e,"bpmn:Participant")){r="participants";var o,a=e.processRef;a&&(o=function(e){for(;e&&!(0,Pi.is)(e,"bpmn:Definitions");)e=e.$parent;return e}(e.$parent||t),e.$parent&&((0,Pn.Od)(o.get("rootElements"),a),a.$parent=null),t&&((0,Pn.IH)(o.get("rootElements"),a),a.$parent=o))}else(0,Pi.is)(e,"bpmn:DataOutputAssociation")?r="dataOutputAssociations":(0,Pi.is)(e,"bpmn:DataInputAssociation")&&(r="dataInputAssociations");if(!r)throw new Error(i("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var s;if(e.$parent&&(s=e.$parent.get(r),(0,Pn.Od)(s,e)),t?((s=t.get(r)).push(e),e.$parent=t):e.$parent=null,n){var u=n.get(r);(0,Pn.Od)(s,e),t&&(u||(u=[],t.set(r,u)),u.push(e))}}},Jd.prototype.updateConnectionWaypoints=function(e){e.businessObject.di.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},Jd.prototype.updateConnection=function(e){var t,n=e.connection,r=(0,Pi.getBusinessObject)(n),i=(0,Pi.getBusinessObject)(n.source),o=(0,Pi.getBusinessObject)(n.target);if((0,Pi.is)(r,"bpmn:DataAssociation"))(0,Pi.is)(r,"bpmn:DataInputAssociation")?(r.get("sourceRef")[0]=i,t=e.parent||e.newParent||o,this.updateSemanticParent(r,o,t)):(0,Pi.is)(r,"bpmn:DataOutputAssociation")&&(t=e.parent||e.newParent||i,this.updateSemanticParent(r,i,t),r.targetRef=o);else{var a=(0,Pi.is)(r,"bpmn:SequenceFlow");r.sourceRef!==i&&(a&&((0,Pn.Od)(r.sourceRef&&r.sourceRef.get("outgoing"),r),i&&i.get("outgoing")&&i.get("outgoing").push(r)),r.sourceRef=i),r.targetRef!==o&&(a&&((0,Pn.Od)(r.targetRef&&r.targetRef.get("incoming"),r),o&&o.get("incoming")&&o.get("incoming").push(r)),r.targetRef=o)}this.updateConnectionWaypoints(n),this.updateDiConnection(r.di,i,o)},Jd.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label},yt()(eh,Zn),eh.$inject=["bpmnFactory","moddle","translate"],eh.prototype.baseCreate=Zn.prototype.create,eh.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,(0,mt.f0)({type:"label"},Zi,t)):this.createBpmnElement(e,t)},eh.prototype.createBpmnElement=function(e,t){var n,r,i,o=this._translate,a=(t=t||{}).businessObject;if(!a){if(!t.type)throw new Error(o("no shape type specified"));a=this._bpmnFactory.create(t.type)}return a.di||(a.di="root"===e?this._bpmnFactory.createDiPlane(a,[],{id:a.id+"_di"}):"connection"===e?this._bpmnFactory.createDiEdge(a,[],{id:a.id+"_di"}):this._bpmnFactory.createDiShape(a,{},{id:a.id+"_di"})),(0,Pi.is)(a,"bpmn:Group")&&(t=(0,mt.f0)({isFrame:!0},t)),t.di&&((0,mt.f0)(a.di,t.di),delete t.di),function(e,t,n){(0,mt.Ed)(n,(function(n){void 0!==t[n]&&th(e,t,n)}))}(a,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&th(a.di,t,"isExpanded"),(0,Pi.is)(a,"bpmn:ExclusiveGateway")&&(a.di.isMarkerVisible=!0),t.eventDefinitionType&&(r=a.get("eventDefinitions")||[],i=this._bpmnFactory.create(t.eventDefinitionType),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(i.condition=this._bpmnFactory.create("bpmn:FormalExpression")),r.push(i),i.$parent=a,a.eventDefinitions=r,delete t.eventDefinitionType),n=this._getDefaultSize(a),t=(0,mt.f0)({businessObject:a,id:a.id},n,t),this.baseCreate(e,t)},eh.prototype._getDefaultSize=function(e){return(0,Pi.is)(e,"bpmn:SubProcess")?(0,Oi.ul)(e)?{width:350,height:200}:{width:100,height:80}:(0,Pi.is)(e,"bpmn:Task")?{width:100,height:80}:(0,Pi.is)(e,"bpmn:Gateway")?{width:50,height:50}:(0,Pi.is)(e,"bpmn:Event")?{width:36,height:36}:(0,Pi.is)(e,"bpmn:Participant")?(0,Oi.ul)(e)?{width:600,height:250}:{width:400,height:60}:(0,Pi.is)(e,"bpmn:Lane")?{width:400,height:100}:(0,Pi.is)(e,"bpmn:DataObjectReference")?{width:36,height:50}:(0,Pi.is)(e,"bpmn:DataStoreReference")?{width:50,height:50}:(0,Pi.is)(e,"bpmn:TextAnnotation")?{width:100,height:30}:(0,Pi.is)(e,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},eh.prototype.createParticipantShape=function(e){return(0,mt.Kn)(e)||(e={isExpanded:e}),!1!==(e=(0,mt.f0)({type:"bpmn:Participant"},e||{})).isExpanded&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)},nh.$inject=["modeling","canvas"],nh.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,r=e.alignment;(0,mt.Ed)(n,(function(e){var n={x:0,y:0};r.left?n.x=r.left-e.x:r.right?n.x=r.right-e.width-e.x:r.center?n.x=r.center-Math.round(e.width/2)-e.x:r.top?n.y=r.top-e.y:r.bottom?n.y=r.bottom-e.height-e.y:r.middle&&(n.y=r.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},nh.prototype.postExecute=function(e){},rh.$inject=["modeling"],rh.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,r=e.shape,i=e.hints||{};r=e.shape=this._modeling.createShape(r,e.position,n,{attach:i.attach}),e.shape=r},rh.prototype.postExecute=function(e){var t,n,r=e.hints||{};t=e.source,n=e.shape,(0,mt.G)(t.outgoing,(function(e){return e.target===n}))||(r.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},ih.$inject=["canvas","layouter"],ih.prototype.execute=function(e){var t=e.connection,n=e.source,r=e.target,i=e.parent,o=e.parentIndex,a=e.hints;if(!n||!r)throw new Error("source and target required");if(!i)throw new Error("parent required");return t.source=n,t.target=r,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,i,o),t},ih.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var oh=Math.round;function ah(e){this._modeling=e}function sh(e){return!!e.waypoints}ah.$inject=["modeling"],ah.prototype.preExecute=function(e){var t=e.elements,n=e.parent,r=e.parentIndex,i=e.position,o=e.hints,a=this._modeling;(0,mt.Ed)(t,(function(e){(0,mt.hj)(e.x)||(e.x=0),(0,mt.hj)(e.y)||(e.y=0)}));var s=xn(t);(0,mt.Ed)(t,(function(e){sh(e)&&(e.waypoints=(0,mt.UI)(e.waypoints,(function(e){return{x:oh(e.x-s.x-s.width/2+i.x),y:oh(e.y-s.y-s.height/2+i.y)}}))),(0,mt.f0)(e,{x:oh(e.x-s.x-s.width/2+i.x),y:oh(e.y-s.y-s.height/2+i.y)})}));var u=hn(t),c={};(0,mt.Ed)(t,(function(e){if(sh(e))c[e.id]=(0,mt.hj)(r)?a.createConnection(c[e.source.id],c[e.target.id],r,e,e.parent||n,o):a.createConnection(c[e.source.id],c[e.target.id],e,e.parent||n,o);else{var t=(0,mt.f0)({},o);-1===u.indexOf(e)&&(t.autoResize=!1),c[e.id]=(0,mt.hj)(r)?a.createShape(e,(0,mt.ei)(e,["x","y","width","height"]),e.parent||n,r,t):a.createShape(e,(0,mt.ei)(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=(0,mt.VO)(c)};var uh=Math.round;function ch(e){this._canvas=e}function lh(e){ch.call(this,e)}ch.$inject=["canvas"],ch.prototype.execute=function(e){var t=e.shape,n=e.position,r=e.parent,i=e.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?(0,mt.f0)(t,n):(0,mt.f0)(t,{x:n.x-uh(t.width/2),y:n.y-uh(t.height/2)}),this._canvas.addShape(t,r,i),t},ch.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},yt()(lh,ch),lh.$inject=["canvas"];var ph=ch.prototype.execute;lh.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){"undefined"===typeof e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,ph.call(this,e)};var fh=ch.prototype.revert;function dh(e,t){this._canvas=e,this._modeling=t}function hh(e,t){this._modeling=e,this._elementRegistry=t}function yh(e,t){this._canvas=e,this._modeling=t}function vh(e){this._modeling=e}lh.prototype.revert=function(e){return e.shape.labelTarget=null,fh.call(this,e)},dh.$inject=["canvas","modeling"],dh.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=(0,Pn.cq)(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},dh.prototype.revert=function(e){var t=e.connection,n=e.parent,r=e.parentIndex;return t.source=e.source,t.target=e.target,(0,Pn.IH)(n.children,t,r),this._canvas.addConnection(t,n),t},hh.$inject=["modeling","elementRegistry"],hh.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,r=e.elements;(0,mt.Ed)(r,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},yh.$inject=["canvas","modeling"],yh.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;_d(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),_d(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),_d(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},yh.prototype.execute=function(e){var t=this._canvas,n=e.shape,r=n.parent;return e.oldParent=r,e.oldParentIndex=(0,Pn.cq)(r.children,n),t.removeShape(n),n},yh.prototype.revert=function(e){var t=this._canvas,n=e.shape,r=e.oldParent,i=e.oldParentIndex;return(0,Pn.IH)(r.children,n,i),t.addShape(n,r),n},vh.$inject=["modeling"];var mh={x:"y",y:"x"};function gh(e,t){this._layouter=e,this._canvas=t}function bh(){}function xh(e,t,n){var r=Oh(e),i=Ph(r,t),o=r[0];return i.length?i[i.length-1]:tf(o.original||o,n,t)}function wh(e,t,n){var r=Oh(e),i=Ph(r,t),o=r[r.length-1];return i.length?i[0]:tf(o.original||o,n,t)}function Eh(e,t,n){var r=Oh(e),i=Sh(t,n),o=r[0];return tf(o.original||o,i,t)}function _h(e,t,n){var r=Oh(e),i=Sh(t,n),o=r[r.length-1];return tf(o.original||o,i,t)}function Sh(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function Oh(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function Ph(e,t){var n=(0,mt.UI)(e,kh);return(0,mt.hX)(n,(function(e){return function(e,t){return"intersect"===fo(t,e,1)}(e,t)}))}function kh(e){return e.original||e}function jh(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Ch(e){this._modeling=e}function Th(e){this._helper=new Ch(e)}function Mh(e){this._modeling=e,this._helper=new Ch(e)}function Ah(e){this._modeling=e}function Nh(e){return e.original||e}function Dh(e,t){this._modeling=e,this._rules=t}function Rh(e){this._modeling=e}function Ih(e){this._modeling=e}function Lh(e){return(0,mt.f0)({},e)}function Bh(e){switch(e){case"n":case"s":return"y";case"w":case"e":return"x"}}function Fh(e,t,n){var r=Bh(n);return/e|s/.test(n)?e[r]>t:/n|w/.test(n)?e[r]<t:void 0}function zh(e,t){return-1!==e.indexOf(t)}function Vh(e){this._modeling=e}function Hh(e){var t={};return(0,mt.Ed)(e,(function(e){t[e.id]=e.hidden,e.children&&(t=(0,mt.f0)({},t,Hh(e.children)))})),t}function $h(e,t){var n=[];return(0,mt.Ed)(e,(function(e){e.hidden=t,n=n.concat(e),e.children&&(n=n.concat($h(e.children,e.collapsed||t)))})),n}function Gh(e,t){var n=[];return(0,mt.Ed)(e,(function(e){e.hidden=t[e.id],n=n.concat(e),e.children&&(n=n.concat(Gh(e.children,t)))})),n}function Uh(e){this._modeling=e}function Wh(e,t){return(0,Pn.Od)(e&&e.attachers,t)}function Xh(e,t,n){if(e){var r=e.attachers;r||(e.attachers=r=[]),(0,Pn.IH)(r,t,n)}}function Zh(){}function qh(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var r=this;e.on("diagram.init",(function(){r.registerHandlers(n)}))}vh.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,r=e.axis,i=e.dimension;function o(e,t){e.range.min=Math.min(t[r],e.range.min),e.range.max=Math.max(t[r]+t[i],e.range.max)}function a(e){return e[r]+e[i]/2}function s(e){return e.length-1}function u(e){return e.max-e.min}var c,l,p=n[0],f=s(n),d=n[f],h=0;(0,mt.Ed)(n,(function(e,c){var l,p,d;e.elements.length<2?c&&c!==n.length-1&&(o(e,e.elements[0]),h+=u(e.range)):(p=(l=(0,mt.MR)(e.elements,r))[0],c===f&&(p=l[s(l)]),d=a(p),e.range=null,(0,mt.Ed)(l,(function(n){!function(e,n){var i={y:0};i[r]=e-a(n),i[r]&&(i[mh[r]]=0,t.moveElements([n],i,n.parent))}(d,n),null!==e.range?o(e,n):e.range={min:n[r],max:n[r]+n[i]}})),c&&c!==n.length-1&&(h+=u(e.range)))})),l=Math.abs(d.range.min-p.range.max),(c=Math.round((l-h)/(n.length-1)))<n.length-1||(0,mt.Ed)(n,(function(e,o){var a,s={};e!==p&&e!==d&&(a=n[o-1],e.range.max=0,(0,mt.Ed)(e.elements,(function(n,o){s[mh[r]]=0,s[r]=a.range.max-n[r]+c,e.range.min!==n[r]&&(s[r]+=n[r]-e.range.min),s[r]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[r]+n[i],o?e.range.max:0)})))}))},vh.prototype.postExecute=function(e){},gh.$inject=["layouter","canvas"],gh.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return(0,mt.f0)(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},gh.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},bh.prototype.execute=function(e){var t=e.connection,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=(0,Pn.Od)(o.children,t),(0,Pn.IH)(r.children,t,i),t.parent=r,(0,mt.Ed)(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},bh.prototype.revert=function(e){var t=e.connection,n=t.parent,r=e.oldParent,i=e.oldParentIndex,o=e.delta;return(0,Pn.Od)(n.children,t),(0,Pn.IH)(r.children,t,i),t.parent=r,(0,mt.Ed)(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},jh.prototype.add=function(e,t){return this.addAll([e],t)},jh.prototype.addAll=function(e,t){var n=function(e,t,n){(0,mt.o8)(t)&&(t=!0),(0,mt.Kn)(t)&&(n=t,t=!0);var r=_n((n=n||{}).allShapes),i=_n(n.allConnections),o=_n(n.enclosedElements),a=_n(n.enclosedConnections),s=_n(n.topLevel,t&&(0,mt.vM)(e,(function(e){return e.id})));function u(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),r[e.source.id]&&r[e.target.id]&&(a[e.id]=o[e.id]=e),i[e.id]=e}return mn(e,(function(e){if(o[e.id]=e,!e.waypoints)return r[e.id]=e,(0,mt.Ed)(e.incoming,u),(0,mt.Ed)(e.outgoing,u),e.children;a[e.id]=i[e.id]=e})),{allShapes:r,allConnections:i,topLevel:s,enclosedConnections:a,enclosedElements:o}}(e,!!t,this);return(0,mt.f0)(this,n),this},Ch.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},Ch.prototype.moveClosure=function(e,t,n,r,i){var o=this._modeling,a=e.allShapes,s=e.allConnections,u=e.enclosedConnections,c=e.topLevel,l=!1;i&&i.parent===n&&(l=!0),(0,mt.Ed)(a,(function(e){o.moveShape(e,t,c[e.id]&&!l&&n,{recurse:!1,layout:!1})})),(0,mt.Ed)(s,(function(e){var r=!!a[e.source.id],i=!!a[e.target.id];u[e.id]&&r&&i?o.moveConnection(e,t,c[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:r&&Eh(e,e.source,t),connectionEnd:i&&_h(e,e.target,t)})}))},Ch.prototype.getClosure=function(e){return(new jh).addAll(e,!0)},Th.$inject=["modeling"],Th.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},Th.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},Mh.$inject=["modeling"],Mh.prototype.execute=function(e){var t=e.shape,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldBounds=(0,mt.ei)(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=(0,Pn.Od)(o.children,t),(0,Pn.IH)(r.children,t,i),(0,mt.f0)(t,{parent:r,x:t.x+n.x,y:t.y+n.y}),t},Mh.prototype.postExecute=function(e){var t=e.shape,n=e.delta,r=e.hints,i=this._modeling;!1!==r.layout&&((0,mt.Ed)(t.incoming,(function(e){i.layoutConnection(e,{connectionEnd:_h(e,t,n)})})),(0,mt.Ed)(t.outgoing,(function(e){i.layoutConnection(e,{connectionStart:Eh(e,t,n)})}))),!1!==r.recurse&&this.moveChildren(e)},Mh.prototype.revert=function(e){var t=e.shape,n=e.oldParent,r=e.oldParentIndex,i=e.delta;return(0,Pn.IH)(n.children,t,r),(0,mt.f0)(t,{parent:n,x:t.x-i.x,y:t.y-i.y}),t},Mh.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},Mh.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},Ah.$inject=["modeling"],Ah.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,r=e.connection,i=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return(0,mt.kJ)(i)&&(e.oldWaypoints=r.waypoints,r.waypoints=i),t&&(e.oldSource=r.source,r.source=t),n&&(e.oldTarget=r.target,r.target=n),r},Ah.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,r=e.newTarget,i=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||r&&"source"!==o.docking||(a.connectionStart=a.connectionStart||Nh((0,mt.kJ)(i)?i[0]:i)),!r||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||Nh((0,mt.kJ)(i)?i[i.length-1]:i)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},Ah.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,r=e.oldWaypoints,i=e.connection;return t&&(i.source=t),n&&(i.target=n),r&&(i.waypoints=r),i},Dh.$inject=["modeling","rules"],Dh.prototype.preExecute=function(e){var t,n=this,r=this._modeling,i=this._rules,o=e.oldShape,a=e.newData,s=e.hints||{};function u(e,t,n){return i.allowed("connection.reconnect",{connection:n,source:e,target:t})}var c,l={x:a.x,y:a.y},p={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,l,o.parent,s),o.host&&r.updateAttachment(t,o.host),!1!==s.moveChildren&&(c=o.children.slice(),r.moveElements(c,{x:0,y:0},t,s));var f=o.incoming.slice(),d=o.outgoing.slice();(0,mt.Ed)(f,(function(e){u(e.source,t,e)&&n.reconnectEnd(e,t,wh(e,t,p),s)})),(0,mt.Ed)(d,(function(e){var r=e.target;u(t,r,e)&&n.reconnectStart(e,t,xh(e,t,p),s)}))},Dh.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},Dh.prototype.execute=function(e){},Dh.prototype.revert=function(e){},Dh.prototype.createShape=function(e,t,n,r){return this._modeling.createShape(e,t,n,r)},Dh.prototype.reconnectStart=function(e,t,n,r){this._modeling.reconnectStart(e,t,n,r)},Dh.prototype.reconnectEnd=function(e,t,n,r){this._modeling.reconnectEnd(e,t,n,r)},Rh.$inject=["modeling"],Rh.prototype.execute=function(e){var t=e.shape,n=e.newBounds,r=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},(0,mt.f0)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Rh.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,r=e.oldBounds;!1!==(e.hints||{}).layout&&((0,mt.Ed)(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:wh(e,n,r)})})),(0,mt.Ed)(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:xh(e,n,r)})})))},Rh.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return(0,mt.f0)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Ih.$inject=["modeling"],Ih.prototype.preExecute=function(e){var t=e.delta,n=e.direction,r=e.movingShapes,i=e.resizingShapes,o=e.start,a={};this.moveShapes(r,t),(0,mt.Ed)(i,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(i,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return(0,mt.Ed)(e.concat(t),(function(r){var i=r.incoming,o=r.outgoing;(0,mt.Ed)(i.concat(o),(function(r){var i=r.source,o=r.target;(Nd(e,i)||Nd(e,o)||Nd(t,i)||Nd(t,o))&&(Nd(n,r)||n.push(r))}))})),n}(r,i),t,n,o,r,i,a)},Ih.prototype.execute=function(){},Ih.prototype.revert=function(){},Ih.prototype.moveShapes=function(e,t){var n=this;(0,mt.Ed)(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},Ih.prototype.resizeShapes=function(e,t,n){var r=this;(0,mt.Ed)(e,(function(e){var i=function(e,t,n){var r=e.x,i=e.y,o=e.width,a=e.height,s=n.x,u=n.y;switch(t){case"n":return{x:r,y:i+u,width:o,height:a-u};case"s":return{x:r,y:i,width:o,height:a+u};case"w":return{x:r+s,y:i,width:o-s,height:a};case"e":return{x:r,y:i,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);r._modeling.resizeShape(e,i,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},Ih.prototype.updateConnectionWaypoints=function(e,t,n,r,i,o,a){var s=this,u=i.concat(o);(0,mt.Ed)(e,(function(e){var c=e.source,l=e.target,p=function(e){return(0,mt.UI)(e.waypoints,(function(e){return(e=Lh(e)).original&&(e.original=Lh(e.original)),e}))}(e),f=Bh(n),d={labelBehavior:!1};zh(u,c)&&zh(u,l)?(p=(0,mt.UI)(p,(function(e){return Fh(e,r,n)&&(e[f]=e[f]+t[f]),e.original&&Fh(e.original,r,n)&&(e.original[f]=e.original[f]+t[f]),e})),s._modeling.updateWaypoints(e,p,{labelBehavior:!1})):(zh(u,c)||zh(u,l))&&(zh(i,c)?d.connectionStart=Eh(e,c,t):zh(i,l)?d.connectionEnd=_h(e,l,t):zh(o,c)?d.connectionStart=xh(e,c,a[c.id]):zh(o,l)&&(d.connectionEnd=wh(e,l,a[l.id])),s._modeling.layoutConnection(e,d))}))},Vh.$inject=["modeling"],Vh.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=Hh(n),t.collapsed=!t.collapsed;var r=$h(n,t.collapsed);return[t].concat(r)},Vh.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,r=Gh(t.children,n);return t.collapsed=!t.collapsed,[t].concat(r)},Uh.$inject=["modeling"],Uh.prototype.execute=function(e){var t=e.shape,n=e.newHost,r=t.host;return e.oldHost=r,e.attacherIdx=Wh(r,t),Xh(n,t),t.host=n,t},Uh.prototype.revert=function(e){var t=e.shape,n=e.newHost,r=e.oldHost,i=e.attacherIdx;return t.host=r,Wh(n,t),Xh(r,t,i),t},Zh.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},Zh.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},qh.$inject=["eventBus","elementFactory","commandStack"],qh.prototype.getHandlers=function(){return{"shape.append":rh,"shape.create":ch,"shape.delete":yh,"shape.move":Mh,"shape.resize":Rh,"shape.replace":Dh,"shape.toggleCollapse":Vh,spaceTool:Ih,"label.create":lh,"connection.create":ih,"connection.delete":dh,"connection.move":bh,"connection.layout":gh,"connection.updateWaypoints":Zh,"connection.reconnect":Ah,"elements.create":ah,"elements.move":Th,"elements.delete":hh,"elements.distribute":vh,"elements.align":nh,"element.updateAttachment":Uh}},qh.prototype.registerHandlers=function(e){(0,mt.Ed)(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},qh.prototype.moveShape=function(e,t,n,r,i){"object"===typeof r&&(i=r,r=null);var o={shape:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("shape.move",o)},qh.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},qh.prototype.moveElements=function(e,t,n,r){var i,o=(r=r||{}).attach,a=n;!0===o?(i=n,a=n.parent):!1===o&&(i=null);var s={shapes:e,delta:t,newParent:a,newHost:i,hints:r};this._commandStack.execute("elements.move",s)},qh.prototype.moveConnection=function(e,t,n,r,i){"object"===typeof r&&(i=r,r=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("connection.move",o)},qh.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},qh.prototype.createConnection=function(e,t,n,r,i,o){"object"===typeof n&&(o=i,i=r,r=n,n=void 0);var a={source:e,target:t,parent:i,parentIndex:n,connection:r=this._create("connection",r),hints:o};return this._commandStack.execute("connection.create",a),a.connection},qh.prototype.createShape=function(e,t,n,r,i){"number"!==typeof r&&(i=r,r=void 0);var o,a,s=(i=i||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var u={position:t,shape:e,parent:o,parentIndex:r,host:a,hints:i};return this._commandStack.execute("shape.create",u),u.shape},qh.prototype.createElements=function(e,t,n,r,i){(0,mt.kJ)(e)||(e=[e]),"number"!==typeof r&&(i=r,r=void 0);var o={position:t,elements:e,parent:n,parentIndex:r,hints:i=i||{}};return this._commandStack.execute("elements.create",o),o.elements},qh.prototype.createLabel=function(e,t,n,r){n=this._create("label",n);var i={labelTarget:e,position:t,parent:r||e.parent,shape:n};return this._commandStack.execute("label.create",i),i.shape},qh.prototype.appendShape=function(e,t,n,r,i){i=i||{};var o={source:e,position:n,target:r,shape:t=this._create("shape",t),connection:i.connection,connectionParent:i.connectionParent,hints:i};return this._commandStack.execute("shape.append",o),o.shape},qh.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},qh.prototype.distributeElements=function(e,t,n){var r={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",r)},qh.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},qh.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},qh.prototype.replaceShape=function(e,t,n){var r={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape},qh.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},qh.prototype.resizeShape=function(e,t,n,r){var i={shape:e,newBounds:t,minBounds:n,hints:r};this._commandStack.execute("shape.resize",i)},qh.prototype.createSpace=function(e,t,n,r,i){var o={delta:n,direction:r,movingShapes:e,resizingShapes:t,start:i};this._commandStack.execute("spaceTool",o)},qh.prototype.updateWaypoints=function(e,t,n){var r={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)},qh.prototype.reconnect=function(e,t,n,r,i){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:r,hints:i||{}};this._commandStack.execute("connection.reconnect",o)},qh.prototype.reconnectStart=function(e,t,n,r){r||(r={}),this.reconnect(e,t,e.target,n,(0,mt.f0)(r,{docking:"source"}))},qh.prototype.reconnectEnd=function(e,t,n,r){r||(r={}),this.reconnect(e,e.source,t,n,(0,mt.f0)(r,{docking:"target"}))},qh.prototype.connect=function(e,t,n,r){return this.createConnection(e,t,n||{},e.parent,r)},qh.prototype._create=function(e,t){return t instanceof Hn?t:this._elementFactory.create(e,t)},qh.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)};var Yh="default",Kh="id",Jh="di",Qh={width:0,height:0};function ey(e,t,n,r,i){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=r,this._textRenderer=i}function ty(e,t){return Kh in e&&e.id!==t.id}function ny(e,t){(0,mt.Ed)(t,(function(t,n){n!==Jh?e.set(n,t):e.di&&function(e,t){(0,mt.Ed)(t,(function(t,n){e.set(n,t)}))}(e.di,t)}))}ey.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],ey.prototype.execute=function(e){var t=e.element,n=[t],r=this._translate;if(!t)throw new Error(r("element required"));var i=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,s=function(e){var t=(0,mt.f0)({},e);return ry.forEach((function(n){n in e&&(t[n]=(0,Pi.getBusinessObject)(t[n]))})),t}(e.properties),u=e.oldProperties||function(e,t){var n=(0,mt.XP)(t);return(0,mt.u4)(n,(function(n,r){return n[r]=r!==Jh?e.get(r):function(e,t){return(0,mt.u4)(t,(function(t,n){return t[n]=e.get(n),t}),{})}(e.di,(0,mt.XP)(t.di)),n}),{})}(a,s);return ty(s,a)&&(o.unclaim(a.id),i.updateId(t,s.id),o.claim(s.id,a)),Yh in s&&(s.default&&n.push(i.get(s.default.id)),a.default&&n.push(i.get(a.default.id))),ny(a,s),e.oldProperties=u,e.changed=n,n},ey.prototype.postExecute=function(e){var t=e.element.label,n=t&&(0,Pi.getBusinessObject)(t).name;if(n){var r=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,r,Qh)}},ey.prototype.revert=function(e){var t=e.element,n=e.properties,r=e.oldProperties,i=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return ny(i,r),ty(n,i)&&(a.unclaim(n.id),o.updateId(t,r.id),a.claim(r.id,i)),e.changed};var ry=["default"];function iy(e,t){this._canvas=e,this._modeling=t}function oy(e,t){this._modeling=e,this._spaceTool=t}function ay(e,t){this._modeling=e,this._translate=t}function sy(e,t){this._modeling=e,this._spaceTool=t}iy.$inject=["canvas","modeling"],iy.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,r=n.businessObject,i=t.getRootElement(),o=i.businessObject,a=o.$parent,s=o.di;t.setRootElement(n,!0),(0,Pn.IH)(a.rootElements,r),r.$parent=a,(0,Pn.Od)(a.rootElements,o),o.$parent=null,o.di=null,s.bpmnElement=r,r.di=s,e.oldRoot=i},iy.prototype.revert=function(e){var t=this._canvas,n=e.newRoot.businessObject,r=e.oldRoot,i=r.businessObject,o=n.$parent,a=n.di;t.setRootElement(r,!0),(0,Pn.Od)(o.rootElements,n),n.$parent=null,(0,Pn.IH)(o.rootElements,i),i.$parent=o,n.di=null,a.bpmnElement=i,i.di=a},oy.$inject=["modeling","spaceTool"],oy.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,r=e.shape,i=e.location,o=Wc(r),a=o===r,s=a?r:r.parent;Uc(s).length||n.createShape({type:"bpmn:Lane"},{x:r.x+$c,y:r.y,width:r.width-$c,height:r.height},s);var u=[];mn(o,(function(e){return u.push(e),e===r?[]:(0,mt.hX)(e.children,(function(e){return e!==r}))}));var c="top"===i?-120:120,l="top"===i?r.y:r.y+r.height,p=l+("top"===i?10:-10),f="top"===i?"n":"s",d=t.calculateAdjustments(u,"y",c,p);t.makeSpace(d.movingShapes,d.resizingShapes,{x:0,y:c},f),e.newLane=n.createShape({type:"bpmn:Lane"},{x:r.x+(a?$c:0),y:l-("top"===i?120:0),width:r.width-(a?$c:0),height:120},s)},ay.$inject=["modeling","translate"],ay.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,r=e.shape,i=e.count,o=Uc(r),a=o.length;if(a>i)throw new Error(n("more than {count} child lanes",{count:i}));var s,u,c,l,p,f=Math.round(r.height/i);for(p=0;p<i;p++)s=r.y+p*f,u=p===i-1?r.height-f*p:f,c={x:r.x+$c,y:s,width:r.width-$c,height:u},p<a?t.resizeShape(o[p],c):(l={type:"bpmn:Lane"},t.createShape(l,c,r))},sy.$inject=["modeling","spaceTool"],sy.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds;!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},sy.prototype.resizeBalanced=function(e,t){var n=this._modeling,r=Xc(e,t);n.resizeShape(e,t),r.forEach((function(e){n.resizeShape(e.shape,e.newBounds)}))},sy.prototype.resizeSpace=function(e,t){var n,r,i,o,a,s=this._spaceTool,u=co(e),c=Rc(co(t),u),l=Wc(e),p=[],f=[];mn(l,(function(e){return p.push(e),((0,Pi.is)(e,"bpmn:Lane")||(0,Pi.is)(e,"bpmn:Participant"))&&f.push(e),e.children})),(c.bottom||c.top)&&(n=c.bottom||c.top,r=e.y+(c.bottom?e.height:0)+(c.bottom?-10:10),i=c.bottom?"s":"n",o=c.top>0||c.bottom<0?-n:n,a=s.calculateAdjustments(p,"y",o,r),s.makeSpace(a.movingShapes,a.resizingShapes,{x:0,y:n},i)),(c.left||c.right)&&(n=c.right||c.left,r=e.x+(c.right?e.width:0)+(c.right?-10:100),i=c.right?"e":"w",o=c.left>0||c.right<0?-n:n,a=s.calculateAdjustments(f,"x",o,r),s.makeSpace(a.movingShapes,a.resizingShapes,{x:n,y:0},i))};var uy="flowNodeRef",cy="lanes";function ly(e){this._elementRegistry=e}function py(e){this._moddle=e}ly.$inject=["elementRegistry"],ly.prototype.computeUpdates=function(e,t){var n=[],r=[],i={},o=[];function a(e){-1===n.indexOf(e)&&(o.push(e),n.push(e))}function s(e){if(!e.parent)return[];var t=function(e){var t=Wc(e);return i[t.id]||(i[t.id]=Gc(t)),i[t.id]}(e);return t.filter((function(t){return function(e,t){var n=co(t),r=e.x+e.width/2,i=e.y+e.height/2;return r>n.left&&r<n.right&&i>n.top&&i<n.bottom}(e,t)})).map((function(e){return e.businessObject}))}return t.forEach((function(e){var t=Wc(e);if(t&&-1===n.indexOf(t)){var r=t.children.filter((function(e){return(0,Pi.is)(e,"bpmn:FlowNode")}));r.forEach(a),n.push(t)}})),e.forEach(a),o.forEach((function(e){var t=e.businessObject,n=t.get(cy).slice(),i=s(e);r.push({flowNode:t,remove:n,add:i})})),t.forEach((function(e){var t=e.businessObject;e.parent||t.get(uy).forEach((function(e){r.push({flowNode:e,remove:[t],add:[]})}))})),r},ly.prototype.execute=function(e){var t=e.updates;t||(t=e.updates=this.computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach((function(e){var t=e.flowNode,n=t.get(cy);e.remove.forEach((function(e){(0,Pn.Od)(n,e),(0,Pn.Od)(e.get(uy),t)})),e.add.forEach((function(e){(0,Pn.IH)(n,e),(0,Pn.IH)(e.get(uy),t)}))}))},ly.prototype.revert=function(e){e.updates.forEach((function(e){var t=e.flowNode,n=t.get(cy);e.add.forEach((function(e){(0,Pn.Od)(n,e),(0,Pn.Od)(e.get(uy),t)})),e.remove.forEach((function(e){(0,Pn.IH)(n,e),(0,Pn.IH)(e.get(uy),t)}))}))},py.$inject=["moddle"],py.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,r=e.element;e.claiming?t.claim(n,r):t.unclaim(n)},py.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,r=e.element;e.claiming?t.unclaim(n):t.claim(n,r)};var fy={fill:void 0,stroke:void 0};function dy(e){this._commandStack=e}dy.$inject=["commandStack"],dy.prototype.postExecute=function(e){var t=e.elements,n=e.colors||fy,r=this,i={};"fill"in n&&(0,mt.f0)(i,{fill:n.fill}),"stroke"in n&&(0,mt.f0)(i,{stroke:n.stroke}),(0,mt.Ed)(t,(function(e){r._commandStack.execute("element.updateProperties",{element:e,properties:{di:i}})}))};var hy={width:0,height:0};function yy(e,t){function n(e,t){var n=e.label||e,r=e.labelTarget||e;return function(e,t,n){var r=e.businessObject,i=ki(r);i&&("categoryValueRef"===i?r.categoryValueRef.value=t:r[i]=t)}(n,t),[n,r]}this.preExecute=function(t){var n=t.element,r=n.businessObject,i=t.newLabel;if(!Qi(n)&&qi(n)&&!Yi(n)&&!vy(i)){var o=Ji(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:r.id+"_label",businessObject:r})}},this.execute=function(e){return e.oldLabel=ji(e.element),n(e.element,e.newLabel)},this.revert=function(e){return n(e.element,e.oldLabel)},this.postExecute=function(n){var r=n.element,i=r.label||r,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(Qi(i)&&vy(o))!1!==s.removeShape&&e.removeShape(i,{unsetLabel:!1});else if(qi(r)||(0,Pi.is)(r,"bpmn:TextAnnotation")){var u=ji(i);u&&("undefined"===typeof a&&(a=t.getExternalLabelBounds(i,u)),a&&e.resizeShape(i,a,hy))}}}function vy(e){return!e||!e.trim()}function my(e,t,n,r){qh.call(this,e,t,n),this._bpmnRules=r}function gy(){}yy.$inject=["modeling","textRenderer"],yt()(my,qh),my.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],my.prototype.getHandlers=function(){var e=qh.prototype.getHandlers.call(this);return e["element.updateProperties"]=ey,e["canvas.updateRoot"]=iy,e["lane.add"]=oy,e["lane.resize"]=sy,e["lane.split"]=ay,e["lane.updateRefs"]=ly,e["id.updateClaim"]=py,e["element.setColor"]=dy,e["element.updateLabel"]=yy,e},my.prototype.updateLabel=function(e,t,n,r){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:r||{}})},my.prototype.connect=function(e,t,n,r){var i=this._bpmnRules;if(n||(n=i.canConnect(e,t)),n)return this.createConnection(e,t,n,e.parent,r)},my.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},my.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})},my.prototype.addLane=function(e,t){var n={shape:e,location:t};return this._commandStack.execute("lane.add",n),n.newLane},my.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})},my.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e},my.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})},my.prototype.makeProcess=function(){var e={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",e)},my.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},my.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},my.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})},gy.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||po(t.source||e.source),t.connectionEnd||po(t.target||e.target)]};var by=Math.round,xy={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function wy(e,t,n){var r,i,o,a=fo(t,e,5),s=n.split(":")[0],u=by((t.x-e.x)/2+e.x),c=by((t.y-e.y)/2+e.y),l=(o=a,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[s].test(o)),p=/h|r|l/.test(s),f=!1,d=!1;return l?(r=p?{x:u,y:e.y}:{x:e.x,y:c},i=p?"h:h":"v:v"):(f=function(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}(a,s),i=p?"h:v":"v:h",f?p?(d=c===e.y,r={x:e.x+20*(/l/.test(s)?-1:1),y:d?c+20:c}):r={x:(d=u===e.x)?u+20:u,y:e.y+20*(/t/.test(s)?-1:1)}:r={x:u,y:c}),{waypoints:_y(e,r,i).concat(r),directions:i,turnNextDirections:d}}function Ey(e){return e.split(":").reverse().join(":")}function _y(e,t,n){if(!function(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}(n=n||"h:h"))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(jy(n)){var r=function(e,t,n){return wy(e,t,n)}(e,t,n),i=function(e,t,n){var r=wy(t,e,Ey(n));return{waypoints:r.waypoints.slice().reverse(),directions:Ey(r.directions),turnNextDirections:r.turnNextDirections}}(e,t,n),o=function(e,t){var n=e.directions.split(":")[1],r=t.directions.split(":")[0];e.turnNextDirections&&(n="h"==n?"v":"h"),t.turnNextDirections&&(r="h"==r?"v":"h");var i=n+":"+r;return{waypoints:_y(e.waypoints[e.waypoints.length-1],t.waypoints[0],i),directions:i}}(r,i);return[].concat(r.waypoints,o.waypoints,i.waypoints)}return function(e,t,n){var r=by((t.x-e.x)/2+e.x),i=by((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:r,y:e.y},{x:r,y:t.y}];if("v:v"===n)return[{x:e.x,y:i},{x:t.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function Sy(e,t,n,r,i){var o=i&&i.preferredLayouts||[],a=(0,mt.zu)(o,"straight")[0]||"h:h",s=fo(e,t,xy[a]||0),u=function(e,t){if(jy(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(s,a);n=n||po(e),r=r||po(t);var c=u.split(":"),l=Cy(n,e,c[0],function(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}(s));return function(e,t,n){var r=_y(e,t,n);return r.unshift(e),r.push(t),Ty(r)}(l,Cy(r,t,c[1],s),u)}function Oy(e,t,n,r,i,o){var a;return(0,mt.kJ)(n)&&(i=n,o=r,n=po(e),r=po(t)),i=i||[],a=-1!==(o=(0,mt.f0)({preferredLayouts:[]},o)).preferredLayouts.indexOf("straight")&&function(e,t,n,r,i){var o,a,s={};if(a=fo(e,t),!/^(top|bottom|left|right)$/.test(a))return null;/top|bottom/.test(a)&&(o="x");/left|right/.test(a)&&(o="y");return"target"===i.preserveDocking?Py(o,r,e)?(s[o]=r[o],[{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y,original:{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y}},{x:r.x,y:r.y}]):null:Py(o,n,t)?(s[o]=n[o],[{x:n.x,y:n.y},{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y,original:{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y}}]):null}(e,t,n,r,o),a||(a=o.connectionEnd&&function(e,t,n,r){var i=r.slice().reverse();return(i=ky(e,t,n,i))?i.reverse():null}(t,e,r,i),a||((a=o.connectionStart&&ky(e,t,n,i))||(!o.connectionStart&&!o.connectionEnd&&i&&i.length?i:Sy(e,t,n,r,o))))}function Py(e,t,n){return function(e,t,n){return e>=t&&e<=n}(t[e],n[e],n[e]+n[{x:"width",y:"height"}[e]])}function ky(e,t,n,r){if(function(e){return e.length<3||!(e.length>4)&&!!(0,mt.sE)(e,(function(t,n){var r=e[n-1];return r&&eo(t,r)<3}))}(r))return null;var i,o=r[0],a=r.slice();return a[0]=n,a[1]=function(e,t,n){switch(no(t,e)){case"v":return{x:n.x,y:e.y};case"h":return{x:e.x,y:n.y}}return{x:e.x,y:e.y}}(a[1],o,n),i=function(e,t,n){var r;for(r=e.length-2;0!==r;r--)if(ro(e[r],t,20)||ro(e[r],n,20))return e.slice(r);return e}(a,e,t),i!==a&&(a=ky(e,t,n,i)),a&&no(a)?null:a}function jy(e){return e&&/t|r|b|l/.test(e)}function Cy(e,t,n,r){if("h"===n&&(n=/left/.test(r)?"l":"r"),"v"===n&&(n=/top/.test(r)?"t":"b"),"t"===n)return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function Ty(e){return e.reduce((function(t,n,r){return to(t[t.length-1],e[r+1],n,0)||t.push(n),t}),[])}var My={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Ay={top:"t",right:"r",bottom:"b",left:"l"};function Ny(){}function Dy(e,t){return(0,Pi.is)(t,"bpmn:Participant")?"source":(0,Pi.is)(e,"bpmn:Participant")?"target":Ly(t)?"source":Ly(e)||(0,Pi.is)(t,"bpmn:Event")?"target":(0,Pi.is)(e,"bpmn:Event")?"source":null}function Ry(e,t){return e?e.original||e:po(t)}function Iy(e,t){return(0,Pi.is)(t,"bpmn:Activity")&&(0,Pi.is)(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function Ly(e){return(0,Pi.is)(e,"bpmn:SubProcess")&&(0,Oi.ul)(e)}function By(e,t){return e===t}function Fy(e){var t=/right|left/.exec(e);return t&&t[0]}function zy(e){var t=/top|bottom/.exec(e);return t&&t[0]}function Vy(e){return"right"===e||"left"===e}function Hy(e,t){var n=t.waypoints,r=n&&n.length&&fo(n[0],e);return"top"===r?["t:r"]:"right"===r?["r:b"]:"left"===r?["l:t"]:["b:l"]}function $y(e,t,n){var r,i,o=po(e),a=po(t),s=function(e){var t=e.host;return fo(po(e),t,-10)}(e),u=By(e.host,t),c=-1!==["top","right","bottom","left"].indexOf(s),l=fo(a,o,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return u?function(e,t,n,r,i){var o,a=t?e:zy(e),s=Ay[a];o=t?Vy(e)?Gy("y",n,r,i)?"h":"b":Gy("x",n,r,i)?"v":"l":"v";return[s+":"+o]}(s,c,e,t,n):(r=function(e,t,n){if(n)return Ay[e];if(By(zy(e),zy(t))||function(e,t){return My[e]===t}(Fy(e),Fy(t)))return Ay[zy(e)];return Ay[Fy(e)]}(s,l,c),i=function(e,t,n){if(n)return Vy(e)?function(e,t){var n=Fy(e),r=My[n];return-1!==t.indexOf(r)}(e,t)||By(e,t)?"h":"v":function(e,t){var n=zy(e),r=My[n];return-1!==t.indexOf(r)}(e,t)||By(e,t)?"v":"h";return Vy(t)||By(zy(e),zy(t))&&Fy(t)?"h":"v"}(s,l,c),[r+":"+i])}function Gy(e,t,n,r){return!(Uy(e,r,n,40)||Uy(e,r,{x:n.x+n.width,y:n.y+n.height},40)||Uy(e,r,po(t),40))}function Uy(e,t,n,r){return Math.abs(t[e]-n[e])<r}function Wy(e){return(0,mt.f0)({original:e.point.original||e.point},e.actual)}function Xy(e,t){this._elementRegistry=e,this._graphicsFactory=t}yt()(Ny,gy),Ny.prototype.layoutConnection=function(e,t){t||(t={});var n,r,i=t.source||e.source,o=t.target||e.target,a=t.waypoints||e.waypoints,s=t.connectionStart,u=t.connectionEnd;return s||(s=Ry(a&&a[0],i)),u||(u=Ry(a&&a[a.length-1],o)),((0,Pi.is)(e,"bpmn:Association")||(0,Pi.is)(e,"bpmn:DataAssociation"))&&a&&!Iy(i,o)?[].concat([s],a.slice(1,-1),[u]):((0,Pi.is)(e,"bpmn:MessageFlow")?n=function(e,t){return{preferredLayouts:["straight","v:v"],preserveDocking:Dy(e,t)}}(i,o):((0,Pi.is)(e,"bpmn:SequenceFlow")||Iy(i,o))&&(n=i===o?{preferredLayouts:Hy(i,e)}:(0,Pi.is)(i,"bpmn:BoundaryEvent")?{preferredLayouts:$y(i,o,u)}:(0,Pi.is)(i,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:(0,Pi.is)(o,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),n&&(r=Ty(Oy(i,o,s,u,a,n=(0,mt.f0)(n,t)))),r||[s,u])},Xy.$inject=["elementRegistry","graphicsFactory"],Xy.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var r=this.getDockingPoint(e,t,!0),i=this.getDockingPoint(e,n),o=e.waypoints.slice(r.idx+1,i.idx);return o.unshift(Wy(r)),o.push(Wy(i)),o},Xy.prototype.getDockingPoint=function(e,t,n){var r,i,o=e.waypoints;return{point:i=o[r=n?0:o.length-1],actual:this._getIntersection(t,e,n)||i,idx:r}},Xy.prototype._getIntersection=function(e,t,n){return ho(this._getShapePath(e),this._getConnectionPath(t),n)},Xy.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},Xy.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},Xy.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var Zy={__init__:["modeling","bpmnUpdater"],__depends__:[Af,fd,yd,mc,md,Ed,Pd,Td,Bo,Rl,Yd],bpmnFactory:["type",Kd],bpmnUpdater:["type",Jd],elementFactory:["type",eh],modeling:["type",my],layouter:["type",Ny],connectionDocking:["type",Xy]},qy=Math.round;function Yy(e,t,n,r,i){function o(e,t,n,r){return i.allowed("elements.move",{shapes:e,delta:t,position:n,target:r})}function a(e,n,r,i){if((0,mt.Kn)(r)&&(i=r,r=!1),!n.waypoints&&n.parent){var o=function(e){return{x:e.x+qy(e.width/2),y:e.y+qy(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:r,data:{shape:n,context:i||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t=e.context,n=e.shape,i=r.get().slice();-1===i.indexOf(n)&&(i=[n]),i=function(e){var t=(0,mt.vM)(e,"id");return(0,mt.hX)(e,(function(e){for(;e=e.parent;)if(t[e.id])return!1;return!0}))}(i),(0,mt.f0)(t,{shapes:i,validatedShapes:i,shape:n})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,r=n.validatedShapes,i=e.hover,a={x:e.dx,y:e.dy};t=o(r,a,{x:e.x,y:e.y},i),n.delta=a,n.canExecute=t,n.target=null!==t?i:null})),e.on("shape.move.end",(function(e){var t=e.context,r=t.delta,i=t.canExecute,o="attach"===i,a=t.shapes;if(!1===i)return!1;r.x=qy(r.x),r.y=qy(r.y),0===r.x&&0===r.y||n.moveElements(a,r,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){var t=wo(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)})),this.start=a}Yy.$inject=["eventBus","dragging","modeling","selection","rules"];var Ky="djs-dragging",Jy="drop-ok",Qy="drop-not-ok",ev="new-parent",tv="attach-ok";function nv(e,t,n,r){function i(e){var t=function(e){return(0,mt.hX)(e,(function(t){return!function(e){return e.waypoints}(t)||(0,mt.sE)(e,(0,mt.KQ)({id:t.source.id}))&&(0,mt.sE)(e,(0,mt.KQ)({id:t.target.id}))}))}(o(e));return t}function o(e){var t=bn(e,!0),n=(0,mt.UI)(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return(0,mt.xH)(t.concat(n))}function a(e,n){[tv,Jy,Qy,ev].forEach((function(r){r===n?t.addMarker(e,r):t.removeMarker(e,r)}))}e.on("shape.move.start",499,(function(e){var a,s=e.context,u=s.shapes,c=s.allDraggedElements,l=i(u);if(!s.dragGroup){var p=Lt("g");St(p,n.cls("djs-drag-group",["no-events"])),wt(t.getDefaultLayer(),p),s.dragGroup=p}l.forEach((function(e){r.addDragger(e,s.dragGroup)})),c=c?(0,mt.xH)([c,o(u)]):o(u),(0,mt.Ed)(c,(function(e){t.addMarker(e,Ky)})),s.allDraggedElements=c,s.differentParents=(a=u,1!==(0,mt.dp)((0,mt.vM)(a,(function(e){return e.parent&&e.parent.id}))))})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,r=t.target,i=t.shape.parent,o=t.canExecute;r&&("attach"===o?a(r,tv):t.canExecute&&r&&r.id!==i.id?a(r,ev):a(r,t.canExecute?Jy:Qy)),er(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&a(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,r=n.allDraggedElements,i=n.dragGroup;(0,mt.Ed)(r,(function(e){t.removeMarker(e,Ky)})),i&&Mt(i)})),this.makeDraggable=function(e,n,i){r.addDragger(n,e.dragGroup),i&&t.addMarker(n,Ky),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}nv.$inject=["eventBus","canvas","styles","previewSupport"];var rv={__depends__:[Co,Bo,Mo,gs,ds,Mu],__init__:["move","movePreview"],move:["type",Yy],movePreview:["type",nv]},iv=".djs-palette-toggle",ov=".entry",av="open";function sv(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function uv(e,t){var n=t.getPaletteEntries();return(0,mt.mf)(n)?n(e):((0,mt.Ed)(n,(function(t,n){e[n]=t})),e)}sv.$inject=["eventBus","canvas"],sv.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},sv.prototype.getEntries=function(){return this._getProviders().reduce(uv,{})},sv.prototype._rebuild=function(){this._diagramInitialized&&(this._getProviders().length&&(this._container||this._init(),this._update()))},sv.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),r=this._container=(0,gt.H6)(sv.HTML_MARKUP);n.appendChild(r),gt.cl.bind(r,".djs-palette-toggle, .entry","click",(function(t){var n=t.delegateTarget;if((0,gt.wB)(n,iv))return e.toggle();e.trigger("click",t)})),gt.B.bind(r,"mousedown",(function(e){e.stopPropagation()})),gt.cl.bind(r,ov,"dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:r})},sv.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},sv.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),r=this._container,i=this._eventBus,o=(0,gt.Sh)(r);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),"open"in e&&o.toggle(av,e.open),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},sv.prototype._update=function(){var e=(0,gt.IO)(".djs-palette-entries",this._container),t=this._entries=this.getEntries();(0,gt.ZH)(e),(0,mt.Ed)(t,(function(t,n){var r=t.group||"default",i=(0,gt.IO)("[data-group="+r+"]",e);i||(i=(0,gt.H6)('<div class="group" data-group="'+r+'"></div>'),e.appendChild(i));var o=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=(0,gt.H6)(o);i.appendChild(a),t.separator||((0,gt.Lj)(a,"data-action",n),t.title&&(0,gt.Lj)(a,"title",t.title),t.className&&function(e,t){var n=(0,gt.Sh)(e);((0,mt.kJ)(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(a,t.className),t.imageUrl&&a.appendChild((0,gt.H6)('<img src="'+t.imageUrl+'">')))})),this.open()},sv.prototype.trigger=function(e,t,n){var r,i,o,a=this._entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();(r=a[(0,gt.Lj)(s,"data-action")])&&(i=r.action,o=t.originalEvent||t,(0,mt.mf)(i)?"click"===e&&i(o,n):i[e]&&i[e](o,n),t.preventDefault())},sv.prototype._layoutChanged=function(){this._toggleState({})},sv.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},sv.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},sv.prototype.open=function(){this._toggleState({open:!0})},sv.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},sv.prototype.isActiveTool=function(e){return e&&this._activeTool===e},sv.prototype.updateToolHighlight=function(e){var t,n;this._toolsContainer||(t=(0,gt.IO)(".djs-palette-entries",this._container),this._toolsContainer=(0,gt.IO)("[data-group=tools]",t)),n=this._toolsContainer,(0,mt.Ed)(n.children,(function(t){var n=t.getAttribute("data-action");if(n){var r=(0,gt.Sh)(t);n=n.replace("-tool",""),r.contains("entry")&&n===e?r.add("highlighted-entry"):r.remove("highlighted-entry")}}))},sv.prototype.isOpen=function(){return(0,gt.Sh)(this._container).has(av)},sv.prototype._getParentContainer=function(){return this._canvas.getContainer()},sv.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var cv={__init__:["palette"],palette:["type",sv]},lv="crosshair";function pv(e,t,n,r,i,o){this._selection=i,this._dragging=n;var a=this,s=function(e){var n,r=t.getDefaultLayer();St(n=e.frame=Lt("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),wt(r,n)},u=function(e){var t=e.frame,n=e.bbox;St(t,{x:n.x,y:n.y,width:n.width,height:n.height})},c=function(e){e.frame&&Mt(e.frame)};o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){a.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=fv(e),n=r.filter((function(e){return e}));a.select(n,t)})),e.on("lasso.start",(function(e){var t=e.context;t.bbox=fv(e),s(t)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=fv(e),u(t)})),e.on("lasso.cleanup",(function(e){var t=e.context;c(t)})),e.on("element.mousedown",1500,(function(e){if(Po(e))return a.activateLasso(e.originalEvent),!0}))}function fv(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}pv.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],pv.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:lv,data:{context:{}}})},pv.prototype.activateSelection=function(e){this._dragging.init(e,"lasso.selection",{trapClick:!1,cursor:lv,data:{context:{}}})},pv.prototype.select=function(e,t){var n=function(e,t){var n={};return(0,mt.Ed)(e,(function(e){var r=e;r.waypoints&&(r=xn(r)),!(0,mt.hj)(t.y)&&r.x>t.x&&(n[e.id]=e),!(0,mt.hj)(t.x)&&r.y>t.y&&(n[e.id]=e),r.x>t.x&&r.y>t.y&&((0,mt.hj)(t.width)&&(0,mt.hj)(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y?n[e.id]=e:(0,mt.hj)(t.width)&&(0,mt.hj)(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select((0,mt.VO)(n))},pv.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},pv.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var dv={__depends__:[Ad],__init__:["lassoTool"],lassoTool:["type",pv]},hv=1500,yv="grab";function vv(e,t,n,r,i){this._dragging=n;var o=this,a=r.get("keyboard",!1);i.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",hv,(function(e){if(Oo(e))return this.activateMove(e.originalEvent),!1}),this),a&&a.addListener(hv,(function(e){function t(e){o.activateMove(e),window.removeEventListener("mousemove",t)}mv(e.keyEvent)&&(o.isActive()||(window.addEventListener("mousemove",t),a.addListener(hv,(function e(r){mv(r.keyEvent)&&(window.removeEventListener("mousemove",t),a.removeListener(e,"keyboard.keyup"),n.cancel())}),"keyboard.keyup")))}),"keyboard.keydown"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!t.hover&&!(n instanceof SVGElement))return!1;e.once("hand.ended",(function(){this.activateMove(t.originalEvent,{reactivate:!0})}),this)}),this),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!Oo(t)&&n&&e.once("hand.move.ended",(function(e){this.activateHand(e.originalEvent,!0,!0)}),this),!1}),this)}function mv(e){return ea(" ",e)}vv.$inject=["eventBus","canvas","dragging","injector","toolManager"],vv.prototype.activateMove=function(e,t,n){"object"===typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:yv,data:{context:n||{}}})},vv.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:yv,data:{context:{reactivate:n}}})},vv.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},vv.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};var gv={__depends__:[Ad],__init__:["handTool"],handTool:["type",vv]},bv="connect-ok",xv="connect-not-ok";function wv(e,t,n,r,i,o){var a=this;this._dragging=t,this._rules=o,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",(function(e){var t=e.context,n=e.hover,i=t.canStartConnect=a.canStartConnect(n);null!==i&&(t.startTarget=n,r.addMarker(n,i?bv:xv))})),e.on(["global-connect.out","global-connect.cleanup"],(function(e){var t=e.context.startTarget,n=e.context.canStartConnect;t&&r.removeMarker(t,n?bv:xv)})),e.on(["global-connect.ended"],(function(t){var r=t.context.startTarget,i={x:t.x,y:t.y};if(a.canStartConnect(r))return e.once("element.out",(function(){e.once(["connect.ended","connect.canceled"],(function(){e.fire("global-connect.drag.ended")})),n.start(null,r,i)})),!1}))}wv.$inject=["eventBus","dragging","connect","canvas","toolManager","rules"],wv.prototype.start=function(e){this._dragging.init(e,"global-connect",{trapClick:!1,data:{context:{}}})},wv.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.start()},wv.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},wv.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var Ev={__depends__:[yu,gs,ds,Ad],globalConnect:["type",wv]};function _v(e,t,n,r,i,o,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=r,this._lassoTool=i,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}_v.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],_v.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,i=this._spaceTool,o=this._lassoTool,a=this._handTool,s=this._globalConnect,u=this._translate;function c(e,t,i,o,a){function s(t){var i=r.createShape((0,mt.f0)({type:e},a));a&&(i.businessObject.di.isExpanded=a.isExpanded),n.start(t,i)}var c=e.replace(/^bpmn:/,"");return{group:t,className:i,title:o||u("Create {type}",{type:c}),action:{dragstart:s,click:s}}}function l(e){var t=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),i=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:t});n.start(e,[t,i],{hints:{autoSelect:[i]}})}function p(e){n.start(e,r.createParticipantShape())}return(0,mt.f0)(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:u("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:u("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:u("Activate the create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:u("Activate the global connect tool"),action:{click:function(e){s.toggle(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":c("bpmn:StartEvent","event","bpmn-icon-start-event-none",u("Create StartEvent")),"create.intermediate-event":c("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",u("Create Intermediate/Boundary Event")),"create.end-event":c("bpmn:EndEvent","event","bpmn-icon-end-event-none",u("Create EndEvent")),"create.exclusive-gateway":c("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",u("Create Gateway")),"create.task":c("bpmn:Task","activity","bpmn-icon-task",u("Create Task")),"create.data-object":c("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",u("Create DataObjectReference")),"create.data-store":c("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",u("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:u("Create expanded SubProcess"),action:{dragstart:l,click:l}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:u("Create Pool/Participant"),action:{dragstart:p,click:p}},"create.group":c("bpmn:Group","artifact","bpmn-icon-group",u("Create Group"))}),t};var Sv={__depends__:[cv,Hu,Yd,dv,gv,Ev,Xi.Z],__init__:["paletteProvider"],paletteProvider:["type",_v]};function Ov(e,t,n,r,i){es.call(this,e),e.on("shape.move.move",250,(function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a&&a.replacements?function(e){var o=e.canExecute.replacements;(0,mt.Ed)(o,(function(o){var a=o.oldElementId,s={type:o.newElementType};if(!e.visualReplacements[a]){var u=t.get(a);(0,mt.f0)(s,{x:u.x,y:u.y});var c=n.createShape(s);r.addShape(c,u.parent);var l=(0,gt.IO)('[data-element-id="'+Ts()(u.id)+'"]',e.dragGroup);l&&St(l,{display:"none"});var p=i.addDragger(c,e.dragGroup);e.visualReplacements[a]=p,r.removeShape(c)}}))}(o):function(e){var t=e.visualReplacements;(0,mt.Ed)(t,(function(n,r){var i=(0,gt.IO)('[data-element-id="'+Ts()(r)+'"]',e.dragGroup);i&&St(i,{display:"inline"}),n.remove(),t[r]&&delete t[r]}))}(o)}))}Ov.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],yt()(Ov,es);var Pv={__depends__:[Mu],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",Ov]},kv=40,jv=["x","y"],Cv=Math.abs;function Tv(e){e.on(["connect.hover","connect.move","connect.end"],1250,(function(e){var t=e.context,n=t.canExecute,r=t.start,i=t.hover,o=t.source,a=t.target;e.originalEvent&&Qo(e.originalEvent)||(t.initialConnectionStart||(t.initialConnectionStart=t.connectionStart),n&&i&&function(e,t,n){jv.forEach((function(r){var i=Nv(r,t);e[r]<t[r]+n?iu(e,r,t[r]+n):e[r]>t[r]+i-n&&iu(e,r,t[r]+i-n)}))}(e,i,function(e){return(0,Pi.is)(e,"bpmn:Task")?10:20}(i)),i&&function(e,t){return(0,mt.G)(t,(function(t){return Av(e,t)}))}(n,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(t.connectionStart=nu(r),(0,$a.J)(i,["bpmn:Event","bpmn:Gateway"])&&Mv(e,nu(i)),(0,$a.J)(i,["bpmn:Task","bpmn:SubProcess"])&&function(e,t){var n=nu(t);jv.forEach((function(r){(function(e,t,n){return e[n]>t[n]+20&&e[n]<t[n]+Nv(n,t)-20})(e,t,r)&&iu(e,r,n[r])}))}(e,i),(0,Pi.is)(o,"bpmn:BoundaryEvent")&&a===o.host&&function(e){var t=e.context,n=t.source,r=t.target;if(function(e){var t=e.hover,n=e.source;return t&&n&&t===n}(t))return;var i=nu(n),o=fo(i,r,-10),a=[];/top|bottom/.test(o)&&a.push("x");/left|right/.test(o)&&a.push("y");a.forEach((function(t){var n,r=e[t];Cv(r-i[t])<kv&&(n=r>i[t]?i[t]+kv:i[t]-kv,iu(e,t,n))}))}(e)):Av(n,"bpmn:MessageFlow")?((0,Pi.is)(r,"bpmn:Event")&&(t.connectionStart=nu(r)),(0,Pi.is)(i,"bpmn:Event")&&Mv(e,nu(i))):t.connectionStart=t.initialConnectionStart)}))}function Mv(e,t){iu(e,"x",t.x),iu(e,"y",t.y)}function Av(e,t){return e&&e.type===t}function Nv(e,t){return"x"===e?t.width:t.height}function Dv(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Rv(e){this._snapValues={}}Tv.$inject=["eventBus"],Dv.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},Dv.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},Dv.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},Dv.prototype.getSnapLocations=function(){return this._snapLocations},Dv.prototype.setSnapLocations=function(e){this._snapLocations=e},Dv.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new Rv).initDefaults(this._defaultSnaps),n},Rv.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},Rv.prototype.snap=function(e,t,n,r){var i=this._snapValues[t];return i&&function(e,t,n){var r,i;for(n=void 0===n?10:n,r=0;r<t.length;r++)if(i=t[r],Js(i-e)<=n)return i}(e[n],i[n],r)},Rv.prototype.initDefaults=function(e){var t=this;(0,mt.Ed)(e||{},(function(e,n){(0,mt.Ed)(e,(function(e){t.add(n,e)}))}))};function Iv(e,t,n){var r=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){r.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,i=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!Qo(e.originalEvent))&&!ru(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=r.addSnapTargetPoints(s,i,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}function Lv(e){return!!e.labelTarget}Iv.$inject=["elementRegistry","eventBus","snapping"],Iv.prototype.initSnap=function(e){var t,n=this._elementRegistry,r=e.context,i=r.shape,o=r.snapContext;o||(o=r.snapContext=new Dv);var a=(t=n.get(i.id)?nu(i,e):{x:e.x+nu(i).x,y:e.y+nu(i).y}).x-i.width/2,s=t.y-i.height/2,u=t.x+i.width/2,c=t.y+i.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),Lv(i)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:u-e.x,y:c-e.y})),o},Iv.prototype.addSnapTargetPoints=function(e,t,n){var r=this.getSnapTargets(t,n);return(0,mt.Ed)(r,(function(n){if(Lv(n))Lv(t)&&e.add("mid",nu(n));else if(n.waypoints){if(n.waypoints.length<3)return;var r=n.waypoints.slice(1,-1);(0,mt.Ed)(r,(function(t){e.add("mid",t)}))}else{e.add("mid",nu(n))}})),(0,mt.hj)(t.x)&&(0,mt.hj)(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",nu(t)),e):e},Iv.prototype.getSnapTargets=function(e,t){return ou(t).filter((function(e){return!e.hidden}))};function Bv(e,t){t.invoke(Iv,this),e.on(["create.move","create.end"],1500,Fv),e.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,(function(e){var t=e.context,n=t.canExecute,r=t.target;n&&("attach"===n||n.attach)&&!ru(e)&&function(e,t){var n,r=co(t),i=Nf(e,t),o=e.context.shape;n=o.parent?{x:0,y:0}:po(o);/top/.test(i)?iu(e,"y",r.top-n.y):/bottom/.test(i)&&iu(e,"y",r.bottom-n.y);/left/.test(i)?iu(e,"x",r.left-n.x):/right/.test(i)&&iu(e,"x",r.right-n.x)}(e,r)}))}function Fv(e){var t=e.context.createConstraints;if(t){var n=t.top,r=t.right,i=t.bottom,o=t.left;(o&&o>=e.x||r&&r<=e.x)&&iu(e,"x",e.x),(n&&n>=e.y||i&&i<=e.y)&&iu(e,"y",e.y)}}function zv(e,t){return-1!==e.indexOf(t)}yt()(Bv,Iv),Bv.$inject=["eventBus","injector"],Bv.prototype.initSnap=function(e){var t=Iv.prototype.initSnap.call(this,e),n=e.shape;return(0,mt.Ed)(n.outgoing,(function(n){var r=n.waypoints[0];r=r.original||r,t.setSnapOrigin(n.id+"-docking",{x:r.x-e.x,y:r.y-e.y})})),(0,mt.Ed)(n.incoming,(function(n){var r=n.waypoints[n.waypoints.length-1];r=r.original||r,t.setSnapOrigin(n.id+"-docking",{x:r.x-e.x,y:r.y-e.y})})),(0,Pi.is)(n,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t},Bv.prototype.addSnapTargetPoints=function(e,t,n){Iv.prototype.addSnapTargetPoints.call(this,e,t,n);var r=this.getSnapTargets(t,n);return(0,mt.Ed)(r,(function(n){(function(e){if((0,Pi.is)(e,"bpmn:SubProcess")&&(0,Oi.ul)(e))return!0;return(0,Pi.is)(e,"bpmn:Participant")}(n)||function(e,t){return e.every((function(e){return(0,Pi.is)(e,t)}))}([t,n],"bpmn:TextAnnotation"))&&(e.add("top-left",eu(n)),e.add("bottom-right",tu(n)))})),(0,mt.Ed)(t.incoming,(function(t){zv(r,t.source)||e.add("mid",po(t.source));var n=t.waypoints[0];e.add(t.id+"-docking",n.original||n)})),(0,mt.Ed)(t.outgoing,(function(t){zv(r,t.target)||e.add("mid",po(t.target));var n=t.waypoints[t.waypoints.length-1];e.add(t.id+"-docking",n.original||n)})),(0,Pi.is)(n,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,n.parent)),e},Bv.prototype.getSnapTargets=function(e,t){return Iv.prototype.getSnapTargets.call(this,e,t).filter((function(e){return!(0,Pi.is)(e,"bpmn:Lane")}))};function Vv(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var r=e.context,i=r.shape,o=i.parent,a=r.direction,s=r.snapContext;if((!e.originalEvent||!Qo(e.originalEvent))&&!ru(e)){var u=s.pointsForTarget(o);u.initialized||((u=n.addSnapTargetPoints(u,i,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&iu(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&iu(e,"y",e.y),t.snap(e,u)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function Hv(e,t){var n=po(e),r=co(e),i={x:n.x,y:n.y};return-1!==t.indexOf("n")?i.y=r.top:-1!==t.indexOf("s")&&(i.y=r.bottom),-1!==t.indexOf("e")?i.x=r.right:-1!==t.indexOf("w")&&(i.x=r.left),i}Vv.prototype.initSnap=function(e){var t=e.context,n=t.shape,r=t.direction,i=t.snapContext;i||(i=t.snapContext=new Dv);var o=Hv(n,r);return i.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),i},Vv.prototype.addSnapTargetPoints=function(e,t,n,r){var i=this.getSnapTargets(t,n);return(0,mt.Ed)(i,(function(t){e.add("corner",tu(t)),e.add("corner",eu(t))})),e.add("corner",Hv(t,r)),e},Vv.$inject=["eventBus","snapping"],Vv.prototype.getSnapTargets=function(e,t){return ou(t).filter((function(t){return n=e,!(t.host===n)&&!function(e){return!!e.waypoints}(t)&&!function(e){return!!e.hidden}(t)&&!function(e){return!!e.labelTarget}(t);var n}))};function $v(e){this._canvas=e,this._asyncHide=(0,mt.Ds)((0,mt.ak)(this.hide,this),1e3)}$v.$inject=["canvas"],$v.prototype.snap=function(e,t){var n=e.context.snapContext,r=n.getSnapLocations(),i={x:ru(e,"x"),y:ru(e,"y")};(0,mt.Ed)(r,(function(r){var o=n.getSnapOrigin(r),a={x:e.x+o.x,y:e.y+o.y};if((0,mt.Ed)(["x","y"],(function(e){var n;i[e]||void 0!==(n=t.snap(a,r,e,7))&&(i[e]={value:n,originValue:n-o[e]})})),i.x&&i.y)return!1})),this.showSnapLine("vertical",i.x&&i.x.value),this.showSnapLine("horizontal",i.y&&i.y.value),(0,mt.Ed)(["x","y"],(function(t){var n=i[t];(0,mt.Kn)(n)&&iu(e,t,n.originValue)}))},$v.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=Lt("path");return St(n,{d:"M0,0 L0,0"}),Ct(n).add("djs-snap-line"),wt(t,n),{update:function(t){(0,mt.hj)(t)?St(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):St(n,{display:"none"})}}},$v.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},$v.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},$v.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},$v.prototype.hide=function(){(0,mt.Ed)(this._snapLines,(function(e){e.update()}))};var Gv={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Iv],resizeSnapping:["type",Vv],snapping:["type",$v]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",Tv],createMoveSnapping:["type",Bv]},Uv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Wv(e){return(e=""+e)&&e.replace(/[&<>"']/g,(function(e){return Uv[e]}))}function Xv(e,t,n,r){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=r,this._container=(0,gt.H6)(Xv.BOX_HTML),this._searchInput=(0,gt.IO)(Xv.INPUT_SELECTOR,this._container),this._resultsContainer=(0,gt.IO)(Xv.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy"],this.close,this)}function Zv(e,t,n){var r=function(e){var t="";return e.forEach((function(e){e.matched?t+='<strong class="'+Xv.RESULT_HIGHLIGHT_CLASS+'">'+Wv(e.matched)+"</strong>":t+=Wv(e.normal)})),""!==t?t:null}(t),i=(0,gt.H6)(n);i.innerHTML=r,e.appendChild(i)}Xv.$inject=["canvas","eventBus","overlays","selection"],Xv.prototype._bindEvents=function(){var e=this;function t(t,n,r,i){e._eventMaps.push({el:t,type:r,listener:gt.cl.bind(t,n,r,i)})}t(document,"html","click",(function(t){e.close()})),t(this._container,Xv.INPUT_SELECTOR,"click",(function(e){e.stopPropagation(),e.delegateTarget.focus()})),t(this._container,Xv.RESULT_SELECTOR,"mouseover",(function(t){t.stopPropagation(),e._scrollToNode(t.delegateTarget),e._preselect(t.delegateTarget)})),t(this._container,Xv.RESULT_SELECTOR,"click",(function(t){t.stopPropagation(),e._select(t.delegateTarget)})),t(this._container,Xv.INPUT_SELECTOR,"keydown",(function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()})),t(this._container,Xv.INPUT_SELECTOR,"keyup",(function(t){if(27===t.keyCode)return e.close();if(13===t.keyCode){var n=e._getCurrentResult();return n?e._select(n):e.close()}return 38===t.keyCode?e._scrollToDirection(!0):40===t.keyCode?e._scrollToDirection():void(37!==t.keyCode&&39!==t.keyCode&&e._search(t.delegateTarget.value))}))},Xv.prototype._unbindEvents=function(){this._eventMaps.forEach((function(e){gt.cl.unbind(e.el,e.type,e.listener)}))},Xv.prototype._search=function(e){var t=this;if(this._clearResults(),e&&""!==e){var n=this._searchProvider.find(e);if(n.length){n.forEach((function(e){var n=e.element.id,r=t._createResultNode(e,n);t._results[n]={element:e.element,node:r}}));var r=(0,gt.IO)(Xv.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(r),this._preselect(r)}}},Xv.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var n=e?t.previousElementSibling:t.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}},Xv.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var t=e.offsetTop,n=this._resultsContainer.scrollTop,r=t-this._resultsContainer.clientHeight+e.clientHeight;t<n?this._resultsContainer.scrollTop=t:n<r&&(this._resultsContainer.scrollTop=r)}},Xv.prototype._clearResults=function(){(0,gt.ZH)(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Xv.prototype._getCurrentResult=function(){return(0,gt.IO)(Xv.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Xv.prototype._createResultNode=function(e,t){var n=(0,gt.H6)(Xv.RESULT_HTML);return e.primaryTokens.length>0&&Zv(n,e.primaryTokens,Xv.RESULT_PRIMARY_HTML),Zv(n,e.secondaryTokens,Xv.RESULT_SECONDARY_HTML),(0,gt.Lj)(n,Xv.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},Xv.prototype.registerProvider=function(e){this._searchProvider=e},Xv.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,(0,gt.Sh)(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Xv.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,(0,gt.Sh)(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Xv.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Xv.prototype.isOpen=function(){return this._open},Xv.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&(0,gt.Sh)(t).remove(Xv.RESULT_SELECTED_CLASS);var n=(0,gt.Lj)(e,Xv.RESULT_ID_ATTRIBUTE),r=this._results[n].element;(0,gt.Sh)(e).add(Xv.RESULT_SELECTED_CLASS),this._resetOverlay(r),this._centerViewbox(r),this._selection.select(r),this._eventBus.fire("searchPad.preselected",r)}},Xv.prototype._select=function(e){var t=(0,gt.Lj)(e,Xv.RESULT_ID_ATTRIBUTE),n=this._results[t].element;this.close(),this._resetOverlay(),this._centerViewbox(n),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)},Xv.prototype._centerViewbox=function(e){var t=this._canvas.viewbox(),n=xn(e),r={x:n.x+n.width/2-t.outer.width/2,y:n.y+n.height/2-t.outer.height/2,width:t.outer.width,height:t.outer.height};this._canvas.viewbox(r),this._canvas.zoom(t.scale)},Xv.prototype._resetOverlay=function(e){if(this._overlayId&&this._overlays.remove(this._overlayId),e){var t=function(e){var t=6,n=e.width+2*t,r=e.height+2*t,i=["width: "+n+"px","height: "+r+"px"].join("; ");return{position:{bottom:r-t,right:n-t},show:!0,html:'<div style="'+i+'" class="'+Xv.OVERLAY_CLASS+'"></div>'}}(xn(e));this._overlayId=this._overlays.add(e,t)}},Xv.CONTAINER_SELECTOR=".djs-search-container",Xv.INPUT_SELECTOR=".djs-search-input input",Xv.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Xv.RESULT_SELECTOR=".djs-search-result",Xv.RESULT_SELECTED_CLASS="djs-search-result-selected",Xv.RESULT_SELECTED_SELECTOR="."+Xv.RESULT_SELECTED_CLASS,Xv.RESULT_ID_ATTRIBUTE="data-result-id",Xv.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Xv.OVERLAY_CLASS="djs-search-overlay",Xv.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Xv.RESULT_HTML='<div class="djs-search-result"></div>',Xv.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Xv.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var qv={__depends__:[Uo,Bo],searchPad:["type",Xv]};function Yv(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function Kv(e){var t=(0,mt.hX)(e,(function(e){return!!e.matched}));return t.length>0}function Jv(e,t){var n=[],r=e;if(!e)return n;e=e.toLowerCase(),t=t.toLowerCase();var i=e.indexOf(t);return i>-1?(0!==i&&n.push({normal:r.substr(0,i)}),n.push({matched:r.substr(i,t.length)}),t.length+i<e.length&&n.push({normal:r.substr(t.length+i,e.length)})):n.push({normal:r}),n}Yv.$inject=["elementRegistry","searchPad","canvas"],Yv.prototype.find=function(e){var t=this._canvas.getRootElement(),n=this._elementRegistry.filter((function(e){return!e.labelTarget}));return n=(0,mt.hX)(n,(function(e){return e!==t})),n=(0,mt.UI)(n,(function(t){return{primaryTokens:Jv(ji(t),e),secondaryTokens:Jv(t.id,e),element:t}})),n=(0,mt.hX)(n,(function(e){return Kv(e.primaryTokens)||Kv(e.secondaryTokens)})),n=(0,mt.MR)(n,(function(e){return ji(e.element)+e.element.id}))};var Qv={__depends__:[qv],__init__:["bpmnSearch"],bpmnSearch:["type",Yv]};function em(e){Jo.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.context)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}yt()(em,Jo),em.Viewer=Jo,em.NavigatedViewer=ka,em.prototype.createDiagram=function(e){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>',e)},em.prototype._createModdle=function(e){var t=Jo.prototype._createModdle.call(this,e);return t.ids=new vt.Z([32,36,1]),t},em.prototype._collectIds=function(e,t){var n,r=e.$model.ids;for(n in r.clear(),t.elementsById)r.claim(n,t.elementsById[n])},em.prototype._interactionModules=[fa,xa,Ia,Pa],em.prototype._modelingModules=[Ha,Qa,vs,as,cu,yu,mu,Yc,cc,Hu,tl,sl,wl,_l,Ol,Nl,ep,Zy,rv,Sv,Pv,Wl,Gv,Qv],em.prototype._modules=[].concat(em.prototype._modules,em.prototype._interactionModules,em.prototype._modelingModules);var tm=n(7718),nm=n.n(tm),rm=n(7839),im=n.n(rm),om=JSON.parse('{"name":"Camunda","uri":"http://camunda.org/schema/1.0/bpmn","prefix":"camunda","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","camunda:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"camunda:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["camunda:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","camunda:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["camunda:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","camunda:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["camunda:ServiceTaskLike","camunda:ExecutionListener","camunda:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["camunda:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["camunda:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true},{"name":"id","type":"String","isAttr":true},{"name":"eventDefinitions","type":"bpmn:TimerEventDefinition","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}'),am=function(e){de();var n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useState)("false"),o=(0,s.Z)(i,2),a=o[0],u=o[1];(0,t.useEffect)((function(){r.current&&"false"===a&&(n.current=new em({container:r.current,propertiesPanel:{parent:"#js-properties-panel"},additionalModules:[im(),nm()],moddleExtensions:{camunda:om}}),n.current.importXML('<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="sid-38422fae-e03e-43a3-bef4-bd33b32041b2" targetNamespace="http://bpmn.io/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="5.1.2">\n<process id="Process_1" isExecutable="false">\n</process>\n<bpmndi:BPMNDiagram id="BpmnDiagram_1">\n    <bpmndi:BPMNPlane id="BpmnPlane_1" bpmnElement="Process_1">\n    <bpmndi:BPMNShape id="StartEvent_1y45yut_di" bpmnElement="StartEvent_1y45yut">\n        <omgdc:Bounds x="152" y="102" width="36" height="36" />\n        <bpmndi:BPMNLabel>\n        <omgdc:Bounds x="160" y="145" width="22" height="14" />\n        </bpmndi:BPMNLabel>\n    </bpmndi:BPMNShape>\n    <bpmndi:BPMNShape id="Task_1hcentk_di" bpmnElement="Task_1hcentk">\n        <omgdc:Bounds x="240" y="80" width="100" height="80" />\n    </bpmndi:BPMNShape>\n    <bpmndi:BPMNEdge id="SequenceFlow_0h21x7r_di" bpmnElement="SequenceFlow_0h21x7r">\n        <omgdi:waypoint x="188" y="120" />\n        <omgdi:waypoint x="240" y="120" />\n    </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n</bpmndi:BPMNDiagram>\n</definitions>',(function(e){e||c()})),u("true"))}),[a]);var c=function(){var e=n.get("eventBus");["element.click","element.changed","element.updateLabel"].forEach((function(t){e.on(t,(function(e){console.log(t),e&&"bpmn:Process"!=e.element.type&&("element.changed"===t||("element.click"===t?console.log("\u70b9\u51fb\u4e86element",e):"element.updateLabel"===t&&console.log("element.updateLabel",e.element)))}))}))};return(0,Ce.jsx)(t.Fragment,{children:(0,Ce.jsxs)("div",{className:"containers",style:{width:"100%",height:"98%"},children:[(0,Ce.jsx)("div",{className:"canvas",ref:r,style:{width:"100%",height:"98%"}}),(0,Ce.jsx)("div",{id:"js-properties-panel",style:{position:"absolute",right:0,top:0,width:"300px",height:"500px"}})]})})},sm=n(6933),um=n.n(sm),cm=function(e){var t=e.moveNode;return(0,Ce.jsxs)("div",{className:"siderBar",children:[(0,Ce.jsx)("div",{className:"node",onMouseDown:function(){t("startEvent","\u5f00\u59cb")},children:"\u5f00\u59cb"}),(0,Ce.jsx)("div",{className:"node",onMouseDown:function(){t("endEvent","\u7ed3\u675f")},children:"\u7ed3\u675f"}),(0,Ce.jsx)("div",{className:"node",onMouseDown:function(){t("userTask","\u7528\u6237\u4efb\u52a1")},children:"\u7528\u6237"}),(0,Ce.jsx)("div",{className:"node",onMouseDown:function(){t("exclusiveGateway","\u5206\u652f")},children:"\u5206\u652f"})]})},lm=function(e){var t,n,r=e.activeNode;return(0,Ce.jsxs)("div",{className:"nodeInfo",children:[(0,Ce.jsxs)("div",{children:["ID:",null===r||void 0===r?void 0:r.id]}),(0,Ce.jsxs)("div",{children:["\u540d\u79f0:",null===r||void 0===r||null===(t=r.text)||void 0===t?void 0:t.value]}),(0,Ce.jsxs)("div",{children:["\u7c7b\u578b:",null===r||void 0===r?void 0:r.type]}),(0,Ce.jsxs)("div",{children:["\u540d\u79f0:",null===r||void 0===r||null===(n=r.text)||void 0===n?void 0:n.value]})]})},pm=n(7462),fm=n(1694),dm=n.n(fm);function hm(e,t){var n=(0,a.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ym=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),vm=ym.Consumer;var mm=t.createContext(!1),gm=mm,bm=t.createContext(void 0),xm=bm,wm=t.isValidElement;function Em(e,n){return function(e,n,r){return wm(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}var _m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};function Sm(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Om="data-rc-order",Pm="rc-util-key",km=new Map;function jm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Pm}function Cm(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Tm(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function Mm(e){return Array.from((km.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function Am(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sm())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(Om,Tm(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var o=Cm(t),a=o.firstChild;if(r){if("queue"===r){var s=Mm(o).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(Om))}));if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function Nm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Cm(t);return Mm(n).find((function(n){return n.getAttribute(jm(t))===e}))}function Dm(e,t){var n=km.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=Am("",t),i=r.parentNode;km.set(e,i),i.removeChild(r)}}function Rm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Cm(n);Dm(r,n);var i=Nm(t,n);if(i){var o,a,s;if((null===(o=n.csp)||void 0===o?void 0:o.nonce)&&i.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))i.nonce=null===(s=n.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var u=Am(e,n);return u.setAttribute(jm(n),t),u}var Im=n(7441);function Lm(e,t){"function"===typeof e?e(t):"object"===v(e)&&e&&"current"in e&&(e.current=t)}function Bm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Lm(t,e)}))}}function Fm(e){var t,n,r=(0,Im.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var zm=function(e){return+setTimeout(e,16)},Vm=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(zm=function(e){return window.requestAnimationFrame(e)},Vm=function(e){return window.cancelAnimationFrame(e)});var Hm=0,$m=new Map;function Gm(e){$m.delete(e)}function Um(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Hm+=1;function r(t){if(0===t)Gm(n),e();else{var i=zm((function(){r(t-1)}));$m.set(n,i)}}return r(t),n}Um.cancel=function(e){var t=$m.get(e);return Gm(t),Vm(t)};var Wm,Xm=0,Zm={};function qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Xm++,r=t;function i(){(r-=1)<=0?(e(),delete Zm[n]):Zm[n]=Um(i)}return Zm[n]=Um(i),n}function Ym(e){return!e||null===e.offsetParent||e.hidden}function Km(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}qm.cancel=function(e){void 0!==e&&(Um.cancel(Zm[e]),delete Zm[e])},qm.ids=Zm;var Jm=function(e){d(r,e);var n=b(r);function r(){var e;return c(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||Ym(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=m(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Km(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,p=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Wm=Rm("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:p})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Ym(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),qm.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=qm((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var o=e.containerRef;return Fm(i)&&(o=Bm(i.ref,e.containerRef)),Em(i,{ref:o})},e}return p(r,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Wm&&(Wm.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(vm,null,this.renderWave)}}]),r}(t.Component);Jm.contextType=ym;var Qm=(0,t.forwardRef)((function(e,n){return t.createElement(Jm,(0,pm.Z)({ref:n},e))})),eg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tg=t.createContext(void 0),ng=function(e){var n,r=t.useContext(ym),i=r.getPrefixCls,o=r.direction,a=e.prefixCls,s=e.size,u=e.className,c=eg(e,["prefixCls","size","className"]),l=i("btn-group",a),p="";switch(s){case"large":p="lg";break;case"small":p="sm"}var f=dm()(l,(n={},(0,Te.Z)(n,"".concat(l,"-").concat(p),p),(0,Te.Z)(n,"".concat(l,"-rtl"),"rtl"===o),n),u);return t.createElement(tg.Provider,{value:s},t.createElement("div",(0,pm.Z)({},c,{className:f})))},rg={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ig=n(5987),og=(0,t.createContext)({});function ag(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function sg(e){return e<=1?"".concat(100*Number(e),"%"):e}function ug(e){return 1===e.length?"0"+e:String(e)}function cg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lg(e){return pg(e)/255}function pg(e){return parseInt(e,16)}var fg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function dg(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(fg[e])e=fg[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=mg.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=mg.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=mg.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=mg.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=mg.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=mg.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=mg.hex8.exec(e))return{r:pg(n[1]),g:pg(n[2]),b:pg(n[3]),a:lg(n[4]),format:t?"name":"hex8"};if(n=mg.hex6.exec(e))return{r:pg(n[1]),g:pg(n[2]),b:pg(n[3]),format:t?"name":"hex"};if(n=mg.hex4.exec(e))return{r:pg(n[1]+n[1]),g:pg(n[2]+n[2]),b:pg(n[3]+n[3]),a:lg(n[4]+n[4]),format:t?"name":"hex8"};if(n=mg.hex3.exec(e))return{r:pg(n[1]+n[1]),g:pg(n[2]+n[2]),b:pg(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(gg(e.r)&&gg(e.g)&&gg(e.b)?(t=function(e,t,n){return{r:255*ag(e,255),g:255*ag(t,255),b:255*ag(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):gg(e.h)&&gg(e.s)&&gg(e.v)?(r=sg(e.s),i=sg(e.v),t=function(e,t,n){e=6*ag(e,360),t=ag(t,100),n=ag(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):gg(e.h)&&gg(e.s)&&gg(e.l)&&(r=sg(e.s),o=sg(e.l),t=function(e,t,n){var r,i,o;if(e=ag(e,360),t=ag(t,100),n=ag(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=cg(s,a,e+1/3),i=cg(s,a,e),o=cg(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var hg="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),yg="[\\s|\\(]+(".concat(hg,")[,|\\s]+(").concat(hg,")[,|\\s]+(").concat(hg,")\\s*\\)?"),vg="[\\s|\\(]+(".concat(hg,")[,|\\s]+(").concat(hg,")[,|\\s]+(").concat(hg,")[,|\\s]+(").concat(hg,")\\s*\\)?"),mg={CSS_UNIT:new RegExp(hg),rgb:new RegExp("rgb"+yg),rgba:new RegExp("rgba"+vg),hsl:new RegExp("hsl"+yg),hsla:new RegExp("hsla"+vg),hsv:new RegExp("hsv"+yg),hsva:new RegExp("hsva"+vg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function gg(e){return Boolean(mg.CSS_UNIT.exec(String(e)))}var bg=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function xg(e){var t=function(e,t,n){e=ag(e,255),t=ag(t,255),n=ag(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function wg(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[ug(Math.round(e).toString(16)),ug(Math.round(t).toString(16)),ug(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function Eg(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function _g(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Sg(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Og(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Pg(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=dg(e),i=5;i>0;i-=1){var o=xg(r),a=wg(dg({h:_g(o,i,!0),s:Sg(o,i,!0),v:Og(o,i,!0)}));n.push(a)}n.push(wg(r));for(var s=1;s<=4;s+=1){var u=xg(r),c=wg(dg({h:_g(u,s),s:Sg(u,s),v:Og(u,s)}));n.push(c)}return"dark"===t.theme?bg.map((function(e){var r=e.index,i=e.opacity;return wg(Eg(dg(t.backgroundColor||"#141414"),dg(n[r]),100*i))})):n}var kg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},jg={},Cg={};Object.keys(kg).forEach((function(e){jg[e]=Pg(kg[e]),jg[e].primary=jg[e][5],Cg[e]=Pg(kg[e],{theme:"dark",backgroundColor:"#141414"}),Cg[e].primary=Cg[e][5]}));jg.red,jg.volcano,jg.gold,jg.orange,jg.yellow,jg.lime,jg.green,jg.cyan,jg.blue,jg.geekblue,jg.purple,jg.magenta,jg.grey;var Tg={};function Mg(e,t){0}function Ag(e,t,n){t||Tg[n]||(e(!1,n),Tg[n]=!0)}var Ng=function(e,t){Ag(Mg,e,t)};function Dg(e){return"object"===v(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===v(e.icon)||"function"===typeof e.icon)}function Rg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Ig(e,n,r){return r?t.createElement(e.tag,(0,a.Z)((0,a.Z)({key:n},Rg(e.attrs)),r),(e.children||[]).map((function(t,r){return Ig(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,(0,a.Z)({key:n},Rg(e.attrs)),(e.children||[]).map((function(t,r){return Ig(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function Lg(e){return Pg(e)[0]}function Bg(e){return e?Array.isArray(e)?e:[e]:[]}var Fg="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",zg=["icon","className","onClick","style","primaryColor","secondaryColor"],Vg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Hg=function(e){var n,r,i=e.icon,o=e.className,s=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,p=(0,ig.Z)(e,zg),f=Vg;if(c&&(f={primaryColor:c,secondaryColor:l||Lg(c)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fg,n=(0,t.useContext)(og).csp;(0,t.useEffect)((function(){Rm(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=Dg(i),r="icon should be icon definiton, but got ".concat(i),Ng(n,"[@ant-design/icons] ".concat(r)),!Dg(i))return null;var d=i;return d&&"function"===typeof d.icon&&(d=(0,a.Z)((0,a.Z)({},d),{},{icon:d.icon(f.primaryColor,f.secondaryColor)})),Ig(d.icon,"svg-".concat(d.name),(0,a.Z)({className:o,onClick:s,style:u,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};Hg.displayName="IconReact",Hg.getTwoToneColors=function(){return(0,a.Z)({},Vg)},Hg.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Vg.primaryColor=t,Vg.secondaryColor=n||Lg(t),Vg.calculated=!!n};var $g=Hg;function Gg(e){var t=Bg(e),n=(0,s.Z)(t,2),r=n[0],i=n[1];return $g.setTwoToneColors({primaryColor:r,secondaryColor:i})}var Ug=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Gg("#1890ff");var Wg=t.forwardRef((function(e,n){var r,i=e.className,o=e.icon,u=e.spin,c=e.rotate,l=e.tabIndex,p=e.onClick,f=e.twoToneColor,d=(0,ig.Z)(e,Ug),h=t.useContext(og).prefixCls,y=void 0===h?"anticon":h,v=dm()(y,(r={},(0,Te.Z)(r,"".concat(y,"-").concat(o.name),!!o.name),(0,Te.Z)(r,"".concat(y,"-spin"),!!u||"loading"===o.name),r),i),m=l;void 0===m&&p&&(m=-1);var g=c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0,b=Bg(f),x=(0,s.Z)(b,2),w=x[0],E=x[1];return t.createElement("span",(0,a.Z)((0,a.Z)({role:"img","aria-label":o.name},d),{},{ref:n,tabIndex:m,onClick:p,className:v}),t.createElement($g,{icon:o,primaryColor:w,secondaryColor:E,style:g}))}));Wg.displayName="AntdIcon",Wg.getTwoToneColor=function(){var e=$g.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Wg.setTwoToneColor=Gg;var Xg=Wg,Zg=function(e,n){return t.createElement(Xg,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:rg}))};Zg.displayName="LoadingOutlined";var qg=t.forwardRef(Zg);function Yg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Kg=function(e,t){var n={animationend:Yg("Animation","AnimationEnd"),transitionend:Yg("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Sm(),"undefined"!==typeof window?window:{}),Jg={};if(Sm()){var Qg=document.createElement("div");Jg=Qg.style}var eb={};function tb(e){if(eb[e])return eb[e];var t=Kg[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Jg)return eb[e]=t[o],eb[e]}return""}var nb=tb("animationend"),rb=tb("transitionend"),ib=!(!nb||!rb),ob=nb||"animationend",ab=rb||"transitionend";function sb(e,t){return e?"object"===v(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var ub="none",cb="appear",lb="enter",pb="leave",fb="none",db="prepare",hb="start",yb="active",vb="end";function mb(e){var n=t.useRef(!1),r=t.useState(e),i=(0,s.Z)(r,2),o=i[0],a=i[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[o,function(e,t){t&&n.current||a(e)}]}var gb=Sm()?t.useLayoutEffect:t.useEffect,bb=[db,hb,yb,vb];function xb(e){return e===yb||e===vb}var wb=function(e,n){var r=mb(fb),i=(0,s.Z)(r,2),o=i[0],a=i[1],u=function(){var e=t.useRef(null);function n(){Um.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=Um((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),c=(0,s.Z)(u,2),l=c[0],p=c[1];return gb((function(){if(o!==fb&&o!==vb){var e=bb.indexOf(o),t=bb[e+1],r=n(o);false===r?a(t,!0):l((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,o]),t.useEffect((function(){return function(){p()}}),[]),[function(){a(db,!0)},o]};function Eb(e,n,r,i){var o=i.motionEnter,u=void 0===o||o,c=i.motionAppear,l=void 0===c||c,p=i.motionLeave,f=void 0===p||p,d=i.motionDeadline,h=i.motionLeaveImmediately,y=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,g=i.onAppearStart,b=i.onEnterStart,x=i.onLeaveStart,w=i.onAppearActive,E=i.onEnterActive,_=i.onLeaveActive,S=i.onAppearEnd,O=i.onEnterEnd,P=i.onLeaveEnd,k=i.onVisibleChanged,j=mb(),C=(0,s.Z)(j,2),T=C[0],M=C[1],A=mb(ub),N=(0,s.Z)(A,2),D=N[0],R=N[1],I=mb(null),L=(0,s.Z)(I,2),B=L[0],F=L[1],z=(0,t.useRef)(!1),V=(0,t.useRef)(null);function H(){return r()}var $=(0,t.useRef)(!1);function G(e){var t=H();if(!e||e.deadline||e.target===t){var n,r=$.current;D===cb&&r?n=null===S||void 0===S?void 0:S(t,e):D===lb&&r?n=null===O||void 0===O?void 0:O(t,e):D===pb&&r&&(n=null===P||void 0===P?void 0:P(t,e)),D!==ub&&r&&!1!==n&&(R(ub,!0),F(null,!0))}}var U=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(ab,i),e.removeEventListener(ob,i))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(ab,i),e.addEventListener(ob,i),n.current=e)},o]}(G),W=(0,s.Z)(U,1)[0],X=t.useMemo((function(){var e,t,n;switch(D){case cb:return e={},(0,Te.Z)(e,db,y),(0,Te.Z)(e,hb,g),(0,Te.Z)(e,yb,w),e;case lb:return t={},(0,Te.Z)(t,db,v),(0,Te.Z)(t,hb,b),(0,Te.Z)(t,yb,E),t;case pb:return n={},(0,Te.Z)(n,db,m),(0,Te.Z)(n,hb,x),(0,Te.Z)(n,yb,_),n;default:return{}}}),[D]),Z=wb(D,(function(e){if(e===db){var t=X.prepare;return!!t&&t(H())}var n;K in X&&F((null===(n=X[K])||void 0===n?void 0:n.call(X,H(),null))||null);return K===yb&&(W(H()),d>0&&(clearTimeout(V.current),V.current=setTimeout((function(){G({deadline:!0})}),d))),true})),q=(0,s.Z)(Z,2),Y=q[0],K=q[1],J=xb(K);$.current=J,gb((function(){M(n);var t,r=z.current;(z.current=!0,e)&&(!r&&n&&l&&(t=cb),r&&n&&u&&(t=lb),(r&&!n&&f||!r&&h&&!n&&f)&&(t=pb),t&&(R(t),Y()))}),[n]),(0,t.useEffect)((function(){(D===cb&&!l||D===lb&&!u||D===pb&&!f)&&R(ub)}),[l,u,f]),(0,t.useEffect)((function(){return function(){z.current=!1,clearTimeout(V.current)}}),[]);var Q=t.useRef(!1);(0,t.useEffect)((function(){T&&(Q.current=!0),void 0!==T&&D===ub&&((Q.current||T)&&(null===k||void 0===k||k(T)),Q.current=!0)}),[T,D]);var ee=B;return X.prepare&&K===hb&&(ee=(0,a.Z)({transition:"none"},ee)),[D,K,ee,null!==T&&void 0!==T?T:n]}var _b=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Sb=_b;var Ob=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===v(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,o=void 0===i||i,u=e.removeOnLeave,c=void 0===u||u,l=e.forceRender,p=e.children,f=e.motionName,d=e.leavedClassName,h=e.eventProps,y=r(e),v=(0,t.useRef)(),m=(0,t.useRef)();var g=Eb(y,o,(function(){try{return v.current instanceof HTMLElement?v.current:function(e){return e instanceof HTMLElement?e:He.findDOMNode(e)}(m.current)}catch(S_){return null}}),e),b=(0,s.Z)(g,4),x=b[0],w=b[1],E=b[2],_=b[3],S=t.useRef(_);_&&(S.current=!0);var O,P=t.useCallback((function(e){v.current=e,Lm(n,e)}),[n]),k=(0,a.Z)((0,a.Z)({},h),{},{visible:o});if(p)if(x!==ub&&r(e)){var j,C;w===db?C="prepare":xb(w)?C="active":w===hb&&(C="start"),O=p((0,a.Z)((0,a.Z)({},k),{},{className:dm()(sb(f,x),(j={},(0,Te.Z)(j,sb(f,"".concat(x,"-").concat(C)),C),(0,Te.Z)(j,f,"string"===typeof f),j)),style:E}),P)}else O=_?p((0,a.Z)({},k),P):!c&&S.current?p((0,a.Z)((0,a.Z)({},k),{},{className:d}),P):l?p((0,a.Z)((0,a.Z)({},k),{},{style:{display:"none"}}),P):null;else O=null;t.isValidElement(O)&&Fm(O)&&(O.ref||(O=t.cloneElement(O,{ref:P})));return t.createElement(Sb,{ref:m},O)}));return i.displayName="CSSMotion",i}(ib),Pb="add",kb="keep",jb="remove",Cb="removed";function Tb(e){var t;return t=e&&"object"===v(e)&&"key"in e?e:{key:e},(0,a.Z)((0,a.Z)({},t),{},{key:String(t.key)})}function Mb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Tb)}function Ab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Mb(e),s=Mb(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var u=s[o];if(u.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{status:Pb})}))),r=o),n.push((0,a.Z)((0,a.Z)({},u),{},{status:kb})),r+=1,t=!0;break}}t||n.push((0,a.Z)((0,a.Z)({},e),{},{status:jb}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{status:Pb})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var c=Object.keys(u).filter((function(e){return u[e]>1}));return c.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==jb}))).forEach((function(t){t.key===e&&(t.status=kb)}))})),n}var Nb=["component","children","onVisibleChanged","onAllRemoved"],Db=["status"],Rb=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ob,r=function(e){d(i,e);var r=b(i);function i(){var e;c(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,a.Z)((0,a.Z)({},e),{},{status:Cb})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Cb})).length},e}return p(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=i.onAllRemoved,c=(0,ig.Z)(i,Nb),l=o||t.Fragment,p={};return Rb.forEach((function(e){p[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r){var i=r.status,o=(0,ig.Z)(r,Db),c=i===Pb||i===kb;return t.createElement(n,(0,pm.Z)({},p,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&u&&u()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Mb(n);return{keyEntities:Ab(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Cb||e.status!==jb}))}}}]),i}(t.Component);r.defaultProps={component:"div"}}(ib);var Ib=Ob,Lb=function(){return{width:0,opacity:0,transform:"scale(0)"}},Bb=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Fb=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(qg,null)):t.createElement(Ib,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Lb,onAppearActive:Bb,onEnterStart:Lb,onEnterActive:Bb,onLeaveStart:Bb,onLeaveActive:Lb},(function(e,r){var i=e.className,o=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:o,ref:r},t.createElement(qg,{className:i}))}))},zb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vb=/^[\u4e00-\u9fa5]{2}$/,Hb=Vb.test.bind(Vb);function $b(e){return"text"===e||"link"===e}function Gb(e,n){if(null!==e&&void 0!==e){var r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Hb(e.props.children)?Em(e,{children:e.props.children.split("").join(r)}):"string"===typeof e?Hb(e)?t.createElement("span",null,e.split("").join(r)):t.createElement("span",null,e):function(e){return t.isValidElement(e)&&e.type===t.Fragment}(e)?t.createElement("span",null,e):e}}_m("default","primary","ghost","dashed","link","text"),_m("default","circle","round"),_m("submit","button","reset");var Ub=function(e,n){var r,i=e.loading,o=void 0!==i&&i,a=e.prefixCls,u=e.type,c=void 0===u?"default":u,l=e.danger,p=e.shape,f=void 0===p?"default":p,d=e.size,h=e.disabled,y=e.className,m=e.children,g=e.icon,b=e.ghost,x=void 0!==b&&b,w=e.block,E=void 0!==w&&w,_=e.htmlType,S=void 0===_?"button":_,O=zb(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),P=t.useContext(xm),k=t.useContext(gm),j=h||k,C=t.useContext(tg),T=t.useState(!!o),M=(0,s.Z)(T,2),A=M[0],N=M[1],D=t.useState(!1),R=(0,s.Z)(D,2),I=R[0],L=R[1],B=t.useContext(ym),F=B.getPrefixCls,z=B.autoInsertSpaceInButton,V=B.direction,H=n||t.createRef(),$=function(){return 1===t.Children.count(m)&&!g&&!$b(c)},G="boolean"===typeof o?o:(null===o||void 0===o?void 0:o.delay)||!0;t.useEffect((function(){var e=null;return"number"===typeof G?e=window.setTimeout((function(){e=null,N(G)}),G):N(G),function(){e&&(window.clearTimeout(e),e=null)}}),[G]),t.useEffect((function(){if(H&&H.current&&!1!==z){var e=H.current.textContent;$()&&Hb(e)?I||L(!0):I&&L(!1)}}),[H]);var U=function(t){var n=e.onClick;A||j?t.preventDefault():null===n||void 0===n||n(t)},W=F("btn",a),X=!1!==z,Z=C||d||P,q=Z&&{large:"lg",small:"sm",middle:void 0}[Z]||"",Y=A?"loading":g,K=hm(O,["navigate"]),J=dm()(W,(r={},(0,Te.Z)(r,"".concat(W,"-").concat(f),"default"!==f&&f),(0,Te.Z)(r,"".concat(W,"-").concat(c),c),(0,Te.Z)(r,"".concat(W,"-").concat(q),q),(0,Te.Z)(r,"".concat(W,"-icon-only"),!m&&0!==m&&!!Y),(0,Te.Z)(r,"".concat(W,"-background-ghost"),x&&!$b(c)),(0,Te.Z)(r,"".concat(W,"-loading"),A),(0,Te.Z)(r,"".concat(W,"-two-chinese-chars"),I&&X&&!A),(0,Te.Z)(r,"".concat(W,"-block"),E),(0,Te.Z)(r,"".concat(W,"-dangerous"),!!l),(0,Te.Z)(r,"".concat(W,"-rtl"),"rtl"===V),(0,Te.Z)(r,"".concat(W,"-disabled"),void 0!==K.href&&j),r),y),Q=g&&!A?g:t.createElement(Fb,{existIcon:!!g,prefixCls:W,loading:!!A}),ee=m||0===m?function(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=v(e),n="string"===t||"number"===t;if(r&&n){var o=i.length-1,a=i[o];i[o]="".concat(a).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return Gb(e,n)}))}(m,$()&&X):null;if(void 0!==K.href)return t.createElement("a",(0,pm.Z)({},K,{className:J,onClick:U,ref:H}),Q,ee);var te=t.createElement("button",(0,pm.Z)({},O,{type:S,className:J,onClick:U,disabled:j,ref:H}),Q,ee);return $b(c)?te:t.createElement(Qm,{disabled:!!A},te)},Wb=t.forwardRef(Ub);Wb.Group=ng,Wb.__ANT_BUTTON=!0;var Xb=Wb,Zb=function(e){d(r,e);var n=b(r);function r(e){var t;c(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,i=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),i&&i({target:(0,a.Z)((0,a.Z)({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var i="checked"in e?e.checked:e.defaultChecked;return t.state={checked:i},t}return p(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,i=n.className,o=n.style,a=n.name,s=n.id,u=n.type,c=n.disabled,l=n.readOnly,p=n.tabIndex,f=n.onClick,d=n.onFocus,h=n.onBlur,y=n.onKeyDown,v=n.onKeyPress,m=n.onKeyUp,g=n.autoFocus,b=n.value,x=n.required,w=(0,ig.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),_=this.state.checked,S=dm()(r,i,(e={},(0,Te.Z)(e,"".concat(r,"-checked"),_),(0,Te.Z)(e,"".concat(r,"-disabled"),c),e));return t.createElement("span",{className:S,style:o},t.createElement("input",(0,pm.Z)({name:a,id:s,type:u,required:x,readOnly:l,disabled:c,tabIndex:p,className:"".concat(r,"-input"),checked:!!_,onClick:f,onFocus:d,onBlur:h,onKeyUp:m,onKeyDown:y,onKeyPress:v,onChange:this.handleChange,autoFocus:g,ref:this.saveInput,value:b},E)),t.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,a.Z)((0,a.Z)({},t),{},{checked:e.checked}):null}}]),r}(t.Component);Zb.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var qb=Zb;function Yb(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Yb(e)):(0,Im.isFragment)(e)&&e.props?r=r.concat(Yb(e.props.children,n)):r.push(e))})),r}var Kb="RC_FORM_INTERNAL_HOOKS",Jb=function(){Ng(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Qb=t.createContext({getFieldValue:Jb,getFieldsValue:Jb,getFieldError:Jb,getFieldWarning:Jb,getFieldsError:Jb,isFieldsTouched:Jb,isFieldTouched:Jb,isFieldValidating:Jb,isFieldsValidating:Jb,resetFields:Jb,setFields:Jb,setFieldValue:Jb,setFieldsValue:Jb,validateFields:Jb,submit:Jb,getInternalHooks:function(){return Jb(),{dispatch:Jb,initEntityValue:Jb,registerField:Jb,useSubscribe:Jb,setInitialValues:Jb,destroyForm:Jb,setCallbacks:Jb,registerWatch:Jb,getFields:Jb,setValidateMessages:Jb,setPreserve:Jb,getInitialValue:Jb}}});function ex(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function tx(){tx=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(k){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var l={};function p(){}function f(){}function d(){}var h={};s(h,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(h=m);var g=d.prototype=p.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==v(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=d,s(g,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function nx(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(Cr){return void n(Cr)}s.done?t(u):Promise.resolve(u).then(r,i)}function rx(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nx(o,r,i,a,s,"next",e)}function s(e){nx(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ix.apply(this,arguments)}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ox(e)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ax(e,t)}function sx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(S_){return!1}}function ux(e,t,n){return ux=sx()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ax(i,n.prototype),i},ux.apply(null,arguments)}function cx(e){var t="function"===typeof Map?new Map:void 0;return cx=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ux(e,arguments,ox(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ax(r,e)},cx(e)}var lx=/%[sdj%]/g;function px(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function fx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(lx,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(A_){return"[Circular]"}break;default:return e}}));return a}return e}function dx(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function hx(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var yx=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ax(t,n),r}(cx(Error));function vx(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);hx(a,n,(function(e){return r(e),e.length?o(new yx(e,px(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,c=0,l=[],p=new Promise((function(t,o){var p=function(e){if(l.push.apply(l,e),++c===u)return r(l),l.length?o(new yx(l,px(l))):t(i)};s.length||(r(l),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?hx(r,n,p):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,p)}))}));return p.catch((function(e){return e})),p}function mx(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function gx(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=ix({},e[n],r):e[n]=r}return e}var bx,xx=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!dx(t,o||e.type)||r.push(fx(i.messages.required,e.fullField))},wx=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Ex=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,_x={integer:function(e){return _x.number(e)&&parseInt(e,10)===e},float:function(e){return _x.number(e)&&!_x.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(S_){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!_x.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(wx)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(bx)return bx;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),u=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};u.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},u.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=u.v4().source,l=u.v6().source;return bx=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Ex)}},Sx={required:xx,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(fx(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)xx(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?_x[o](t)||r.push(fx(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(fx(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,p="string"===typeof t,f=Array.isArray(t);if(l?c="number":p?c="string":f&&(c="array"),!c)return!1;f&&(u=t.length),p&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(fx(i.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(fx(i.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(fx(i.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(fx(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(fx(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(fx(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(fx(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Ox=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t,o)&&!e.required)return n();Sx.required(e,t,r,a,i,o),dx(t,o)||Sx.type(e,t,r,a,i)}n(a)},Px={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t,"string")&&!e.required)return n();Sx.required(e,t,r,o,i,"string"),dx(t,"string")||(Sx.type(e,t,r,o,i),Sx.range(e,t,r,o,i),Sx.pattern(e,t,r,o,i),!0===e.whitespace&&Sx.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&Sx.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&(Sx.type(e,t,r,o,i),Sx.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&Sx.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),dx(t)||Sx.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&(Sx.type(e,t,r,o,i),Sx.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&(Sx.type(e,t,r,o,i),Sx.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Sx.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(Sx.type(e,t,r,o,i),Sx.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&Sx.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i),void 0!==t&&Sx.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t,"string")&&!e.required)return n();Sx.required(e,t,r,o,i),dx(t,"string")||Sx.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t,"date")&&!e.required)return n();var a;if(Sx.required(e,t,r,o,i),!dx(t,"date"))a=t instanceof Date?t:new Date(t),Sx.type(e,a,r,o,i),a&&Sx.range(e,a.getTime(),r,o,i)}n(o)},url:Ox,hex:Ox,email:Ox,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;Sx.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(dx(t)&&!e.required)return n();Sx.required(e,t,r,o,i)}n(o)}};function kx(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var jx=kx(),Cx=function(){function e(e){this.rules=null,this._messages=jx,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=gx(kx(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===jx&&(u=kx()),gx(u,a.messages),a.messages=u}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=ix({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:ix({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:o,field:e}))}))}));var l={};return vx(c,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return ix({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var p=c.map(mx(i,o));if(a.first&&p.length)return l[i.field]=1,n(p);if(s){if(i.required&&!t.value)return void 0!==i.message?p=[].concat(i.message).map(mx(i,o)):a.error&&(p=[a.error(i,fx(a.messages.required,i.field))]),n(p);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=ix({},f,t.rule.fields);var d={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];d[e]=n.map(u.bind(null,e))}));var h=new e(d);h.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),h.validate(t.value,t.rule.options||a,(function(e){var t=[];p&&p.length&&t.push.apply(t,p),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(p)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,a);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,a)}catch(Cr){null==console.error||console.error(Cr),a.suppressValidatorError||setTimeout((function(){throw Cr}),0),c(Cr.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=px(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Px.hasOwnProperty(e.type))throw new Error(fx("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Px.required:Px[this.getType(e)]||void 0},e}();Cx.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Px[e]=t},Cx.warning=function(){},Cx.messages=jx,Cx.validators=Px;var Tx="'${name}' is not a valid ${type}",Mx={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Tx,method:Tx,array:Tx,object:Tx,number:Tx,date:Tx,boolean:Tx,integer:Tx,float:Tx,regexp:Tx,email:Tx,url:Tx,hex:Tx},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ax(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Nx=n(3878),Dx=n(9199),Rx=n(181),Ix=n(5267);function Lx(e,t,n,r){if(!t.length)return n;var i,o,s=(i=t,(0,Nx.Z)(i)||(0,Dx.Z)(i)||(0,Rx.Z)(i)||(0,Ix.Z)()),c=s[0],l=s.slice(1);return o=e||"number"!==typeof c?Array.isArray(e)?(0,u.Z)(e):(0,a.Z)({},e):[],r&&void 0===n&&1===l.length?delete o[c][l[0]]:o[c]=Lx(o[c],l,n,r),o}function Bx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Ax(e,t.slice(0,-1))?e:Lx(e,t,n,r)}function Fx(e){return Array.isArray(e)?function(e){return e.map((function(e){return Fx(e)}))}(e):"object"===v(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Fx(e[n]);return t}return e}(e):e}var zx=Fx;function Vx(e){return ex(e)}function Hx(e,t){return Ax(e,t)}function $x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Bx(e,t,n,r);return i}function Gx(e,t){var n={};return t.forEach((function(t){var r=Hx(e,t);n=$x(n,t,r)})),n}function Ux(e,t){return e&&e.some((function(e){return qx(e,t)}))}function Wx(e){return"object"===v(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Xx(e,t){var n=Array.isArray(e)?(0,u.Z)(e):(0,a.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=Wx(r)&&Wx(i);n[e]=o?Xx(r,i||{}):zx(i)})),n):n}function Zx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Xx(e,t)}),e)}function qx(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Yx(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===v(t.target)&&e in t.target?t.target[e]:t}function Kx(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat((0,u.Z)(e.slice(0,n)),[i],(0,u.Z)(e.slice(n,t)),(0,u.Z)(e.slice(t+1,r))):o<0?[].concat((0,u.Z)(e.slice(0,t)),(0,u.Z)(e.slice(t+1,n+1)),[i],(0,u.Z)(e.slice(n+1,r))):e}var Jx=Cx;function Qx(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var ew="CODE_LOGIC_ERROR";function tw(e,t,n,r,i){return nw.apply(this,arguments)}function nw(){return nw=rx(tx().mark((function e(n,r,i,o,s){var c,l,p,f,d,h,y,v,m;return tx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(c=(0,a.Z)({},i)).ruleIndex,c.validator&&(l=c.validator,c.validator=function(){try{return l.apply(void 0,arguments)}catch(Cr){return console.error(Cr),Promise.reject(ew)}}),p=null,c&&"array"===c.type&&c.defaultField&&(p=c.defaultField,delete c.defaultField),f=new Jx((0,Te.Z)({},n,[c])),d=Zx({},Mx,o.validateMessages),f.messages(d),h=[],e.prev=9,e.next=12,Promise.resolve(f.validate((0,Te.Z)({},n,r),(0,a.Z)({},o)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===ew?d.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(h.length||!p){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return tw("".concat(n,".").concat(t),e,p,o,s)})));case 20:return y=e.sent,e.abrupt("return",y.reduce((function(e,t){return[].concat((0,u.Z)(e),(0,u.Z)(t))}),[]));case 22:return v=(0,a.Z)((0,a.Z)({},i),{},{name:n,enum:(i.enum||[]).join(", ")},s),m=h.map((function(e){return"string"===typeof e?Qx(e,v):e})),e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),nw.apply(this,arguments)}function rw(e,t,n,r,i,o){var s,u=e.join("."),c=n.map((function(e,t){var n=e.validator,r=(0,a.Z)((0,a.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Ng(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,Ng(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)s=new Promise(function(){var e=rx(tx().mark((function e(n,i){var a,s,l;return tx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<c.length)){e.next=12;break}return s=c[a],e.next=5,tw(u,t,s,r,o);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:s}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=c.map((function(e){return tw(u,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));s=(i?function(e){return ow.apply(this,arguments)}(l):function(e){return iw.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function iw(){return(iw=rx(tx().mark((function e(t){return tx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,u.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ow(){return(ow=rx(tx().mark((function e(t){var n;return tx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aw=["name"],sw=[];function uw(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var cw=function(e){d(r,e);var n=b(r);function r(e){var i;(c(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=sw,i.warnings=sw,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Vx(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,u.Z)(r),(0,u.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t((0,a.Z)((0,a.Z)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,u=r.onReset,c=n.store,l=i.getNamePath(),p=i.getValue(e),f=i.getValue(c),d=t&&Ux(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&p!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=sw,i.warnings=sw,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=sw,i.warnings=sw,i.triggerMetaEvent(),null===u||void 0===u||u(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":if(d){var h=n.data;return"touched"in h&&(i.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(i.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(i.errors=h.errors||sw),"warnings"in h&&(i.warnings=h.warnings||sw),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(o&&!l.length&&uw(o,e,c,p,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(Vx).some((function(e){return Ux(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!s.length||l.length||o)&&uw(o,e,c,p,f,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,a=o.validateFirst,s=void 0!==a&&a,c=o.messageVariables,l=(e||{}).triggerName,p=i.getRules();l&&(p=p.filter((function(e){var t=e.validateTrigger;return!t||ex(t).includes(l)})));var f=rw(t,n,p,e,s,c);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sw;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?sw:r;t?o.push.apply(o,(0,u.Z)(i)):n.push.apply(n,(0,u.Z)(i))})),i.errors=n,i.warnings=o,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=sw,i.warnings=sw,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(Kb).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return(0,a.Z)((0,a.Z)({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=Yb(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Hx(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,o=t.getValueFromEvent,s=t.normalize,u=t.valuePropName,c=t.getValueProps,l=t.fieldContext,p=void 0!==r?r:l.validateTrigger,f=i.getNamePath(),d=l.getInternalHooks,h=l.getFieldsValue,y=d(Kb),v=y.dispatch,m=i.getValue(),g=c||function(e){return(0,Te.Z)({},u,e)},b=e[n],x=(0,a.Z)((0,a.Z)({},e),g(m));x[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o?o.apply(void 0,n):Yx.apply(void 0,[u].concat(n)),s&&(e=s(e,m,h(!0))),v({type:"updateValue",namePath:f,value:e}),b&&b.apply(void 0,n)};var w=ex(p||[]);return w.forEach((function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),x},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Kb).initEntityValue)(m(i));return i}return p(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Kb).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(Ng(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);cw.contextType=Qb,cw.defaultProps={trigger:"onChange",valuePropName:"value"};var lw=function(e){var n=e.name,r=(0,ig.Z)(e,aw),i=t.useContext(Qb),o=void 0!==n?Vx(n):void 0,a="keep";return r.isListField||(a="_".concat((o||[]).join("_"))),t.createElement(cw,(0,pm.Z)({key:a,name:o},r,{fieldContext:i}))},pw=t.createContext(null),fw=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,s=e.validateTrigger,c=t.useContext(Qb),l=t.useRef({keys:[],id:0}).current,p=t.useMemo((function(){var e=Vx(c.prefixName)||[];return[].concat((0,u.Z)(e),(0,u.Z)(Vx(n)))}),[c.prefixName,n]),f=t.useMemo((function(){return(0,a.Z)((0,a.Z)({},c),{},{prefixName:p})}),[c,p]),d=t.useMemo((function(){return{getKey:function(e){var t=p.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[p]);if("function"!==typeof i)return Ng(!1,"Form.List only accepts function as children."),null;return t.createElement(pw.Provider,{value:d},t.createElement(Qb.Provider,{value:f},t.createElement(lw,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:s,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=c.getFieldValue,s=function(){return a(p||[])||[]},f={add:function(e,t){var n=s();t>=0&&t<=n.length?(l.keys=[].concat((0,u.Z)(l.keys.slice(0,t)),[l.id],(0,u.Z)(l.keys.slice(t))),o([].concat((0,u.Z)(n.slice(0,t)),[e],(0,u.Z)(n.slice(t))))):(l.keys=[].concat((0,u.Z)(l.keys),[l.id]),o([].concat((0,u.Z)(n),[e]))),l.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(l.keys=Kx(l.keys,e,t),o(Kx(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var dw="__@field_split__";function hw(e){return e.map((function(e){return"".concat(v(e),":").concat(e)})).join(dw)}var yw=function(){function e(){c(this,e),this.kvs=new Map}return p(e,[{key:"set",value:function(e,t){this.kvs.set(hw(e),t)}},{key:"get",value:function(e){return this.kvs.get(hw(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(hw(e))}},{key:"map",value:function(e){return(0,u.Z)(this.kvs.entries()).map((function(t){var n=(0,s.Z)(t,2),r=n[0],i=n[1],o=r.split(dw);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,s.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),vw=yw,mw=["name","errors"],gw=p((function e(t){var n=this;c(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===Kb?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ng(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=Zx({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=$x(i,n,Hx(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new vw;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=Hx(n.initialValues,e);return e.length?zx(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new vw;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Vx(e);return t.get(n)||{INVALIDATE_NAME_PATH:Vx(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),Gx(n.store,i.map(Vx))},this.getFieldValue=function(e){n.warningUnhooked();var t=Vx(e);return Hx(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Vx(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Vx(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Vx(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(Vx),s=!1):(i=null,s=o):(i=o.map(Vx),s=a);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?c.every(l):c.some(l);var p=new vw;i.forEach((function(e){p.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&p.update(n,(function(t){return[].concat((0,u.Z)(t),[e])}))}))}));var f=function(e){return e.some(l)},d=p.map((function(e){return e.value}));return s?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Vx);return t.some((function(e){var t=e.getNamePath();return Ux(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new vw,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Ng(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)Ng(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||n.updateStore($x(n.store,i,(0,u.Z)(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,u.Z)((0,u.Z)(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Zx({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Vx);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore($x(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,(0,ig.Z)(e,mw)),a=Vx(i);r.push(a),"value"in o&&n.updateStore($x(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,a.Z)((0,a.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Hx(n.store,r)&&n.updateStore($x(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!qx(e.getNamePath(),t)}))){var s=n.store;n.updateStore($x(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,a.Z)((0,a.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,u.Z)(r))}),r},this.updateValue=function(e,t){var r=Vx(e),i=n.store;n.updateStore($x(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(Gx(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,u.Z)(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=Zx(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new vw;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Vx(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new vw;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Ux(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Vx):[],o=[];n.getFieldEntities(!0).forEach((function(s){if(r||i.push(s.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var c=s.getNamePath();c.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(c)}if(s.props.rules&&s.props.rules.length){var l=s.getNamePath();if(!r||Ux(i,l)){var p=s.validateRules((0,a.Z)({validateMessages:(0,a.Z)((0,a.Z)({},Mx),n.validateMessages)},t));o.push(p.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,(0,u.Z)(i)):n.push.apply(n,(0,u.Z)(i))})),n.length?Promise.reject({name:l,errors:n,warnings:r}):{name:l,errors:n,warnings:r}})))}}}));var s=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=s,s.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=s.then((function(){return n.lastValidatePromise===s?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==s})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var bw=function(e){var n=t.useRef(),r=t.useState({}),i=(0,s.Z)(r,2)[1];if(!n.current)if(e)n.current=e;else{var o=new gw((function(){i({})}));n.current=o.getForm()}return[n.current]},xw=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ww=xw,Ew=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],_w=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,c=e.form,l=e.preserve,p=e.children,f=e.component,d=void 0===f?"form":f,h=e.validateMessages,y=e.validateTrigger,m=void 0===y?"onChange":y,g=e.onValuesChange,b=e.onFieldsChange,x=e.onFinish,w=e.onFinishFailed,E=(0,ig.Z)(e,Ew),_=t.useContext(ww),S=bw(c),O=(0,s.Z)(S,1)[0],P=O.getInternalHooks(Kb),k=P.useSubscribe,j=P.setInitialValues,C=P.setCallbacks,T=P.setValidateMessages,M=P.setPreserve,A=P.destroyForm;t.useImperativeHandle(n,(function(){return O})),t.useEffect((function(){return _.registerForm(r,O),function(){_.unregisterForm(r)}}),[_,O,r]),T((0,a.Z)((0,a.Z)({},_.validateMessages),h)),C({onValuesChange:g,onFieldsChange:function(e){if(_.triggerFormChange(r,e),b){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];b.apply(void 0,[e].concat(n))}},onFinish:function(e){_.triggerFormFinish(r,e),x&&x(e)},onFinishFailed:w}),M(l);var N,D=t.useRef(null);j(i,!D.current),D.current||(D.current=!0),t.useEffect((function(){return A}),[]);var R="function"===typeof p;R?N=p(O.getFieldsValue(!0),O):N=p;k(!R);var I=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==v(e)||"object"!==v(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return(0,u.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(I.current||[],o||[])||O.setFields(o||[]),I.current=o}),[o,O]);var L=t.useMemo((function(){return(0,a.Z)((0,a.Z)({},O),{},{validateTrigger:m})}),[O,m]),B=t.createElement(Qb.Provider,{value:L},N);return!1===d?B:t.createElement(d,(0,pm.Z)({},E,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),O.submit()},onReset:function(e){var t;e.preventDefault(),O.resetFields(),null===(t=E.onReset)||void 0===t||t.call(E,e)}}),B)};function Sw(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Ow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=(0,t.useState)(),i=(0,s.Z)(r,2),o=i[0],a=i[1],u=(0,t.useMemo)((function(){return Sw(o)}),[o]),c=(0,t.useRef)(u);c.current=u;var l=(0,t.useContext)(Qb),p=n||l,f=p&&p._init,d=Vx(e),h=(0,t.useRef)(d);return h.current=d,(0,t.useEffect)((function(){if(f){var e=p.getFieldsValue,t=(0,(0,p.getInternalHooks)(Kb).registerWatch)((function(e){var t=Hx(e,h.current),n=Sw(t);c.current!==n&&(c.current=n,a(t))})),n=Hx(e(),h.current);return a(n),t}}),[]),o},Pw=t.forwardRef(_w);Pw.FormProvider=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=t.useContext(xw),u=t.useRef({});return t.createElement(xw.Provider,{value:(0,a.Z)((0,a.Z)({},s),{},{validateMessages:(0,a.Z)((0,a.Z)({},s.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=(0,a.Z)((0,a.Z)({},u.current),{},(0,Te.Z)({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=(0,a.Z)({},u.current);delete t[e],u.current=t,s.unregisterForm(e)}})},o)},Pw.Field=lw,Pw.List=fw,Pw.useForm=bw,Pw.useWatch=Ow;var kw=t.createContext({}),jw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Cw=t.createContext(null),Tw=function(e,n){var r=e.defaultValue,i=e.children,o=e.options,a=void 0===o?[]:o,c=e.prefixCls,l=e.className,p=e.style,f=e.onChange,d=jw(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=t.useContext(ym),y=h.getPrefixCls,v=h.direction,m=t.useState(d.value||r||[]),g=(0,s.Z)(m,2),b=g[0],x=g[1],w=t.useState([]),E=(0,s.Z)(w,2),_=E[0],S=E[1];t.useEffect((function(){"value"in d&&x(d.value||[])}),[d.value]);var O=function(){return a.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},P=y("checkbox",c),k="".concat(P,"-group"),j=hm(d,["value","disabled"]);a&&a.length>0&&(i=O().map((function(e){return t.createElement(Rw,{prefixCls:P,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:-1!==b.indexOf(e.value),onChange:e.onChange,className:"".concat(k,"-item"),style:e.style},e.label)})));var C={toggleOption:function(e){var t=b.indexOf(e.value),n=(0,u.Z)(b);-1===t?n.push(e.value):n.splice(t,1),"value"in d||x(n);var r=O();null===f||void 0===f||f(n.filter((function(e){return-1!==_.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:b,disabled:d.disabled,name:d.name,registerValue:function(e){S((function(t){return[].concat((0,u.Z)(t),[e])}))},cancelValue:function(e){S((function(t){return t.filter((function(t){return t!==e}))}))}},T=dm()(k,(0,Te.Z)({},"".concat(k,"-rtl"),"rtl"===v),l);return t.createElement("div",(0,pm.Z)({className:T,style:p},j,{ref:n}),t.createElement(Cw.Provider,{value:C},i))},Mw=t.forwardRef(Tw),Aw=t.memo(Mw),Nw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dw=function(e,n){var r,i=e.prefixCls,o=e.className,a=e.children,s=e.indeterminate,u=void 0!==s&&s,c=e.style,l=e.onMouseEnter,p=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,h=e.disabled,y=Nw(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),v=t.useContext(ym),m=v.getPrefixCls,g=v.direction,b=t.useContext(Cw),x=(0,t.useContext)(kw).isFormItemInput,w=(0,t.useContext)(gm),E=h||(null===b||void 0===b?void 0:b.disabled)||w,_=t.useRef(y.value);t.useEffect((function(){null===b||void 0===b||b.registerValue(y.value)}),[]),t.useEffect((function(){if(!d)return y.value!==_.current&&(null===b||void 0===b||b.cancelValue(_.current),null===b||void 0===b||b.registerValue(y.value),_.current=y.value),function(){return null===b||void 0===b?void 0:b.cancelValue(y.value)}}),[y.value]);var S=m("checkbox",i),O=(0,pm.Z)({},y);b&&!d&&(O.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),b.toggleOption&&b.toggleOption({label:a,value:y.value})},O.name=b.name,O.checked=-1!==b.value.indexOf(y.value));var P=dm()((r={},(0,Te.Z)(r,"".concat(S,"-wrapper"),!0),(0,Te.Z)(r,"".concat(S,"-rtl"),"rtl"===g),(0,Te.Z)(r,"".concat(S,"-wrapper-checked"),O.checked),(0,Te.Z)(r,"".concat(S,"-wrapper-disabled"),E),(0,Te.Z)(r,"".concat(S,"-wrapper-in-form-item"),x),r),o),k=dm()((0,Te.Z)({},"".concat(S,"-indeterminate"),u)),j=u?"mixed":void 0;return t.createElement("label",{className:P,style:c,onMouseEnter:l,onMouseLeave:p},t.createElement(qb,(0,pm.Z)({"aria-checked":j},O,{prefixCls:S,className:k,disabled:E,ref:n})),void 0!==a&&t.createElement("span",null,a))};var Rw=t.forwardRef(Dw),Iw=Rw;Iw.Group=Aw,Iw.__ANT_CHECKBOX=!0;var Lw=Iw;var Bw=function(e){var n=e.lf,r=(0,t.useState)(!0),i=(0,s.Z)(r,2),o=i[0],a=i[1];return(0,Ce.jsxs)("div",{className:"operateBar",children:[(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){n.updateEditConfig({adjustEdge:o,adjustNodePosition:o,hideAnchors:o}),a(!o)},children:o?"\u7f16\u8f91\u4e2d...":"\u7f16\u8f91"}),(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){n.getGraphData();console.log(n.getGraphRawData())},children:"\u4fdd\u5b58"}),(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){n.clearData()},children:"\u6e05\u9664"}),(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){n.undo()},children:"\u4e0a\u4e00\u6b65"}),(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){n.redo()},children:"\u4e0b\u4e00\u6b65"}),(0,Ce.jsx)(Xb,{disabled:!n,type:"primary",onClick:function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.xml",n.getGraphData())},children:"\u4e0b\u8f7dxml"}),(0,Ce.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var t=e.target.files[0],r=new FileReader;r.onload=function(e){if(e.target){var t=e.target.result;n.render(t)}},r.readAsText(t)}(e)}}),(0,Ce.jsx)("div",{style:{color:"#fff"},children:"\u6846\u9009:"}),(0,Ce.jsx)(Lw,{disabled:!n,onChange:function(e){console.log(n),e.target.checked?n.extension.selectionSelect.openSelectionSelect():n.extension.selectionSelect.closeSelectionSelect()}})]})},Fw=new vt.Z([32,32,1]);function zw(){return Fw.next()}var Vw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hw=function(e){function t(t,n){return t.id||(t.id="Event_"+zw()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return Vw(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t.extendKey="StartEventModel",t}(sm.CircleNodeModel),$w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vw(t,e),t.extendKey="StartEventNode",t}(sm.CircleNode),Gw={type:"bpmn:startEvent",view:$w,model:Hw},Uw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ww=function(){return Ww=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ww.apply(this,arguments)},Xw=function(e){function t(t,n){return t.id||(t.id="Event_"+zw()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return Uw(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(sm.CircleNodeModel),Zw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uw(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.props.model,n=t.getNodeStyle(),r=t.x,i=t.y,o=t.r,a=e.prototype.getShape.call(this);return(0,sm.h)("g",{},a,(0,sm.h)("circle",Ww(Ww({},n),{cx:r,cy:i,r:o-5})))},t.extendKey="EndEventView",t}(sm.CircleNode),qw={type:"bpmn:endEvent",view:Zw,model:Xw},Yw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kw=function(){return Kw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kw.apply(this,arguments)},Jw=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+zw()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(r=e.call(this,t,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}return Yw(t,e),t.extendKey="ExclusiveGatewayModel",t}(sm.PolygonNodeModel),Qw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yw(t,e),t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.points,a=e.getNodeStyle();return(0,sm.h)("g",{transform:"matrix(1 0 0 1 "+(t-r/2)+" "+(n-i/2)+")"},(0,sm.h)("polygon",Kw(Kw({},a),{x:t,y:n,points:o})),(0,sm.h)("path",Kw({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},a)))},t.extendKey="ExclusiveGatewayNode",t}(sm.PolygonNode),eE={type:"bpmn:exclusiveGateway",view:Qw,model:Jw},tE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nE=function(){return nE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nE.apply(this,arguments)},rE=function(e){function t(t,n){return t.id||(t.id="Activity_"+zw()),e.call(this,t,n)||this}return tE(t,e),t.extendKey="UserTaskModel",t}(sm.RectNodeModel),iE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tE(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.getNodeStyle();return(0,sm.h)("svg",{x:t-r/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,sm.h)("path",{fill:o.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius,a=e.getNodeStyle();return(0,sm.h)("g",{},[(0,sm.h)("rect",nE(nE({},a),{x:t-r/2,y:n-i/2,rx:o,ry:o,width:r,height:i})),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(sm.RectNode),oE={type:"bpmn:userTask",view:iE,model:rE},aE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sE=function(){return sE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sE.apply(this,arguments)},uE=function(e){function t(t,n){return t.id||(t.id="Activity_"+zw()),e.call(this,t,n)||this}return aE(t,e),t.extendKey="ServiceTaskModel",t}(sm.RectNodeModel),cE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aE(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.getNodeStyle();return(0,sm.h)("svg",{x:t-r/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,sm.h)("path",{fill:o.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius,a=e.getNodeStyle();return(0,sm.h)("g",{},[(0,sm.h)("rect",sE({x:t-r/2,y:n-i/2,rx:o,ry:o,width:r,height:i},a)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(sm.RectNode),lE={type:"bpmn:serviceTask",view:cE,model:uE},pE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fE=function(e){function t(t,n){return t.id||(t.id="Flow_"+zw()),e.call(this,t,n)||this}return pE(t,e),t.extendKey="SequenceFlowModel",t}(sm.PolylineEdgeModel),dE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pE(t,e),t.extendKey="SequenceFlowEdge",t}(sm.PolylineEdge),hE={type:"bpmn:sequenceFlow",view:dE,model:fE},yE=40,vE=40,mE=40,gE=40,bE=40,xE=40,wE=100,EE=80,_E=100,SE=80,OE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},PE=function(){function e(e){var t=e.lf;t.setTheme(OE),t.register(Gw),t.register(qw),t.register(eE),t.register(oE),t.register(lE),t.options.customBpmnEdge||(t.register(hE),t.setDefaultEdgeType("bpmn:sequenceFlow"))}return e.pluginName="bpmnElement",e}(),kE=function(){function e(e){var t=this,n=e.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(e,n){t.getSnapshot(e,n)},n.getSnapshotBlob=function(e){return t.getSnapshotBlob(e)},n.getSnapshotBase64=function(e){return t.getSnapshotBase64(e)}}return e.prototype.getSvgRootElement=function(e){var t=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.graphModel.nodes.forEach((function(e){var n=e.x-e.width/2,r=e.y-e.height/2;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var n=e.x,r=e.y;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)}))})),e.container.querySelector(".lf-canvas-overlay")},e.prototype.triggerDownload=function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},e.prototype.removeAnchor=function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var i=t[r];(i.classList&&Array.from(i.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},e.prototype.getSnapshot=function(e,t){var n=this;this.fileName=e||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,t).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(t)}))},e.prototype.getSnapshotBase64=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){var t=e.toDataURL("image/png");r({data:t,width:e.width,height:e.height})}))}))},e.prototype.getSnapshotBlob=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){e.toBlob((function(t){r({data:t,width:e.width,height:e.height})}),"image/png")}))}))},e.prototype.getClassRules=function(){var e="";if(this.useGlobalRules)for(var t=document.styleSheets,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.cssRules.length;i++)e+=r.cssRules[i].cssText;return this.customCssRules&&(e+=this.customCssRules),e},e.prototype.getCanvasData=function(e,t){var n=this,r=e.cloneNode(!0),i=r.lastChild,o=i.childNodes&&i.childNodes.length;if(o)for(var a=0;a<o;a++){var s=i.childNodes[a],u=s.classList&&Array.from(s.classList);if(u&&u.indexOf("lf-base")<0)i.removeChild(i.childNodes[a]),o--,a--;else{var c=i.childNodes[a];c&&c.childNodes.forEach((function(e){var t=e;n.removeAnchor(t.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,p=document.createElement("canvas"),f=this.lf.graphModel.rootEl.querySelector(".lf-base").getBoundingClientRect(),d=this.lf.graphModel.transformModel,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(f.width/h),m=Math.ceil(f.height/y);p.style.width=v+"px",p.style.height=m+"px",p.width=v*l+80,p.height=m*l+80;var g=p.getContext("2d");g.clearRect(0,0,p.width,p.height),g.scale(l,l),t?(g.fillStyle=t,g.fillRect(0,0,v*l+80,m*l+80)):g.clearRect(0,0,v,m);var b=new Image,x=document.createElement("style");x.innerHTML=this.getClassRules();var w=document.createElement("foreignObject");return w.appendChild(x),r.appendChild(w),new Promise((function(e){b.onload=function(){g.drawImage(b,0,0),e(p)};var t=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");b.src=t}))},e.pluginName="snapshot",e}(),jE=new vt.Z([32,32,1]);function CE(){return jE.next()}var TE=function(){};(TE.ObjTree=function(){return this}).VERSION="0.23",TE.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',TE.ObjTree.prototype.attr_prefix="-",TE.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},TE.ObjTree.prototype.parseHTTP=function(e,t,n){var r,i={};for(var o in t)i[o]=t[o];if(i.method||("undefined"==typeof i.postBody&&"undefined"==typeof i.postbody&&"undefined"==typeof i.parameters?i.method="get":i.method="post"),n){i.asynchronous=!0;var a=this,s=n,u=i.onComplete;i.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),s(t,e),u&&u(e)}}else i.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)i.uri=e,(c=new HTTP.Request(i))&&(r=c.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var c;(c=new Ajax.Request(e,i))&&(r=c.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},TE.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},TE.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){if("string"==typeof(a=e.attributes[r].nodeName))(s=e.attributes[r].nodeValue)&&("undefined"==typeof n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],s))}}if(e.childNodes&&e.childNodes.length){var i=!0;t&&(i=!1);for(r=0;r<e.childNodes.length&&i;r++){var o=e.childNodes[r].nodeType;3!=o&&4!=o&&(i=!1)}if(i){t||(t="");for(r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(r=0;r<e.childNodes.length;r++){var a,s;if("string"==typeof(a=e.childNodes[r].nodeName))(s=this.parseElement(e.childNodes[r]))&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],s))}}}return t}},TE.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},TE.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},TE.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];i.charAt(0)!=this.attr_prefix?"undefined"==typeof o||null==o?n[n.length]="<"+i+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(i,o):n[n.length]="object"==typeof o?this.hash_to_xml(i,o):this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),s=n.join("");return"undefined"==typeof e||null==e||(s=n.length>0?s.match(/\n/)?"<"+e+a+">\n"+s+"</"+e+">\n":"<"+e+a+">"+s+"</"+e+">\n":"<"+e+a+" />\n"),s},TE.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"undefined"==typeof i||null==i?n[n.length]="<"+e+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(e,i):n[n.length]="object"==typeof i?this.hash_to_xml(e,i):this.scalar_to_xml(e,i)}return n.join("")},TE.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},TE.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ME,AE=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(ME||(ME={}));var NE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function DE(e){var t={};return Object.entries(e).forEach((function(e){var n=AE(e,2),r=n[0],i=n[1];"object"!==typeof i?0===r.indexOf("-")?t[r]=i:t["-"+r]=i:t[r]=DE(i)})),t}function RE(e){var t={};return Object.entries(e).forEach((function(e){var n=AE(e,2),r=n[0],i=n[1];"string"===typeof i?0===r.indexOf("-")?t[r.substr(1)]=i:t[r]=i:t[r]="object"===typeof i?RE(i):i})),t}function IE(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var i=r["bpmn:process"];Object.keys(i).forEach((function(e){if(0===e.indexOf("bpmn:")){var o=i[e];if(e===ME.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(BE(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(BE(r,e))}return n}(o,a)}else{var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var i=LE(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(i)}));else{var i=LE(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(i)}return r}(o,s,e))}}}))}return{nodes:t,edges:n}}function LE(e,t,n){var r,i,o=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),s=n["-name"],u=FE.shapeConfigMap.get(t);if(u&&(o+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=AE(e,2),n=t[0],i=t[1];-1===NE.indexOf(n)&&(r||(r={}),r[n]=i)})),r&&(r=RE(r)),s&&(i={x:o,y:a,value:s},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var c=e["bpmndi:BPMNLabel"]["dc:Bounds"];i.x=Number(c["-x"])+Number(c["-width"])/2,i.y=Number(c["-y"])+Number(c["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:o,y:a,properties:r};return i&&(l.text=i),l}function BE(e,t){var n,r,i=t["-name"];if(i){var o=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;i.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:i,x:Number(o["-x"])+10*a/2,y:Number(o["-y"])+7}}Object.entries(t).forEach((function(e){var t=AE(e,2),n=t[0],i=t[1];-1===NE.indexOf(n)&&(r||(r={}),r[n]=i)})),r&&(r=RE(r));var s={id:t["-id"],type:ME.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(s.text=n),s}var FE={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+CE()};!function(e,t){var n=new Map;t.nodes.forEach((function(t){var r,i={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(i["-name"]=t.text.value),t.properties){var o=DE(t.properties);Object.assign(i,o)}n.set(t.id,i),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(i):e[t.type]=[e[t.type],i]:e[t.type]=i}));var r=t.edges.map((function(e){var t,r,i=n.get(e.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(e.id):i["bpmn:incoming"]=[i["bpmn:incoming"],e.id]:i["bpmn:incoming"]=e.id;var o=n.get(e.sourceNodeId);o["bpmn:outgoing"]?Array.isArray(o["bpmn:outgoing"])?o["bpmn:outgoing"].push(e.id):o["bpmn:outgoing"]=[o["bpmn:outgoing"],e.id]:o["bpmn:outgoing"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var s=DE(e.properties);Object.assign(a,s)}return a}));e[ME.FLOW]=r}(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}})),i={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(i["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),i})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,i=80,o=e.x,a=e.y,s=FE.shapeConfigMap.get(e.type);s&&(r=s.width,i=s.height);var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":o-=r/2,"-y":a-=i/2,"-width":r,"-height":i}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(n,e),{"bpmn:definitions":{"-id":"Definitions_"+CE(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":'argetNamespace="http://bpmn.io/schema/bpmn"',"-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(e){if(e)return IE(e)}};FE.shapeConfigMap.set(ME.START,{width:yE,height:vE}),FE.shapeConfigMap.set(ME.END,{width:mE,height:gE}),FE.shapeConfigMap.set(ME.GATEWAY,{width:bE,height:xE}),FE.shapeConfigMap.set(ME.SYSTEM,{width:wE,height:EE}),FE.shapeConfigMap.set(ME.USER,{width:_E,height:SE});var zE=function(){return zE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zE.apply(this,arguments)},VE=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},HE=1,$E=2,GE=3,UE=4,WE=6,XE={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function ZE(e){switch(e){case"bpmn:sequenceFlow":return HE;case"bpmn:startEvent":return $E;case"bpmn:endEvent":return GE;case"bpmn:userTask":return UE;case"bpmn:exclusiveGateway":return WE;default:return e}}function qE(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=function(e){var t=e.id,n=(e.type,e.x),r=e.y,i=e.text,o=void 0===i?"":i,a=e.properties;return{incoming:[],outgoing:[],dockers:[],type:ZE(e.type),properties:zE(zE({},a),{name:o&&o.value||"",x:n,y:r,text:o}),key:t}}(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.sourceNodeId,i=e.targetNodeId,o=e.startPoint,a=e.endPoint,s=(e.pointsList,e.text),u=void 0===s?"":s,c=e.properties;return{incoming:[r],outgoing:[i],type:ZE(n),dockers:[],properties:zE(zE({},c),{name:u&&u.value||"",text:u,startPoint:JSON.stringify(o),endPoint:JSON.stringify(a),pointsList:JSON.stringify(u)}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(r.key),t.get(e.targetNodeId).incoming.push(r.key),n.flowElementList.push(r)})),n}function YE(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===HE){var n=function(e){var t=e.incoming,n=e.outgoing,r=e.properties,i=e.key,o=e.type,a=r.text,s=r.name,u=r.startPoint,c=r.endPoint,l=r.pointsList,p={id:i,type:XE[o],sourceNodeId:t[0],targetNodeId:n[0],text:a||s,properties:{}};u&&(p.startPoint=JSON.parse(u)),c&&(p.endPoint=JSON.parse(c)),l&&(p.endPoint=JSON.parse(l));var f=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach((function(t){-1===f.indexOf(t)&&(p.properties[t]=e.properties[t])})),p}(e);t.edges.push(n)}else{var r=function(e){var t=e.properties,n=e.key,r=e.type,i=e.bounds,o=t.x,a=t.y;if(void 0===o){var s=VE(i,2),u=s[0],c=u.x,l=u.y,p=s[1];o=(c+p.x)/2,a=(l+p.y)/2}var f={id:n,type:XE[r],x:o,y:a,text:t.text,properties:{}},d=["x","y","text"];return Object.keys(e.properties).forEach((function(t){-1===d.indexOf(t)&&(f.properties[t]=e.properties[t])})),f}(e);t.nodes.push(r)}})),t}var KE;!function(){function e(e){var t=e.lf;t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut}e.prototype.adapterOut=function(e){if(e)return qE(e)},e.prototype.adapterIn=function(e){if(e)return YE(e)},e.pluginName="turboAdapter"}();!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(KE||(KE={}));var JE,QE,e_,t_,n_,r_=function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0},i_=function(e,t,n){var r=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}}(e),i=function(e,t){var n;return e.x===t.x?n=KE.VERTICAL:e.y===t.y&&(n=KE.HORIZONTAL),n}(t,n),o=Math.max(t.x,n.x),a=Math.min(t.x,n.x),s=Math.max(t.y,n.y),u=Math.min(t.y,n.y),c=e.x,l=e.y,p=e.width,f=e.height;if(i===KE.HORIZONTAL){if(t.y===l&&o>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?c+p/2:c-p/2,y:l},endCrossPoint:{x:t.x>n.x?c-p/2:c+p/2,y:l}}}else if(i===KE.VERTICAL&&t.x===e.x&&s>=r.maxY&&u<=r.minY)return{startCrossPoint:{x:c,y:t.y>n.y?l+f/2:l-f/2},endCrossPoint:{x:c,y:t.y>n.y?l-f/2:l+f/2}}},o_=function(e,t){for(var n=e.x,r=e.y,i=t.pointsList,o=0;o<i.length-1;o++)if(r_({x:n,y:r},i[o],i[o+1])){var a=i_(e,i[o],i[o+1]);if(a)return{crossIndex:o+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},a_=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a_(arguments[t]));return e},u_=(function(){function e(e){var t=e.lf;this._lf=t,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}e.prototype.eventHandler=function(){var e=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(t){var n=t.data;e.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(t){for(var n=t.data,r=e._lf.graphModel.edges,i=n.id,o=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===i||r[a].targetNodeId===i){o=!1;break}o&&e.insetNode(n)}))},e.prototype.insetNode=function(e){for(var t=this._lf.graphModel.edges,n=this._lf.getNodeModelById(e.id),r=0;r<t.length;r++){var i=o_(n,t[r]),o=i.crossIndex,a=i.crossPoints;if(o>=0){var s=t[r],u=s.sourceNodeId,c=s.targetNodeId,l=s.id,p=s.type,f=s.pointsList;this._lf.addEdge({type:p,sourceNodeId:u,targetNodeId:e.id,pointsList:s_(f.slice(0,o),[a.startCrossPoint])}),this._lf.addEdge({type:p,sourceNodeId:e.id,targetNodeId:c,pointsList:s_([a.endCrossPoint],f.slice(o))}),this._lf.deleteEdge(l);break}}},e.pluginName="insertNodeInPolyline"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}),c_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u_(arguments[t]));return e},l_=(function(){function e(e){var t=this,n=e.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){t.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){t.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){t.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){t.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){t.lf.redo()}}],this.lf=n}e.prototype.render=function(e,t){this.destroy();var n=this.getControlTool();this.toolEl=n,t.appendChild(n),this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(e){this.controlItems.push(e)},e.prototype.removeItem=function(e){var t=this.controlItems.findIndex((function(t){return t.key===e}));return this.controlItems.splice(t,1)[0]},e.prototype.getControlTool=function(){var e=this,t="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),i=[];return r.className="lf-control",this.controlItems.forEach((function(r){var o=document.createElement("div"),a=document.createElement("i"),s=document.createElement("span");switch(o.className=n,r.onClick&&(o.onclick=r.onClick.bind(null,e.lf)),r.onMouseEnter&&(o.onmouseenter=r.onMouseEnter.bind(null,e.lf)),r.onMouseLeave&&(o.onmouseleave=r.onMouseLeave.bind(null,e.lf)),a.className=r.iconClass,s.className="lf-control-text",s.title=r.title,s.innerText=r.text,o.append(a,s),r.text){case"\u4e0a\u4e00\u6b65":e.lf.on("history:change",(function(e){var r=e.data.undoAble;o.className=r?t:n}));break;case"\u4e0b\u4e00\u6b65":e.lf.on("history:change",(function(e){var r=e.data.redoAble;o.className=r?t:n}));break;default:o.className=t}i.push(o)})),r.append.apply(r,c_(i)),r},e.pluginName="control"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}),p_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l_(arguments[t]));return e},f_="lf:defaultNodeMenu",d_="lf:defaultEdgeMenu",h_="lf:defaultGraphMenu",y_="lf:defaultSelectionMenu",v_=function(){function e(e){var t=this,n=e.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.setMenuConfig(e)},this.lf.addMenuConfig=function(e){t.addMenuConfig(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)}}return e.prototype.init=function(){var e=this,t=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.editText(t.id)}},{text:"\u590d\u5236",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(f_,t);var n=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.editText(t.id)}}];this.menuTypeMap.set(d_,n),this.menuTypeMap.set(h_,[]);var r=[{text:"\u5220\u9664",callback:function(t){e.lf.clearSelectElements(),t.edges.forEach((function(t){return e.lf.deleteEdge(t.id)})),t.nodes.forEach((function(t){return e.lf.deleteNode(t.id)}))}}];this.menuTypeMap.set(y_,r)},e.prototype.render=function(e,t){var n=this;this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,i=r.x,o=r.y,a=t.id,s=n.lf.graphModel.getNodeModelById(a),u=[],c=n.menuTypeMap.get(s.type);u=s&&s.menu&&Array.isArray(s.menu)?s.menu:c||n.menuTypeMap.get(f_),n.__currentData=t,n.showMenu(i,o,u)})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,i=r.x,o=r.y,a=t.id,s=n.lf.graphModel.getEdgeModelById(a),u=[],c=n.menuTypeMap.get(s.type);u=s&&s.menu&&Array.isArray(s.menu)?s.menu:c||n.menuTypeMap.get(d_),n.__currentData=t,n.showMenu(i,o,u)})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,r=n.menuTypeMap.get(h_),i=t.domOverlayPosition,o=i.x,a=i.y;n.showMenu(o,a,r)})),this.lf.on("selection:contextmenu",(function(e){var t=e.data,r=e.position,i=n.menuTypeMap.get(y_),o=r.domOverlayPosition,a=o.x,s=o.y;n.__currentData=t,n.showMenu(a,s,i)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,p_(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=t+"px",r.style.left=e+"px")}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var i=document.createElement("span");i.className="lf-menu-item-text",e.text&&(i.innerText=e.text),n.appendChild(i),n.onclickCallback=e.callback,t.push(n)})),t},e.prototype.setMenuConfig=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(f_,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(d_,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(h_,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuConfig=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(f_);this.menuTypeMap.set(f_,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(d_);this.menuTypeMap.set(d_,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(h_);this.menuTypeMap.set(h_,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuConfig(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(t)}},e.pluginName="menu",e}(),m_=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},g_="menu-common",b_=(function(){function e(e){var t=this,n=e.lf;this.menuTypeMap=new Map,this.listenDelete=function(){t.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(g_,[]),this.lf.setContextMenuByType=function(e,n){t.setContextMenuByType(e,n)},this.lf.setContextMenuItems=function(e){t.setContextMenuItems(e)},this.lf.showContextMenu=function(e){t.showContextMenu(e)},this.lf.hideContextMenu=function(){t.hideContextMenu()}}e.prototype.render=function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideContextMenu()}))},e.prototype.setContextMenuByType=function(e,t){this.menuTypeMap.set(e,t)},e.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.prototype.showContextMenu=function(e){e&&e.id?(this._activeData=e,this.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},e.prototype.setContextMenuItems=function(e){this.menuTypeMap.set(g_,e)},e.prototype.getContextMenuPosition=function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var i=t.getData();n=Math.max(i.startPoint.x,n),r=Math.min(i.startPoint.y,r),n=Math.max(i.endPoint.x,n),r=Math.min(i.endPoint.y,r),i.pointsList&&i.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+e.id)},e.prototype.createContextMenu=function(){var e=this;if(!this.lf.options.isSilentMode){var t=this.menuTypeMap.get(this._activeData.type)||[];t=t.concat(this.menuTypeMap.get(g_));var n=document.createDocumentFragment();t.forEach((function(t){var r=document.createElement("div");r.className="lf-context-item";var i=document.createElement("img");i.src=t.icon,i.className="lf-context-img",t.className&&(r.className=r.className+" "+t.className),i.addEventListener("click",(function(){e.hideContextMenu(),t.callback?t.callback(e._activeData):e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,properties:t.properties,type:t.type})})),r.appendChild(i),n.appendChild(r)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(n),this.showMenu()}},e.prototype.addNode=function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModelById(e.sourceId),i=e.x-r.width+200,o=t-e.y/2-20,a=e.x+r.width+200,s=t+e.y/2+20;if(this.lf.getAreaElement([i,o],[a,s]).length)return t+=100,void this.addNode(e,t);var u,c,l=this.lf.addNode({type:e.type,x:e.x+200,y:t,properties:e.properties});n&&(u={x:e.x,y:e.y+r.height/2},c={x:l.x-l.width/2,y:l.y}),this.lf.addEdge({sourceNodeId:e.sourceId,targetNodeId:l.id,startPoint:u,endPoint:c})},e.prototype.showMenu=function(){var e=m_(this.getContextMenuPosition(),2),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=t+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.pluginName="contextMenu"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.setPatternItems(e)}}e.prototype.render=function(e,t){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl),this.domContainer=t):this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},e.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.label){var i=document.createElement("div");i.innerText=e.label,i.className="lf-dnd-text",n.appendChild(i)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(t.lf,t.domContainer)},n},e.pluginName="dndPanel"}(),function(){function e(e){var t=this,n=e.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(e){var n=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,r=n.x,i=n.y;t.endPoint={x:r,y:i};var o=t.startPoint,a=o.x,s=o.y,u=t.wrapper.style,c=a,l=s,p=r-a,f=i-s;r<a&&(c=r,p=a-r),i<s&&(l=i,f=s-i),u.left=c+"px",u.top=l+"px",u.width=p+"px",u.height=f+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.wrapper.oncontextmenu=null,t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,n=e.x,r=e.y,i=t.endPoint,o=i.x,a=i.y;if(!(Math.abs(o-n)<10&&Math.abs(a-r)<10)){var s=[Math.min(n,o),Math.min(r,a)],u=[Math.max(n,o),Math.max(r,a)],c=t.lf.graphModel.getAreaElement(s,u,t.isWholeEdge,t.isWholeNode,!0),l=t.lf.graphModel.group;c.forEach((function(e){l&&l.getNodeGroup(e.id)||t.lf.selectElementById(e.id,!0)})),t.lf.emit("selection:selected",c)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=r,n.openSelectionSelect=function(){t.openSelectionSelect()},n.closeSelectionSelect=function(){t.closeSelectionSelect()}}return e.prototype.render=function(e,t){var n=this;this.__domContainer=t,e.on("blank:mousedown",(function(r){var i=r.e;if(e.getEditConfig().stopMoveGraph&&!n.__disabled){var o=e.getPointByClient(i.clientX,i.clientY).domOverlayPosition,a=o.x,s=o.y;n.startPoint={x:a,y:s},n.endPoint={x:a,y:s};var u=document.createElement("div");u.className="lf-selection-select",u.oncontextmenu=function(e){e.preventDefault()},u.style.top=n.startPoint.y+"px",u.style.left=n.startPoint.x+"px",t.appendChild(u),n.wrapper=u,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}))},e.prototype.setSelectionSense=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.isWholeEdge=e,this.isWholeNode=t},e.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}()),x_=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},w_=(function(){function e(e){var t=this,n=e.lf,r=e.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(e,n){t.__setView(),t.__isShow||t.__createMiniMap(e,n),t.__isShow=!0},this.hide=function(){t.__isShow&&t.__removeMiniMap(),t.__isShow=!1},this.__startDrag=function(e){document.addEventListener("mousemove",t.__drag),document.addEventListener("mouseup",t.__drop),t.__startPosition={x:e.x,y:e.y}},this.moveViewport=function(e,n){var r=t.__viewport.style;t.__viewPortTop=e,t.__viewPortLeft=n,r.top=t.__viewPortTop+"px",r.left=t.__viewPortLeft+"px"},this.__drag=function(e){var n=t.__viewPortTop+e.y-t.__startPosition.y,r=t.__viewPortLeft+e.x-t.__startPosition.x;t.moveViewport(n,r),t.__startPosition={x:e.x,y:e.y};var i=(t.__viewPortLeft+t.__viewPortWidth/2)/t.__viewPortScale,o=(t.__viewPortTop+t.__viewPortHeight/2)/t.__viewPortScale;t.__lf.focusOn({coordinate:{x:i+t.__resetDataX,y:o+t.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",t.__drag),document.removeEventListener("mouseup",t.__drop);var e=t.__viewPortTop,n=t.__viewPortLeft;t.__viewPortLeft>t.__width&&(n=t.__width-t.__viewPortWidth),t.__viewPortTop>t.__height&&(e=t.__height-t.__viewPortHeight),t.__viewPortLeft<-t.__width&&(n=0),t.__viewPortTop<-t.__height&&(e=0),t.moveViewport(e,n)},this.__lf=n,this.__miniMapWidth=n.graphModel.width,this.__miniMapHeight=220*n.graphModel.width/150,this.__LogicFlow=r,this.__init()}e.prototype.render=function(e,t){var n=this;this.__container=t,this.__lf.on("history:change",(function(){n.__isShow&&n.__setView()})),this.__lf.on("blank:drop",(function(){n.__isShow&&n.__setView()}))},e.prototype.init=function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},e.prototype.__init=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=this.__width+"px",e.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(e){return e},this.__lfMap.adapterOut=function(e){return e},this.__miniMapWrap=e,this.__createViewPort()},e.prototype.__createMiniMap=function(e,t){var n=document.createElement("div"),r=this.__miniMapWrap;n.appendChild(r),"undefined"!==typeof e&&"undefined"!==typeof t&&(n.style.left=e+"px",n.style.top=t+"px"),n.style.position="absolute",n.className="lf-mini-map",this.__container.appendChild(n),this.__miniMapWrap.appendChild(this.__viewport);var i=document.createElement("div");i.className="lf-mini-map-header",i.innerText="\u5bfc\u822a",n.appendChild(i);var o=document.createElement("span");o.className="lf-mini-map-close",o.addEventListener("click",this.hide),n.appendChild(o),this.__miniMapContainer=n},e.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},e.prototype.__getBounds=function(e){var t=0,n=this.__miniMapWidth,r=0,i=this.__miniMapHeight,o=e.nodes;return o&&o.length>0&&o.forEach((function(e){var o=e.x,a=e.y,s=e.width,u=void 0===s?200:s,c=e.height,l=void 0===c?200:c,p=o-u/2,f=o+u/2,d=a-l/2,h=a+l/2;t=p<t?p:t,n=f>n?f:n,r=d<r?d:r,i=h>i?h:i})),{left:t,top:r,bottom:i,right:n}},e.prototype.__resetData=function(e){var t=e.nodes,n=e.edges,r=0,i=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,o=e.width,a=void 0===o?200:o,s=e.height,u=t-a/2,c=n-(void 0===s?200:s)/2;r=u<r?u:r,i=c<i?c:i})),(r<0||i<0)&&(this.__resetDataX=r,this.__resetDataY=i,t.forEach((function(e){e.x=e.x-r,e.y=e.y-i,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-i)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-i),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-i),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-i),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-i}))})))),e},e.prototype.__setView=function(){var e,t,n=this.__resetData(this.__lf.getGraphRawData()),r=this.__lf.viewMap,i=this.__lf.graphModel.modelMap,o=this.__lfMap.viewMap;try{for(var a=x_(r.keys()),s=a.next();!s.done;s=a.next()){var u=s.value;o.has(u)||(this.__lfMap.setView(u,r.get(u)),this.__lfMap.graphModel.modelMap.set(u,i.get(u)))}}catch(g){e={error:g}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.__lfMap.render(n);var c=this.__getBounds(n),l=c.left,p=c.top,f=c.right,d=c.bottom,h=this.__width/(f-l),y=this.__height/(d-p),v=this.__miniMapWrap.firstChild.style,m=Math.min(h,y);v.transform="matrix("+m+", 0, 0, "+m+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(p,0)+"px",v.width=f-Math.min(l,0)+"px",this.__viewPortScale=m,this.__setViewPort(m,{left:l,top:p,right:f,bottom:d})},e.prototype.__setViewPort=function(e,t){var n=t.left,r=t.right,i=(t.top,t.bottom,this.__viewport.style);i.width=this.__width-4+"px",i.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var o=this.__lf.getTransform(),a=o.TRANSLATE_X,s=o.TRANSLATE_Y,u=r-n,c=(this.__width-4)/(u/this.__lf.graphModel.width),l=c/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=s>0?0:-s*e,this.__viewPortLeft=a>0?0:-a*e,this.__viewPortWidth=c,this.__viewPortHeight=l,i.top=this.__viewPortTop+"px",i.left=this.__viewPortLeft+"px",i.width=c+"px",i.height=l+"px"},e.prototype.__createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.__startDrag),this.__viewport=e},e.pluginName="miniMap"}(),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),E_=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},__=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}w_(t,e),t.prototype.getEdge=function(){for(var e=this.props.model.getEdgeStyle(),t=e.strokeWidth,n=e.stroke,r=e.strokeDashArray,i=this.props.model.points.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),o=E_(i[0],2),a="M"+o[0]+" "+o[1],s=1;s<i.length-1;s++){var u=E_(i[s-1],2),c=u[0],l=u[1],p=E_(i[s],2),f=p[0],d=p[1],h=E_(i[s+1],2),y=h[0],v=h[1];if(f===c&&d!==l)a=a+" L "+f+" "+(d>l?d-5:d+5);if(d===l&&f!==c)a=a+" L "+(f>c?f-5:f+5)+" "+d;if(a=a+" Q "+f+" "+d,f===y&&d!==v)a=a+" "+f+" "+(d>v?d-5:d+5);if(d===v&&f!==y)a=a+" "+(f>y?f-5:f+5)+" "+d}var m=E_(i[i.length-1],2);return a=a+" L "+m[0]+" "+m[1],(0,sm.h)("path",{d:a,strokeWidth:t,stroke:n,fill:"none",strokeDashArray:r})},t.extendKey="curvedEdge"}(sm.PolylineEdge),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}w_(t,e)}(sm.PolylineEdgeModel),{}),S_=[],O_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P_(e,t){for(var n in t)e[n]=t[n];return e}function k_(e){var t=e.parentNode;t&&t.removeChild(e)}function j_(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?JE.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return C_(e,a,r,i,null)}function C_(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++e_:i};return null==i&&null!=QE.vnode&&QE.vnode(o),o}function T_(e){return e.children}function M_(e,t){this.props=e,this.context=t}function A_(e,t){if(null==t)return e.__?A_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?A_(e):null}function N_(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return N_(e)}}function D_(e){(!e.__d&&(e.__d=!0)&&t_.push(e)&&!R_.__r++||n_!==QE.debounceRendering)&&((n_=QE.debounceRendering)||setTimeout)(R_)}function R_(){for(var e;R_.__r=t_.length;)e=t_.sort((function(e,t){return e.__v.__b-t.__v.__b})),t_=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=P_({},i)).__v=i.__v+1,$_(a,i,r,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?A_(i):o,i.__h),G_(n,i),i.__e!=o&&N_(i)))}))}function I_(e,t,n,r,i,o,a,s,u,c){var l,p,f,d,h,y,v,m=r&&r.__k||S_,g=m.length;for(n.__k=[],l=0;l<t.length;l++)if(null!=(d=n.__k[l]=null==(d=t[l])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?C_(null,d,null,null,d):Array.isArray(d)?C_(T_,{children:d},null,null,null):d.__b>0?C_(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(f=m[l])||f&&d.key==f.key&&d.type===f.type)m[l]=void 0;else for(p=0;p<g;p++){if((f=m[p])&&d.key==f.key&&d.type===f.type){m[p]=void 0;break}f=null}$_(e,d,f=f||__,i,o,a,s,u,c),h=d.__e,(p=d.ref)&&f.ref!=p&&(v||(v=[]),f.ref&&v.push(f.ref,null,d),v.push(p,d.__c||h,d)),null!=h?(null==y&&(y=h),"function"==typeof d.type&&d.__k===f.__k?d.__d=u=L_(d,u,e):u=B_(e,d,f,m,h,u),"function"==typeof n.type&&(n.__d=u)):u&&f.__e==u&&u.parentNode!=e&&(u=A_(f))}for(n.__e=y,l=g;l--;)null!=m[l]&&("function"==typeof n.type&&null!=m[l].__e&&m[l].__e==n.__d&&(n.__d=A_(r,l+1)),X_(m[l],m[l]));if(v)for(l=0;l<v.length;l++)W_(v[l],v[++l],v[++l])}function L_(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?L_(r,t,n):B_(n,r,r,i,r.__e,t));return t}function B_(e,t,n,r,i,o){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<r.length;u+=2)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function F_(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||O_.test(t)?n:n+"px"}function z_(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||F_(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||F_(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?H_:V_,o):e.removeEventListener(t,o?H_:V_,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function V_(e){this.l[e.type+!1](QE.event?QE.event(e):e)}function H_(e){this.l[e.type+!0](QE.event?QE.event(e):e)}function $_(e,t,n,r,i,o,a,s,u){var c,l,p,f,d,h,y,v,m,g,b,x,w,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,s=t.__e=n.__e,t.__h=null,o=[s]),(c=QE.__b)&&c(t);try{e:if("function"==typeof E){if(v=t.props,m=(c=E.contextType)&&r[c.__c],g=c?m?m.props.value:c.__:r,n.__c?y=(l=t.__c=n.__c).__=l.__E:("prototype"in E&&E.prototype.render?t.__c=l=new E(v,g):(t.__c=l=new M_(v,g),l.constructor=E,l.render=Z_),m&&m.sub(l),l.props=v,l.state||(l.state={}),l.context=g,l.__n=r,p=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=E.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=P_({},l.__s)),P_(l.__s,E.getDerivedStateFromProps(v,l.__s))),f=l.props,d=l.state,p)null==E.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==E.getDerivedStateFromProps&&v!==f&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,g),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,g)||t.__v===n.__v){l.props=v,l.state=l.__s,t.__v!==n.__v&&(l.__d=!1),l.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),l.__h.length&&a.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,g),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(f,d,h)}))}if(l.context=g,l.props=v,l.__v=t,l.__P=e,b=QE.__r,x=0,"prototype"in E&&E.prototype.render)l.state=l.__s,l.__d=!1,b&&b(t),c=l.render(l.props,l.state,l.context);else do{l.__d=!1,b&&b(t),c=l.render(l.props,l.state,l.context),l.state=l.__s}while(l.__d&&++x<25);l.state=l.__s,null!=l.getChildContext&&(r=P_(P_({},r),l.getChildContext())),p||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(f,d)),w=null!=c&&c.type===T_&&null==c.key?c.props.children:c,I_(e,Array.isArray(w)?w:[w],t,n,r,i,o,a,s,u),l.base=t.__e,t.__h=null,l.__h.length&&a.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U_(n.__e,t,n,r,i,o,a,u);(c=QE.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=o)&&(t.__e=s,t.__h=!!u,o[o.indexOf(s)]=null),QE.__e(e,t,n)}}function G_(e,t){QE.__c&&QE.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){QE.__e(e,t.__v)}}))}function U_(e,t,n,r,i,o,a,s){var u,c,l,p=n.props,f=t.props,d=t.type,h=0;if("svg"===d&&(i=!0),null!=o)for(;h<o.length;h++)if((u=o[h])&&"setAttribute"in u==!!d&&(d?u.localName===d:3===u.nodeType)){e=u,o[h]=null;break}if(null==e){if(null===d)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),o=null,s=!1}if(null===d)p===f||s&&e.data===f||(e.data=f);else{if(o=o&&JE.call(e.childNodes),c=(p=n.props||__).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!s){if(null!=o)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||z_(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||z_(e,o,t[o],n[o],r)}(e,f,p,i,s),l)t.__k=[];else if(h=t.props.children,I_(e,Array.isArray(h)?h:[h],t,n,r,i&&"foreignObject"!==d,o,a,o?o[0]:n.__k&&A_(n,0),s),null!=o)for(h=o.length;h--;)null!=o[h]&&k_(o[h]);s||("value"in f&&void 0!==(h=f.value)&&(h!==e.value||"progress"===d&&!h||"option"===d&&h!==p.value)&&z_(e,"value",h,p.value,!1),"checked"in f&&void 0!==(h=f.checked)&&h!==e.checked&&z_(e,"checked",h,p.checked,!1))}return e}function W_(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){QE.__e(e,n)}}function X_(e,t,n){var r,i;if(QE.unmount&&QE.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||W_(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){QE.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&X_(r[i],t,"function"!=typeof e.type);n||null==e.__e||k_(e.__e),e.__=e.__e=e.__d=void 0}function Z_(e,t,n){return this.constructor(e,n)}JE=S_.slice,QE={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},e_=0,M_.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=P_({},this.state),"function"==typeof e&&(e=e(P_({},n),this.props)),e&&P_(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),D_(this))},M_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),D_(this))},M_.prototype.render=T_,t_=[],R_.__r=0;var q_,Y_=function(){return Y_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y_.apply(this,arguments)};function K_(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius,a=e.className,s=t-r/2,u=n-i/2,c=Y_(Y_({width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:s,y:u});return(0,sm.h)("rect",Y_({},c))}function J_(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2}}function Q_(e){var t=J_(e),n=e.radius,r=t.minX,i=t.minY,o=t.maxX,a=t.maxY;return[{x:r+n,y:i+n},{x:o-n,y:i+n},{x:o-n,y:a-n},{x:r+n,y:a-n}]}function eS(e){var t=e.point,n=e.beforeNode,r=e.afterNode,i=t.x,o=t.y,a={x:i,y:o},s=n.radius,u=J_(n),c=J_(r);if(i===u.minX){a.x=c.minX;var l=(o-n.y)/(n.height/2-s);a.y=l?r.y+(r.height/2-s)*l:r.y}else if(i===u.maxX){a.x=c.maxX;l=(o-n.y)/(n.height/2-s);a.y=l?r.y+(r.height/2-s)*l:r.y}else if(o===u.minY){a.y=c.minY;l=(i-n.x)/(n.width/2-s);a.x=l?r.x+(r.width/2-s)*l:r.x}else if(o===u.maxY){a.y=c.maxY;l=(i-n.x)/(n.width/2-s);a.x=l?r.x+(r.width/2-s)*l:r.x}else{var p=Q_(n),f=Q_(r),d=J_(n),h=d.minX,y=d.minY,v=d.maxX,m=d.maxY,g=-1;if(i-h<s&&o-y<s?g=0:v-i<s&&o-y<s?g=1:v-i<s&&m-o<s?g=2:i-h<s&&y-o<s&&(g=3),g>-1){var b=Math.atan2(o-p[g].y,i-p[g].x);a.x=f[g].x+s*Math.cos(b),a.y=f[g].y+s*Math.sin(b)}}return a}function tS(e){var t,n,r=e.point,i=e.beforeNode,o=e.afterNode,a=o.rx,s=o.ry,u=(r.y-i.y)/(r.x-i.x),c=a,l=s;return u>=1/0?(t=0,n=l):u<=-1/0?(t=0,n=-l):r.x-i.x>0?(t=c*l/Math.sqrt(l*l+c*c*u*u),n=c*l*u/Math.sqrt(l*l+c*c*u*u)):(t=-c*l/Math.sqrt(l*l+c*c*u*u),n=-c*l*u/Math.sqrt(l*l+c*c*u*u)),{x:t+o.x,y:n+o.y}}function nS(e){var t,n=e.point,r=e.beforeNode,i=e.afterNode,o=n.x-r.x,a=n.y-r.y,s=r.rx,u=r.ry,c=Math.sqrt((s-Math.abs(o))*(s-Math.abs(o))+a*a)/Math.sqrt(s*s+u*u),l=i.rx,p=i.ry,f=Math.sqrt((l*l+p*p)*c*c*(l*l/(l*l+p*p))),d=f*(p/l);return t=a>0?d:-d,{x:(o>=0?l-f:f-l)+i.x,y:t+i.y}}K_.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.HTML_NODE="html-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(q_||(q_={}));var rS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iS=function(){return iS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iS.apply(this,arguments)},oS=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},aS=sm.LogicFlowUtil.StepDrag,sS=function(e){function t(t){var n=e.call(this)||this;return n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,i=n.nodeModel,o=i.x,a=i.y;n.nodeModel.x=o+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,i=e.width,o=e.height,a=e.pct,s=void 0===a?1:a,u={width:i,height:o};switch(t){case 0:u.width=i-n*s,u.height=o-r*s;break;case 1:u.width=i+n*s,u.height=o-r*s;break;case 2:u.width=i+n,u.height=o+r*s;break;case 3:u.width=i-n*s,u.height=o+r*s}return u},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,i=n.nodeModel,o=i.id,a=i.x,s=i.y,u=i.width,c=i.height,l=i.radius,p=n.index,f=n.getResize({index:p,deltaX:t,deltaY:r,width:u,height:c,pct:1}),d=n.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,m=d.maxHeight;if(f.width<h||f.width>v||f.height<y||f.height>m)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.width=f.width,n.nodeModel.height=f.height,n.nodeModel.setProperties({nodeSize:{width:f.width,height:f.height}});var g,b=n.getNodeEdges(o),x={x:a,y:s,width:u,height:c,radius:l},w={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l},E={point:"",beforeNode:x,afterNode:w};b.sourceEdges.forEach((function(e){E.point=e.startPoint,g=eS(E),e.updateStartPoint(g)})),b.targetEdges.forEach((function(e){E.point=e.endPoint,g=eS(E),e.updateEndPoint(g)})),n.eventEmit({beforeNode:x,afterNode:w})}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,i=n.nodeModel,o=i.id,a=i.rx,s=i.ry,u=i.x,c=i.y,l=n.index,p=a,f=s,d=n.getResize({index:l,deltaX:t,deltaY:r,width:p,height:f,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,m=h.maxWidth,g=h.maxHeight;if(d.width<y/2||d.width>m/2||d.height<v/2||d.height>g/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+t/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var b,x=n.getNodeEdges(o),w={x:u,y:c},E={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},_={point:{},beforeNode:w,afterNode:E};x.sourceEdges.forEach((function(e){_.point=e.startPoint,b=tS(_),e.updateStartPoint(b)})),x.targetEdges.forEach((function(e){_.point=e.endPoint,b=tS(_),e.updateEndPoint(b)})),n.eventEmit({beforeNode:iS(iS({},w),{rx:a,ry:s}),afterNode:E})}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,i=n.nodeModel,o=i.id,a=i.rx,s=i.ry,u=i.x,c=i.y,l=n.index,p=a,f=s,d=n.getResize({index:l,deltaX:t,deltaY:r,width:p,height:f,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,m=h.maxWidth,g=h.maxHeight;if(d.width<y/2||d.width>m/2||d.height<v/2||d.height>g/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+t/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var b,x={x:u,y:c,rx:a,ry:s},w={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},E={point:{},beforeNode:x,afterNode:w},_=n.getNodeEdges(o);_.sourceEdges.forEach((function(e){E.point=e.startPoint,b=nS(E),e.updateStartPoint(b)})),_.targetEdges.forEach((function(e){E.point=e.endPoint,b=nS(E),e.updateEndPoint(b)})),n.eventEmit({beforeNode:x,afterNode:w})}},n.eventEmit=function(e){var t=e.beforeNode,r=e.afterNode,i=n.nodeModel,o=i.id,a=i.modelType,s=i.type,u=iS({id:o,modelType:a,type:s},t),c=iS({id:o,modelType:a,type:s},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:c})},n.onDraging=function(e){var t,r=e.deltaX,i=e.deltaY,o=n.graphModel.transformModel,a=n.nodeModel.modelType;r=(t=oS(o.fixDeltaXY(r,i),2))[0],i=t[1],a===q_.RECT_NODE||a===q_.HTML_NODE?n.updateRect({deltaX:r,deltaY:i}):a===q_.ELLIPSE_NODE?n.updateEllipse({deltaX:r,deltaY:i}):a===q_.DIAMOND_NODE&&n.updateDiamond({deltaX:r,deltaY:i})},n.onDragEnd=function(){var e=n.graphModel.gridSize,t=void 0===e?1:e,r=t*Math.round(n.nodeModel.x/t),i=t*Math.round(n.nodeModel.y/t);n.nodeModel.moveTo(r,i)},n.index=t.index,n.nodeModel=t.model,n.graphModel=t.graphModel,n.state={},n.dragHandler=new aS({onDraging:n.onDraging,onDragEnd:n.onDragEnd,step:1}),n}return rS(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel.edges,n=[],r=[],i=0;i<t.length;i++){var o=t[i];o.sourceNodeId===e?n.push(o):t[i].targetNodeId===e&&r.push(o)}return{sourceEdges:n,targetEdges:r}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.index,i=e.model.getControlPointStyle();return j_("g",{className:"lf-resize-control-"+r},j_(K_,iS({className:"lf-node-control"},{x:t,y:n},i,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(M_),uS=sS,cS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lS=function(){return lS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lS.apply(this,arguments)},pS=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return cS(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.model,n=e.graphModel,r=t.x,i=t.y,o=t.width,a=t.height,s={minX:r-o/2,minY:i-a/2,maxX:r+o/2,maxY:i+a/2},u=s.minX,c=s.minY,l=s.maxX,p=s.maxY;return[{x:u,y:c},{x:l,y:c},{x:l,y:p},{x:u,y:p}].map((function(e,r){return j_(uS,lS({index:r},e,{model:t,graphModel:n}))}))},t.prototype.getGroupSolid=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,i=e.height,o=e.getResizeOutlineStyle();return j_(K_,lS({fill:"none"},o,{x:t,y:n,width:r,height:i}))},t.prototype.render=function(){return j_("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(M_),fS=pS,dS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hS=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.properties.nodeSize;return i&&(r.width=i.width,r.height=i.height),r}return dS(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(e,t){console.log(e,t)},t}(sm.RectNodeModel),yS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dS(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,sm.h)(fS,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,sm.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")},t}(sm.RectNode),vS={type:"rect",view:yS,model:hS},mS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=(function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.properties.nodeSize;return i&&(r.rx=i.rx,r.ry=i.ry),r}mS(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(sm.EllipseNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}mS(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,sm.h)(fS,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model,n=e.graphModel.editConfigModel.isSilentMode;return(0,sm.h)("g",null,this.getResizeShape(),t.isSelected&&!n?this.getControlGroup():"")}}(sm.EllipseNode),function(){return gS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gS.apply(this,arguments)});function bS(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,i=void 0===r?1:r,o=e.strokeOpacity,a=void 0===o?1:o,s=e.fill,u=void 0===s?"transparent":s,c=e.stroke,l=void 0===c?"#000":c,p=e.points,f=e.className,d={fill:u,fillOpacity:n,strokeWidth:i,stroke:l,strokeOpacity:a,points:"",className:void 0===f?"lf-basic-shape":f};return d.points=p.map((function(e){return e.join(",")})).join(" "),(0,sm.h)("polygon",gS({},d))}var xS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wS=function(){return wS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wS.apply(this,arguments)},ES=(function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.properties.nodeSize;return i&&(r.rx=i.rx,r.ry=i.ry),r}xS(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(sm.DiamondNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xS(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,sm.h)(fS,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return(0,sm.h)("g",null,(0,sm.h)(bS,wS({},n,{points:t})))},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,sm.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(sm.DiamondNode),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),_S=(function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.properties.nodeSize;return i&&(r.width=i.width,r.height=i.height),r}ES(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(sm.HtmlNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ES(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,sm.h)(fS,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,sm.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(sm.HtmlNode),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),SS=function(){return SS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},SS.apply(this,arguments)},OS=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},PS=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(OS(arguments[t]));return e},kS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.unfoldedWidth=500,t.unfoldedHight=300,t}return _S(t,e),t.prototype.initNodeData=function(t){var n=this;e.prototype.initNodeData.call(this,t);var r=[];Array.isArray(t.children)&&(r=t.children),this.children=new Set(r),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},t.prototype.getResizeOutlineStyle=function(){var t=e.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},t.prototype.foldGroup=function(e){var t=this;this.setProperty("isFolded",e),this.isFolded=e,e?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var i=t.graphModel.getElement(r);i.visible=!e,n=n.concat(i.incoming.edges.concat(i.outgoing.edges))})),this.foldEdge(e,n)},t.prototype.getAnchorStyle=function(t){var n=e.prototype.getAnchorStyle.call(this,t);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},t.prototype.foldEdge=function(e,t){var n=this;t.forEach((function(t,r){var i=t.id,o=t.sourceNodeId,a=t.targetNodeId,s=t.startPoint,u=t.endPoint,c=t.type,l=t.properties,p=t.text,f={id:i+"__"+r,sourceNodeId:o,targetNodeId:a,startPoint:s,endPoint:u,type:c,properties:l,text:null===p||void 0===p?void 0:p.value};t.virtual&&n.graphModel.deleteEdgeById(t.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(o);h||(h=n.graphModel.getNodeModelById(o)),e&&!1!==t.visible&&(n.children.has(o)||n.id===o?(f.startPoint=void 0,f.sourceNodeId=n.id):(f.endPoint=void 0,f.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(f),t.visible=!1),e||!1!==t.visible||(d&&d.isGroup&&d.isFolded?(f.targetNodeId=d.id,f.endPoint=void 0,n.createVirtualEdge(f)):h&&h.isGroup&&h.isFolded?(f.sourceNodeId=h.id,f.startPoint=void 0,n.createVirtualEdge(f)):t.visible=!0)}))},t.prototype.createVirtualEdge=function(e){e.pointsList=void 0;var t=this.graphModel.addEdge(e);t.virtual=!0,t.text.editable=!1,t.isFoldedEdge=!0},t.prototype.isInRange=function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return t>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&i<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return{x:t>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&i<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(e){this.setProperty("groupAddable",e)},t.prototype.addChild=function(e){this.children.add(e)},t.prototype.removeChild=function(e){this.children.delete(e)},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var t=e.prototype.getData.call(this);t.children=PS(this.children);var n=t.properties;return delete n.groupAddable,delete n.isFolded,t},t.prototype.getHistoryData=function(){var t=e.prototype.getData.call(this);t.children=PS(this.children);var n=t.properties;return delete n.groupAddable,n.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHight/2-this.foldedHeight/2),t},t.prototype.isAllowAppendIn=function(e){return!0},t}(vS.model),jS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _S(t,e),t.prototype.getControlGroup=function(){var t=this.props.model,n=t.resizable,r=t.properties;return n&&!r.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddedableShape=function(){var e=this.props.model,t=e.width,n=e.height,r=e.x,i=e.y,o=e.radius;if(!e.properties.groupAddable)return null;var a=this.props.model.getNodeStyle().strokeWidth,s=this.props.model.getAddableOutlineStyle(),u=t+a+8,c=n+a+8;return(0,sm.h)("rect",SS(SS({},s),{width:u,height:c,x:r-u/2,y:i-c/2,rx:o,ry:o}))},t.prototype.getFoldIcon=function(){var e=this.props.model,t=e.x-e.width/2+5,n=e.y-e.height/2+5;if(!e.foldable)return null;var r=(0,sm.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:e.properties.isFolded?"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" M"+(t+7)+","+(n+2)+" "+(t+7)+","+(n+10):"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" "});return(0,sm.h)("g",{},[(0,sm.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e.x-e.width/2+5,y:e.y-e.height/2+5,onClick:function(){e.foldGroup(!e.properties.isFolded)}}),r])},t.prototype.getResizeShape=function(){return(0,sm.h)("g",{},[this.getAddedableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t}(vS.view),CS={type:"group",view:jS,model:kS},TS=(function(){function e(e){var t=this,n=e.lf;this.nodeGroupMap=new Map,this.graphRendered=function(e){e&&e.nodes&&e.nodes.forEach((function(e){e.children&&e.children.forEach((function(n){t.nodeGroupMap.set(n,e.id)}))}))},this.appendNodeToGroup=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);if(r){var i=t.lf.getNodeModelById(r);i.removeChild(n.id),t.nodeGroupMap.delete(n.id),i.setAllowAppendChild(!1)}var o=t.lf.getNodeModelById(n.id).getBounds(),a=t.getGroup(o);a&&(a.isAllowAppendIn(n)?n.id!==a.id?(a.addChild(n.id),t.nodeGroupMap.set(n.id,a.id),a.setAllowAppendChild(!1)):n.children&&n.children.length>0&&n.children.forEach((function(e){t.nodeGroupMap.set(e,n.id)})):t.lf.emit("group:not-allowed",{group:a.getData(),node:n}))},this.deleteGroupChild=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);r&&(t.lf.getNodeModelById(r).removeChild(n.id),t.nodeGroupMap.delete(n.id))},this.setActiveGroup=function(e){var n=e.data,r=t.lf.getNodeModelById(n.id),i=r.getBounds(),o=t.getGroup(i);(t.activeGroup&&t.activeGroup.setAllowAppendChild(!1),!o||r.isGroup&&o.id===n.id)||o.isAllowAppendIn(n)&&(t.activeGroup=o,t.activeGroup.setAllowAppendChild(!0))},n.register(CS),this.lf=n,n.graphModel.addNodeMoveRules((function(e,r,i){if(e.isGroup){var o=t.getNodeAllChild(e);return n.graphModel.moveNodes(o,r,i,!0),!0}var a=n.getNodeModelById(t.nodeGroupMap.get(e.id));if(a&&a.isRestrict){var s=e.getBounds(),u=s.x1,c=s.y1,l=s.x2,p=s.y2;return a.isAllowMoveTo({x1:u+r,y1:c+i,x2:l+r,y2:p+i})}return!0})),n.graphModel.group=this,n.on("node:add",this.appendNodeToGroup),n.on("node:delete",this.deleteGroupChild),n.on("node:drop",this.appendNodeToGroup),n.on("node:dnd-drag",this.setActiveGroup),n.on("node:drag",this.setActiveGroup),n.on("graph:rendered",this.graphRendered)}e.prototype.getNodeAllChild=function(e){var t=this,n=[];return e.children&&e.children.forEach((function(e){n.push(e);var r=t.lf.getNodeModelById(e);r.isGroup&&(n=n.concat(t.getNodeAllChild(r)))})),n},e.prototype.getGroup=function(e){for(var t=this.lf.graphModel.nodes,n=0;n<t.length;n++){var r=t[n];if(r.isGroup&&r.isInRange(e))return r}},e.prototype.getNodeGroup=function(e){var t=this.nodeGroupMap.get(e);if(t)return this.lf.getNodeModelById(t)},e.pluginName="group"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}),MS=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(TS(arguments[t]));return e},AS=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){return{routeId:e.routeId,name:e.name,elements:e.elements,type:e.type,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){n.get(e.sourceNodeId).nextNodes.push(e.targetNodeId)}));var i=[];return r.forEach((function(t){i=i.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(i)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=MS(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var i=[],o=0;o<e.nextNodes.length;o++){var a=t.get(e.nextNodes[o]),s=void 0,u=r.indexOf(a.id);s=-1!==u?[MS(r.slice(u),[a.id])]:this.findPathElements(a,t,MS(r)),i=i.concat(s)}return i},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var i=t.getNewId("path"),o=t.getNewId("\u8def\u5f84"),a=t.isLoopPath(e),s=e.join(",");r.has(s)||(r.add(s),n.push({routeId:i,name:o,elements:e,type:a,weight:0,similarElement:""}))}));var i=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<i.length;n++){var r=i[n],o=t.similar2Path(MS(e.elements),MS(r.elements));o>e.weight&&r.weight<=o&&(e.weight=o,e.similarElement=r,o===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=o))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();for(var i=e.shift(),o=t.shift();void 0!==i&&void 0!==o;)i===o?(n++,i=e.shift(),o=t.shift()):i<o?i=e.shift():i>o&&(o=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+zw()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="flowPath"}(),function(){return AS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},AS.apply(this,arguments)}),NS=-1,DS=0,RS=1,IS=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.trunk=[],n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=this,r=[];t.forEach((function(e){var t=e.elements;t.length>r.length?r=t:t.length===r.length&&JSON.stringify(t)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var i=this.formatData(e),o={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],i,o,a,1);this.lf.graphModel.graphDataToModel(o)},e.prototype.setNodePosition=function(e,t,n,r,i){var o=this,a=t[e],s=a.text,u=a.type,c=a.next,l=a.properties,p=160*r+40,f=120*i,d={id:e,x:p,text:s,y:f,type:u,properties:l};return s&&"object"===typeof s&&(d.text=AS(AS({},s),{x:p+s.x,y:f+s.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),c&&c.length>0&&c.forEach((function(i){if(!t[i.nodeId].isFixed){var a=o.getLevelHeight(r+1);o.addLevelHeight(r,1),o.setNodePosition(i.nodeId,t,n,r+1,a+1)}n.edges.push(AS({id:i.edgeId,type:i.edgeType,sourceNodeId:e,targetNodeId:i.nodeId,properties:i.properties,text:i.text},o.getEdgeDataPoints(e,i.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),i=this.getShape(e),o=i.width,a=i.height,s=this.getShape(t),u=s.width,c=s.height,l=this.getRelativePosition(n,r),p={x:n.x,y:n.y},f={x:r.x,y:r.y};switch(l){case DS:p.x=n.x+o/2,f.x=r.x-u/2;break;case NS:p.y=n.y+a/2,f.x=r.x-u/2;break;case RS:p.x=n.x+o/2,f.y=r.y+c/2}return{startPoint:p,endPoint:f}},e.prototype.getRelativePosition=function(e,t){var n=e.y,r=t.y;return n<r?-1:n===r?0:1},e.prototype.getShape=function(e){var t=this.lf.getNodeModelById(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,i=t.text,o=t.x,a=t.y;return i&&"object"===typeof i&&(i.x=i.x-o,i.y=i.y-a),e[t.id]={type:n,properties:r,text:i,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,i=e.id,o=e.properties,a=e.text,s=a;"object"===typeof a&&(s=a.value),t[n].next.push({edgeId:i,nodeId:r,edgeType:e.type,properties:o,text:s}),t[r].prev.push({edgeId:i,nodeId:n,properties:o,text:s})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0},e.pluginName="AutoLayout"}(),function(){return IS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},IS.apply(this,arguments)}),LS=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},BS=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(LS(arguments[t]));return e},FS=function(e,t){var n=[],r=[];return function e(r,i,o){void 0===o&&(o=null),o&&i.unshift.apply(i,BS(t.getEdgeModels({sourceNodeId:r.id,targetNodeId:o.id}).map((function(e){return e.id})))),i.includes(r.id)?n.push(i):(i.unshift(r.id),r.incoming.nodes.length?r.incoming.nodes.forEach((function(t){e(t,i.slice(),r)})):n.push(i))}(e,[]),function e(n,i,o){void 0===o&&(o=null),o&&i.push.apply(i,BS(t.getEdgeModels({sourceNodeId:o.id,targetNodeId:n.id}).map((function(e){return e.id})))),i.includes(n.id)?r.push(i):(i.push(n.id),n.outgoing.nodes.length?n.outgoing.nodes.forEach((function(t){e(t,i.slice(),n)})):r.push(i))}(e,[]),BS(new Set(BS(n.flat(),r.flat())))},zS=(function(){function e(e){var t=e.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=t}e.prototype.setMode=function(e){this.mode=e},e.prototype.setManual=function(e){this.manual=e},e.prototype.highlightSingle=function(e){var t=this.lf.getModelById(e);"node"===t.BaseType?t.updateStyles(this.tempStyles[e]):"edge"===t.BaseType&&(t.updateStyles(this.tempStyles[e]),t.sourceNode.updateStyles(this.tempStyles[t.sourceNode.id]),t.targetNode.updateStyles(this.tempStyles[t.targetNode.id]))},e.prototype.highlightPath=function(e){var t=this,n=function(e,t){var n=t.getModelById(e);return FS("node"===n.BaseType?n:n.targetNode,t)}(e,this.lf);n.forEach((function(e){t.lf.getModelById(e).updateStyles(t.tempStyles[e])}))},e.prototype.highlight=function(e,t){var n=this;(void 0===t&&(t=this.mode),this.manual)||(Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach((function(e){var t="node"===e.BaseType?e.getNodeStyle():e.getEdgeStyle();n.tempStyles[e.id]=IS({},t),e.setStyles({opacity:.1})})),{single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)}[t](e))},e.prototype.restoreHighlight=function(){var e=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach((function(t){var n,r=null!==(n=e.tempStyles[t.id])&&void 0!==n?n:{};t.updateStyles(IS({},r))})),this.tempStyles={})},e.prototype.render=function(e,t){var n=this;this.lf.on("node:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("edge:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},e.prototype.destroy=function(){},e.pluginName="highlight"}(),function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"getNodeStyle",value:function(){var e=ze(h(n.prototype),"getNodeStyle",this).call(this);return e.stroke="blue",e.strokeDasharray="3 3",e}},{key:"initNodeData",value:function(e){ze(h(n.prototype),"initNodeData",this).call(this,e),this.width=100,this.height=80}}]),n}(rE)),VS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(iE),HS={type:"userTask",view:VS,model:zS},$S=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"getNodeStyle",value:function(){var e=ze(h(n.prototype),"getNodeStyle",this).call(this);return e.stroke="green",e.r=40,e}},{key:"initNodeData",value:function(e){ze(h(n.prototype),"initNodeData",this).call(this,e),this.r=30}},{key:"getConnectedTargetRules",value:function(){var e=ze(h(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),e}}]),n}(Hw),GS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}($w),US={type:"startEvent",view:GS,model:$S},WS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"getNodeStyle",value:function(){var e=ze(h(n.prototype),"getNodeStyle",this).call(this);return e.stroke="red",e}},{key:"initNodeData",value:function(e){ze(h(n.prototype),"initNodeData",this).call(this,e),this.r=30}},{key:"getConnectedSourceRules",value:function(){var e=ze(h(n.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e,t,n,r){var i=!0;return e&&(i=!1),i}}),e}}]),n}(Xw),XS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(Zw),ZS={type:"endEvent",view:XS,model:WS},qS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"getNodeStyle",value:function(){var e=ze(h(n.prototype),"getNodeStyle",this).call(this);return e.stroke="orange",e}},{key:"initNodeData",value:function(e){ze(h(n.prototype),"initNodeData",this).call(this,e),this.rx=30,this.ry=30}}]),n}(Jw),YS=function(e){d(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(Qw),KS={type:"exclusiveGateway",view:YS,model:qS},JS={type:"sequenceFlow",view:dE,model:fE},QS=new vt.Z([32,32,1]);function eO(){return QS.next()}function tO(e,t){for(var n=0;n<t;n++)e+="  ";return e}function nO(e,t,n,r){var i="";if(e instanceof Array)for(var o=0,a=e.length;o<a;o++)i+=tO(n,r)+nO(e[o],t,n,r+1);else if("object"==typeof e){var s=!1;for(var u in i+=tO(n,r)+"<"+t,e)"-"==u.charAt(0)?i+=" "+u.substr(1)+'="'+e[u].toString()+'"':s=!0;if(i+=s?">":" />",s){for(var u in e)"#text"==u?i+=e[u]:"#cdata"==u?i+="<![CDATA["+e[u]+"]]>":"-"!=u.charAt(0)&&(i+=nO(e[u],u,n,r+1));i+=tO(n,r)+"</"+t+">"}}else i+=tO(n,r)+"<"+t+">"+e.toString()+"</"+t+">";return i}var rO=function(){};(rO.ObjTree=function(){return this}).VERSION="0.23",rO.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',rO.ObjTree.prototype.attr_prefix="-",rO.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},rO.ObjTree.prototype.parseHTTP=function(e,t,n){var r,i={};for(var o in t)i[o]=t[o];if(i.method||("undefined"==typeof i.postBody&&"undefined"==typeof i.postbody&&"undefined"==typeof i.parameters?i.method="get":i.method="post"),n){i.asynchronous=!0;var a=this,s=n,u=i.onComplete;i.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),s(t,e),u&&u(e)}}else i.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)i.uri=e,(c=new HTTP.Request(i))&&(r=c.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var c;(c=new Ajax.Request(e,i))&&(r=c.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},rO.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},rO.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){if("string"==typeof(a=e.attributes[r].nodeName))(s=e.attributes[r].nodeValue)&&("undefined"==typeof n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],s))}}if(e.childNodes&&e.childNodes.length){var i=!0;t&&(i=!1);for(r=0;r<e.childNodes.length&&i;r++){var o=e.childNodes[r].nodeType;3!=o&&4!=o&&(i=!1)}if(i){t||(t="");for(r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(r=0;r<e.childNodes.length;r++){var a,s;if("string"==typeof(a=e.childNodes[r].nodeName))(s=this.parseElement(e.childNodes[r]))&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],s))}}}return t}},rO.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},rO.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},rO.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];i.charAt(0)!=this.attr_prefix?"undefined"==typeof o||null==o?n[n.length]="<"+i+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(i,o):n[n.length]="object"==typeof o?this.hash_to_xml(i,o):this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),s=n.join("");return"undefined"==typeof e||null==e||(s=n.length>0?s.match(/\n/)?"<"+e+a+">\n"+s+"</"+e+">\n":"<"+e+a+">"+s+"</"+e+">\n":"<"+e+a+" />\n"),s},rO.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"undefined"==typeof i||null==i?n[n.length]="<"+e+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(e,i):n[n.length]="object"==typeof i?this.hash_to_xml(e,i):this.scalar_to_xml(e,i)}return n.join("")},rO.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},rO.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var iO,oO=40,aO=40,sO=40,uO=40,cO=40,lO=40,pO=100,fO=80,dO=100,hO=80,yO=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(Cr){i={error:Cr}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){e.START="startEvent",e.END="endEvent",e.GATEWAY="exclusiveGateway",e.USER="userTask",e.SYSTEM="serviceTask",e.FLOW="sequenceFlow"}(iO||(iO={}));var vO=["-name","-id","incoming","outgoing","-sourceRef","-targetRef"];function mO(e){var t={};return Object.entries(e).forEach((function(e){var n=yO(e,2),r=n[0],i=n[1];"object"!==typeof i?0===r.indexOf("-")?t[r]=i:t["-"+r]=i:t[r]=mO(i)})),t}function gO(e){var t={};return Object.entries(e).forEach((function(e){var n=yO(e,2),r=n[0],i=n[1];"string"===typeof i?0===r.indexOf("-")?t[r.substr(1)]=i:t[r]=i:t[r]="object"===typeof i?gO(i):i})),t}function bO(e){var t=[],n=[],r=e.definitions;if(r){var i=r.process;Object.keys(i).forEach((function(e){var o=i[e];if(-1===e.indexOf("-"))if(e===iO.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(wO(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(wO(r,e))}return n}(o,a)}else{var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var i=xO(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(i)}));else{var i=xO(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(i)}return r}(o,s,e))}}))}return{nodes:t,edges:n}}function xO(e,t,n){var r,i,o=Number(e["omgdc:Bounds"]["-x"]),a=Number(e["omgdc:Bounds"]["-y"]),s=n["-name"],u=EO.shapeConfigMap.get(t);if(u&&(o+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=yO(e,2),n=t[0],i=t[1];-1===vO.indexOf(n)&&(r||(r={}),r[n]=i)})),r&&(r=gO(r)),s&&(i={x:o,y:a,value:s},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["omgdc:Bounds"])){var c=e["bpmndi:BPMNLabel"]["omgdc:Bounds"];i.x=Number(c["-x"])+Number(c["-width"])/2,i.y=Number(c["-y"])+Number(c["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:o,y:a,properties:r};return i&&(l.text=i),l}function wO(e,t){var n,r,i=t["-name"];if(i){var o=e["bpmndi:BPMNLabel"]["omgdc:Bounds"],a=0;i.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:i,x:Number(o["-x"])+10*a/2,y:Number(o["-y"])+7}}Object.entries(t).forEach((function(e){var t=yO(e,2),n=t[0],i=t[1];-1===vO.indexOf(n)&&(r||(r={}),r[n]=i)})),r&&(r=gO(r));var s={id:t["-id"],type:iO.FLOW,pointsList:e["omgdi:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(s.text=n),s}var EO={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+eO()};!function(e,t){var n=new Map;t.nodes.forEach((function(t){var r,i={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(i["-name"]=t.text.value),t.properties){var o=mO(t.properties);Object.assign(i,o)}n.set(t.id,i),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(i):e[t.type]=[e[t.type],i]:e[t.type]=i}));var r=t.edges.map((function(e){var t,r,i=n.get(e.targetNodeId);i.incoming?Array.isArray(i.incoming)?i.incoming.push(e.id):i.incoming=[i.incoming,e.id]:i.incoming=e.id;var o=n.get(e.sourceNodeId);o.outgoing?Array.isArray(o.outgoing)?o.outgoing.push(e.id):o.outgoing=[o.outgoing,e.id]:o.outgoing=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var s=mO(e.properties);Object.assign(a,s)}return a}));e[iO.FLOW]=r}(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}})),i={"-id":n+"_di","-bpmnElement":n,"omgdi:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(i["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),i})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,i=80,o=e.x,a=e.y,s=EO.shapeConfigMap.get(e.type);s&&(r=s.width,i=s.height);var u={"-id":n+"_di","-bpmnElement":n,"omgdc:Bounds":{"-x":o-=r/2,"-y":a-=i/2,"-width":r,"-height":i}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"omgdc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(n,e),{definitions:{"-id":"Definitions_"+eO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:omgdc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:omgdi":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0",process:t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(e){if(e)return bO(e)}};EO.shapeConfigMap.set(iO.START,{width:oO,height:aO}),EO.shapeConfigMap.set(iO.END,{width:sO,height:uO}),EO.shapeConfigMap.set(iO.GATEWAY,{width:cO,height:lO}),EO.shapeConfigMap.set(iO.SYSTEM,{width:pO,height:fO}),EO.shapeConfigMap.set(iO.USER,{width:dO,height:hO});var _O,SO={pluginName:"bpmnXmlAdapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t,n=(t=e,(new rO.ObjTree).parseXML(t));return console.log("json: ",n),console.log("node",EO.adapterIn(n)),EO.adapterIn(n)},adapterXmlOut:function(e){return function(e){var t="";for(var n in e)t+=nO(e[n],n,"\t\n",0);return t}(EO.adapterOut(e))}},OO=function(){var e=(0,t.useRef)(),n=(0,t.useState)(!1),r=(0,s.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(null),u=(0,s.Z)(a,2),c=u[0],l=u[1];(0,t.useEffect)((function(){(_O=new(um())({container:e.current,stopScrollGraph:!0,plugins:[v_,kE,b_,PE,SO],height:957,width:1830,overlapMode:1,autoWrap:!0,metaKeyMultipleSelected:!0,keyboard:{enabled:!0},grid:{visible:!1,size:5},background:{backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2QwZDBkMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZDBkMGQwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=")',backgroundRepeat:"repeat"}})).render({nodes:[],edges:[]}),console.log("lfRef: ",_O),_O.batchRegister([HS,US,ZS,KS,JS]),o(!i)}),[]),(0,t.useEffect)((function(){_O.on("selection:selected,node:click,element:click,blank:click",(function(e){var t=e.data;o(!i),l(t)}))}),[]);return(0,Ce.jsxs)("div",{className:"lfBox",children:[_O&&(0,Ce.jsx)(Bw,{lf:_O}),(0,Ce.jsx)(cm,{moveNode:function(e,t){var n;null===(n=_O)||void 0===n||n.dnd.startDrag({type:e,text:t})}}),(0,Ce.jsx)("div",{className:"App",ref:e}),c&&(0,Ce.jsx)(lm,{activeNode:c})]})},PO={data:"\u6211\u662f\u8def\u7531\u7684\u53c2\u6570"},kO=function(){var e=(0,t.useState)(window.location.hash),n=(0,s.Z)(e,2),r=n[0],i=n[1];return(0,Ce.jsxs)(ke,{children:[(0,Ce.jsxs)("div",{style:{zIndex:3,width:"360px",position:"absolute",padding:5,top:20,right:20,display:"flex",justifyContent:"space-between",background:"rgba(0,0,0,0.7)"},children:[(0,Ce.jsx)(Xb,{type:"#/main"===r&&"primary",onClick:function(){i("#/main"),window.location.href="#/main"},children:"App"}),(0,Ce.jsx)(Xb,{type:"#/mainb"===r&&"primary",onClick:function(){i("#/mainb"),window.location.href="#/mainb"},children:"Bpp"}),(0,Ce.jsx)(Xb,{type:"#/mainc"===r&&"primary",onClick:function(){i("#/mainc"),window.location.href="#/mainc"},children:"Cpp"}),(0,Ce.jsx)(Xb,{type:"#/maind"===r&&"primary",onClick:function(){i("#/maind"),window.location.href="#/maind"},children:"Dpp"}),(0,Ce.jsx)(Xb,{type:"#/maine"===r&&"primary",onClick:function(){i("#/maine"),window.location.href="#/maine"},children:"Epp"}),(0,Ce.jsx)(Xb,{type:"#/mainf"===r&&"primary",onClick:function(){i("#/mainf"),window.location.href="#/mainf"},children:"Fpp"})]}),(0,Ce.jsxs)(Se,{children:[(0,Ce.jsx)(Ee,{path:"/main",element:(0,Ce.jsx)(ot,(0,a.Z)({},PO))}),(0,Ce.jsx)(Ee,{path:"/mainb",element:(0,Ce.jsx)(ct,{})}),(0,Ce.jsx)(Ee,{path:"/mainc",element:(0,Ce.jsx)(dt,{})}),(0,Ce.jsx)(Ee,{path:"/maind",element:(0,Ce.jsx)(am,{})}),(0,Ce.jsx)(Ee,{path:"/maine",element:(0,Ce.jsx)(et,{})}),(0,Ce.jsx)(Ee,{path:"/mainf",element:(0,Ce.jsx)(OO,{})}),(0,Ce.jsx)(Ee,{path:"/",element:(0,Ce.jsx)(we,{to:"/main"})})]})]})},jO=n(8687);function CO(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var TO="function"===typeof Symbol&&Symbol.observable||"@@observable",MO=function(){return Math.random().toString(36).substring(7).split("").join(".")},AO={INIT:"@@redux/INIT"+MO(),REPLACE:"@@redux/REPLACE"+MO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+MO()}};function NO(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function DO(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(CO(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(CO(1));return n(DO)(e,t)}if("function"!==typeof e)throw new Error(CO(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(CO(3));return o}function p(e){if("function"!==typeof e)throw new Error(CO(4));if(u)throw new Error(CO(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(CO(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!NO(e))throw new Error(CO(7));if("undefined"===typeof e.type)throw new Error(CO(8));if(u)throw new Error(CO(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(CO(10));i=e,f({type:AO.REPLACE})}function h(){var e,t=p;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(CO(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[TO]=function(){return this},e}return f({type:AO.INIT}),(r={dispatch:f,subscribe:p,getState:l,replaceReducer:d})[TO]=h,r}function RO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var IO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{num:1,data:{},c_data:{name:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_num":return e.num+=1,(0,a.Z)({},e);case"set_data":return e.data=(0,a.Z)({},t.payload),(0,a.Z)({},e);case"update_data":return e.c_data=(0,a.Z)({},t.payload),(0,a.Z)({},e);default:return(0,a.Z)({},e)}};function LO(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var BO=LO();BO.withExtraArgument=LO;var FO=DO(IO,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(CO(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=RO.apply(void 0,o)(n.dispatch),(0,a.Z)((0,a.Z)({},n),{},{dispatch:r})}}}(BO)),zO=FO;i.createRoot(document.getElementById("root")).render((0,Ce.jsx)(jO.zt,{store:zO,children:(0,Ce.jsx)(kO,{})})),o()}()}();
//# sourceMappingURL=main.8534f84c.js.map